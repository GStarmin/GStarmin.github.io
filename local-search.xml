<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>WSLä¸‹æ·»åŠ ç³»ç»Ÿè°ƒç”¨</title>
    <link href="/2023/06/05/WSL%E4%B8%8B%E6%B7%BB%E5%8A%A0%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8/"/>
    <url>/2023/06/05/WSL%E4%B8%8B%E6%B7%BB%E5%8A%A0%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="wslä¸‹æ·»åŠ ç³»ç»Ÿè°ƒç”¨">WSLä¸‹æ·»åŠ ç³»ç»Ÿè°ƒç”¨</h1><p>ç”±äºWSLçš„å†…æ ¸æ˜¯åœ¨åŸç‰ˆåŸºç¡€ä¹‹ä¸Šæœ‰åšä¿®æ”¹çš„ï¼Œæ‰€ä»¥è¦å…ˆå»ä¸‹è½½å†…æ ¸çš„æºç ã€‚https://github.com/microsoft/WSL2-Linux-Kernel.</p><p>æŸ¥çœ‹å½“å‰ç³»ç»Ÿå†…æ ¸ç‰ˆæœ¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">uname</span> -r<br></code></pre></td></tr></table></figure><p>ç„¶åå»æºç ä¸­æ‰¾åˆ°å¯¹åº”çš„ç‰ˆæœ¬å¹¶ä¸‹è½½ï¼Œä¸‹è½½å®Œæˆåè§£å‹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">tar -zvxf linux-msft-wsl-5.15.90.1.tar.gz<br><span class="hljs-built_in">cd</span> WSL2-Linux-Kernel-linux-msft-wsl-5.15.90.1<br></code></pre></td></tr></table></figure><h2 id="æ–°å¢ç³»ç»Ÿè°ƒç”¨å·">æ–°å¢ç³»ç»Ÿè°ƒç”¨å·</h2><p>åœ¨arch/x86/include/generated/uapi/asm/unistd_64.hä¸­æ·»åŠ ç³»ç»Ÿè°ƒç”¨å·</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> __NR_my_func 335</span><br></code></pre></td></tr></table></figure><p>æ³¨æ„è¿™é‡Œçš„ç³»ç»Ÿè°ƒç”¨å·å¯ä»¥éšä¾¿å–ï¼Œä½†ä¸€å®šè¦æ˜¯å”¯ä¸€çš„ï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚<code>my_func</code>æ˜¯ç³»ç»Ÿè°ƒç”¨åã€‚</p><h2 id="ä¿®æ”¹ç³»ç»Ÿè°ƒç”¨å‘é‡è¡¨">ä¿®æ”¹ç³»ç»Ÿè°ƒç”¨å‘é‡è¡¨</h2><p>ä¿®æ”¹arch/x86/entry/syscalls/syscall_64.tblæ–‡ä»¶</p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">335 </span><span class="hljs-number">64</span> my_oper sys_my_func<br></code></pre></td></tr></table></figure><p>æ­¤å¤„çš„ç³»ç»Ÿè°ƒç”¨å·å¿…é¡»ä¸ä¹‹å‰å£°æ˜çš„ä¿æŒä¸€è‡´ï¼Œ<code>my_func</code>ä¸ºè°ƒç”¨å‡½æ•°åï¼Œ<code>sys_my_func</code>ä¸ºå®é™…è°ƒç”¨çš„å‡½æ•°ã€‚</p><h2 id="æ·»åŠ ç³»ç»Ÿè°ƒç”¨çš„å£°æ˜">æ·»åŠ ç³»ç»Ÿè°ƒç”¨çš„å£°æ˜</h2><p>åœ¨include/linux/syscalls.hä¸­æ·»åŠ </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C">asmlinkage <span class="hljs-type">long</span> <span class="hljs-title function_">sys_my_func</span><span class="hljs-params">(<span class="hljs-type">int</span> count)</span>;<br></code></pre></td></tr></table></figure><p>å…¶ä¸­<code>asmlinkage</code>æ˜¯ä¸€ä¸ªå®ï¼Œç”¨äºå£°æ˜å‡½æ•°çš„è°ƒç”¨æ–¹å¼ï¼Œ<code>long</code>æ˜¯è¿”å›å€¼ç±»å‹ï¼Œ<code>sys_my_func</code>ä¸ºå‡½æ•°åï¼Œ<code>int count</code>ä¸ºå‡½æ•°å‚æ•°ã€‚</p><h2 id="æ·»åŠ å…·ä½“å®ç°">æ·»åŠ å…·ä½“å®ç°</h2><p>åœ¨kernel/sys.cä¸­æ·»åŠ </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs C"><span class="hljs-type">long</span> <span class="hljs-title function_">my_oper</span><span class="hljs-params">(<span class="hljs-type">int</span> *result, <span class="hljs-type">int</span> num1, <span class="hljs-type">int</span> num2, <span class="hljs-type">char</span> *op)</span><br>&#123;<br><span class="hljs-keyword">if</span>(op)<br>&#123;<br><span class="hljs-keyword">if</span>(*op == <span class="hljs-string">&#x27;+&#x27;</span>)<br>*result = num1 + num2;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(*op == <span class="hljs-string">&#x27;-&#x27;</span>)<br>*result = num1 - num2;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(*op == <span class="hljs-string">&#x27;*&#x27;</span>)<br>*result = num1 * num2;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(*op == <span class="hljs-string">&#x27;\\&#x27;</span>)<br>&#123;<br><span class="hljs-keyword">if</span>(num2 != <span class="hljs-number">0</span>)<br>*result = num1 / num2;<br><span class="hljs-keyword">else</span><br>printk(<span class="hljs-string">&quot;divided number can&#x27;t bere zero.\n&quot;</span>);<br>&#125;<br>&#125;<br><span class="hljs-keyword">else</span><br>printk(<span class="hljs-string">&quot;operator is empty.\n&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><br>SYSCALL_DEFINE1(my_func, <span class="hljs-type">int</span>, count)<br>&#123;<br>printk(<span class="hljs-string">&quot;count is %d\n&quot;</span>, count);<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">timespec64</span> <span class="hljs-title">tstart</span>, <span class="hljs-title">tend</span>;</span><br>ktime_get_real_ts64(&amp;tstart);<br><span class="hljs-type">int</span> i, result, times = count / <span class="hljs-number">4</span>;<br><span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>; i &lt; times; ++i)<br>&#123;<br><span class="hljs-type">char</span> op_add = <span class="hljs-string">&#x27;+&#x27;</span>;<br>my_oper(&amp;result, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>, &amp;op_add);<br>&#125;<br>printk(<span class="hljs-string">&quot;my_func op_add is ok. op_add count is :%d&quot;</span>, i);<br><br><span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>; i &lt; times; ++i)<br>&#123;<br><span class="hljs-type">char</span> op_sub = <span class="hljs-string">&#x27;-&#x27;</span>;<br>my_oper(&amp;result, <span class="hljs-number">20</span>, <span class="hljs-number">10</span>, &amp;op_sub);<br>&#125;<br>printk(<span class="hljs-string">&quot;my_func op_sub is ok. op_sub count is :%d&quot;</span>, i);<br><br><span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>; i &lt; times; ++i)<br>&#123;<br><span class="hljs-type">char</span> op_mul = <span class="hljs-string">&#x27;*&#x27;</span>;<br>my_oper(&amp;result, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>, &amp;op_mul);<br>&#125;<br>printk(<span class="hljs-string">&quot;my_func op_mul is ok. op_mul count is :%d&quot;</span>, i);<br><br><span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>; i &lt; times; ++i)<br>&#123;<br><span class="hljs-type">char</span> op_div = <span class="hljs-string">&#x27;\\&#x27;</span>;<br>my_oper(&amp;result, <span class="hljs-number">20</span>, <span class="hljs-number">10</span>, &amp;op_div);<br>&#125;<br>printk(<span class="hljs-string">&quot;my_func op_div is ok. op_div count is :%d&quot;</span>, i);<br>ktime_get_real_ts64(&amp;tend);<br>printk(<span class="hljs-string">&quot;my_func running time is %ld usec/n&quot;</span>, <span class="hljs-number">1000000000</span> * (tend.tv_sec-tstart.tv_sec) + (tend.tv_nsec-tstart.tv_nsec));<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>DEFINEåé¢çš„æ•°å­—æ˜¯ä¼ å…¥çš„å‚æ•°ä¸ªæ•°,è¿™é‡Œæ˜¯1ä¸ªï¼Œæ‰€ä»¥æ˜¯1ã€‚<code>my_func</code>æ˜¯ç³»ç»Ÿè°ƒç”¨åï¼Œ<code>count</code>æ˜¯ä¼ å…¥çš„å‚æ•°ã€‚</p><p>æ³¨æ„ï¼šå‡½æ•°å®ç°ä¸è¦å†™åœ¨æ¡ä»¶ç¼–è¯‘çš„èŒƒå›´å†…ã€‚</p><h2 id="ç¼–è¯‘å†…æ ¸">ç¼–è¯‘å†…æ ¸</h2><p>ç¼–è¯‘å†…æ ¸éœ€è¦.configé…ç½®æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡<code>make menuconfig</code>ç”Ÿæˆï¼Œä¹Ÿå¯ä»¥ç›´æ¥å¤åˆ¶ç°æœ‰çš„.configæ–‡ä»¶ã€‚è¿™é‡Œä½¿ç”¨<code>make menuconfig</code>ç”Ÿæˆã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">make menuconfig<br></code></pre></td></tr></table></figure><p><img src="/img/Linux/make-menuconfig.png" /></p><p><code>make menuconfig</code>ä¼šæ‰“å¼€ä¸€ä¸ªé…ç½®ç•Œé¢ï¼Œè¿™é‡Œä¸éœ€è¦ä¿®æ”¹åˆ«çš„é…ç½®ï¼Œåªéœ€è¦ä¿®æ”¹å†…æ ¸ç‰ˆæœ¬å·ï¼Œä»¥ä¾¿ä¸ç°åœ¨çš„å†…æ ¸åŒºåˆ†å¼€ï¼Œç„¶åä¿å­˜é€€å‡ºã€‚</p><p>ç¼–è¯‘å†…æ ¸</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo make<br></code></pre></td></tr></table></figure><p>ç¼–è¯‘å®Œæˆåï¼Œç”Ÿæˆçš„å†…æ ¸æ–‡ä»¶åœ¨é¡¹ç›®ç›®å½•arch/x86/bootä¸‹é¢ï¼Œæ–‡ä»¶åä¸ºbzImageã€‚</p><h2 id="æ›¿æ¢å†…æ ¸">æ›¿æ¢å†…æ ¸</h2><p>å°†å†…æ ¸æ–‡ä»¶bzImageä»wslç³»ç»Ÿä¸­æ‹·è´å‡ºæ¥ï¼Œæ”¾åœ¨windowsæ–‡ä»¶ç³»ç»Ÿä¸­ä»»æ„è·¯å¾„ä¸‹ï¼Œä¾‹å¦‚C:_usr_kernel</p><p>ç„¶åè¿›å…¥C:.wslconfig çš„æ–‡ä»¶ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">[wsl2]<br>kernel=C:\\wsl_usr_kernel\\bzImage<br></code></pre></td></tr></table></figure><p>æ³¨æ„åŒåæ–œæ ï¼Œå¦åˆ™ä¸ç”Ÿæ•ˆã€‚ç„¶ååœ¨powershellä¸­æ‰§è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wsl --shutdown<br></code></pre></td></tr></table></figure><p>é‡å¯wslç³»ç»Ÿï¼ŒæŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">uname</span> -r<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°å†…æ ¸ç‰ˆæœ¬å·²ç»å˜æˆäº†æˆ‘ä»¬åˆšåˆšç¼–è¯‘çš„ç‰ˆæœ¬ã€‚</p><p>å¦‚æœè¦æ¢å¤åŸæ¥çš„å†…æ ¸ï¼Œåªéœ€è¦åˆ é™¤.wslconfigæ–‡ä»¶ï¼Œç„¶åæ‰§è¡Œ<code>wsl --shutdown</code>é‡å¯wslç³»ç»Ÿå³å¯ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¤§æ•°æ®æœŸæœ«å¤ä¹ </title>
    <link href="/2023/06/02/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/"/>
    <url>/2023/06/02/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="å¤§æ•°æ®æœŸæœ«å¤ä¹ ">å¤§æ•°æ®æœŸæœ«å¤ä¹ </h1><h2 id="ch1-intruction">Ch1 Intruction</h2><h3 id="what-is-big-data">What is big data?</h3><p><strong>Big data</strong> is used to describe a massive volume ofboth structured and unstructured data that is so large that it'sdifficult to process using traditional database and softwaretechniques.</p><p><strong>å¤§æ•°æ®</strong>ç”¨æ¥æè¿°å¤§é‡çš„ç»“æ„åŒ–å’Œéç»“æ„åŒ–çš„æ•°æ®ï¼Œè¿™äº›æ•°æ®éå¸¸å¤§ï¼Œéš¾ä»¥ç”¨ä¼ ç»Ÿçš„æ•°æ®åº“å’Œè½¯ä»¶æŠ€æœ¯æ¥å¤„ç†ã€‚</p><h3 id="the-4v-features-of-big-data">The 4V Features of big data</h3><p><img src="/img/å¤§æ•°æ®/4V-features.png" /></p><ul><li>Volume (Scale of Data)</li><li>Velocity (Data Stream)</li><li>Variety (Different types of data)</li><li>Veracity (Uncertainty, missing value)</li></ul><h3 id="what-is-data-mining">What is data mining?</h3><p><strong>Data mining</strong> consists of <strong>applying dataanalysis</strong> and <strong>discovery algorithms</strong> that, underacceptable computational efficiency limitations, produce a particularenumeration of patterns over the data.</p><p><strong>æ•°æ®æŒ–æ˜</strong>åŒ…æ‹¬<strong>åº”ç”¨æ•°æ®åˆ†æ</strong>å’Œ<strong>å‘ç°ç®—æ³•</strong>ï¼Œåœ¨å¯æ¥å—çš„è®¡ç®—æ•ˆç‡é™åˆ¶ä¸‹ï¼Œåœ¨æ•°æ®ä¸Šäº§ç”Ÿç‰¹å®šçš„æ¨¡å¼åˆ—ä¸¾ã€‚</p><h3 id="the-kdd-processcore-part">The KDD Process(core part)</h3><p><img src="/img/å¤§æ•°æ®/KDD-process.png" /></p><h3 id="the-main-tasks-of-data-mining">The main tasks of Datamining</h3><ul><li>Association Rule Mining(å…³è”è§„åˆ™æŒ–æ˜)</li><li>Cluster Analysis(èšç±»åˆ†æ)</li><li>Classification/Prediction(åˆ†ç±»/é¢„æµ‹)</li><li>Outlier Detection(å¼‚å¸¸ç‚¹æ£€æµ‹)</li></ul><h3id="the-relationship-between-data-minning-and-other-subjectse.g.-database">Therelationship between Data minning and other subjects(e.g. Database)</h3><p>Data mining is known as Knowledge Discovery in Database (KDD) in thefield of artificial intelligence, is also considered as a fundamentalstep in the process of knowledge discovery in database.</p><p>æ•°æ®æŒ–æ˜åœ¨äººå·¥æ™ºèƒ½é¢†åŸŸè¢«ç§°ä¸ºæ•°æ®åº“çŸ¥è¯†å‘ç°ï¼ˆKDDï¼‰ï¼Œä¹Ÿè¢«è®¤ä¸ºæ˜¯æ•°æ®åº“çŸ¥è¯†å‘ç°è¿‡ç¨‹ä¸­çš„ä¸€ä¸ªåŸºæœ¬æ­¥éª¤ã€‚</p><h3 id="the-challenges-of-big-data-mining">The challenges of big datamining</h3><ul><li>Curse of dimensionality(ç»´åº¦ç¾éš¾)</li><li>Storage cost</li><li>Query speed <!-- - Data Quality- Data Complexity- Data Privacy and Security- Scalability- Ethics(ä¼¦ç†å­¦)- interpretability --></li></ul><h2 id="ch2-foundations-of-data-mining">Ch2 Foundations of DataMining</h2><h3id="supervised-learningunsupervised-learningsemi-supervised-learning">Supervisedlearning/Unsupervised learning/Semi-supervised learning</h3><ul><li><strong>Supervised learning</strong>: targets to learn the mappingfunction or relationship between the features and the labels based onthe labeled data. Namely, <span class="math inline">\(ğ‘Œ=ğ¹(ğ‘‹|ğœƒ)\)</span>.(e.g. Classification, Prediction)</li><li><strong>Unsupervised learning</strong>: aims at learning theintrinsic structure from unlabeled data. (e.g. Clustering, Latent FactorLearning and Frequent Items Mining)</li><li><strong>Semi-supervised learning</strong>: can be regarded as theunsupervised learning with some constraints on labels, or the supervisedlearning with additional information on the distribution of data.</li></ul><h3 id="loss-function">LOSS FUNCTION</h3><p><img src="/img/å¤§æ•°æ®/ch2-lossfunction.png" /></p><p><span class="math inline">\(l_1\)</span> norm:</p><p><span class="math display">\[L(\beta) =\frac{1}{N}\sum\limits_{i =1}^{N}L(Y_i, F(X_i | \beta)) + \frac{\lambda}{2} || \beta||_2\]</span></p><p><span class="math inline">\(l_2\)</span> norm:</p><p><span class="math display">\[L(\beta) =\frac{1}{N}\sum\limits_{i =1}^{N}L(Y_i, F(X_i | \beta)) + \frac{\lambda}{2} || \beta||_1\]</span></p><p><span class="math inline">\(||A||_âˆ—\)</span> nuclear norm:</p><p><span class="math display">\[||A||_âˆ—=âˆ‘\limits_i{Ïƒ_i}(A).\]</span></p><h3 id="overfittingunderfitting-problem">Overfitting/Underfittingproblem</h3><p><strong>Reason</strong>?</p><p><strong>How to avoid overfitting</strong>?</p><h3 id="classfied-algorithms">Classfied Algorithms</h3><h4 id="decision-tree">Decision Tree</h4><ul><li>How to construct DT?</li><li>Attribute selection Criteria<ul><li>Information Gain</li><li>Information Gain Ratio</li><li>Gini index</li></ul></li></ul><h4 id="knn">KNN</h4><p><strong>Lazy Learning</strong>: Lazy Learning does not extract rulesor generalizations from a specific model. Instead, it searches forhistorical instances that are similar to the testing instance and makesa prediction based on their output results. (LazyLearningå¹¶æ²¡æœ‰ä»ç‰¹å®šçš„æ¨¡å‹ä¸­æå–åŸºæœ¬è§„åˆ™æˆ–ä¸€èˆ¬æƒ…å†µï¼Œè€Œæ˜¯åœ¨é¢„æµ‹æ—¶æŸ¥æ‰¾ä¸æµ‹è¯•å®ä¾‹ç›¸ä¼¼çš„å†å²å®ä¾‹ï¼Œå¹¶æ ¹æ®å®ƒä»¬çš„è¾“å‡ºç»“æœåšå‡ºé¢„æµ‹)</p><p><strong>advantage</strong>:</p><ul><li>local data distributionï¼ˆé€‚ç”¨æœ¬åœ°æ•°æ®åˆ†å¸ƒï¼‰</li><li>Incremental/online learningï¼ˆæ¸è¿›å¼/åœ¨çº¿å­¦ä¹ ï¼‰</li><li>large number of classesï¼ˆå¯ä»¥å¯¹å¾ˆå¤§çš„ç±»å‹æ•°é‡åˆ†ç±»ï¼‰</li></ul><p><strong>disvantage</strong>:</p><ul><li>parameter k(è¦è®¾ç½®å‚æ•°k)</li><li>imbalanced dataï¼ˆæ•°æ®ä¸å¹³è¡¡æ—¶åˆ†ç±»æ•ˆæœå·®ï¼‰</li><li>slow inferenceï¼ˆæ¨ç†æ…¢ï¼‰</li></ul><h4 id="naive-bayse">Naive bayse</h4><p><strong>basic idea</strong></p><p><strong>advantage</strong></p><h4 id="svm">SVM</h4><ol type="1"><li>basic concept</li><li>Linear seperation problem<ol type="1"><li>Why SVM works well on small size of samples?<ol type="1"><li>å¯ä»¥å¤„ç†é«˜ç»´ç©ºé—´</li><li>å¯ä»¥æ§åˆ¶æ­£åˆ™åŒ–å‚æ•°é˜²æ­¢è¿‡æ‹Ÿåˆ</li><li>å¯¹å™ªå£°é²æ£’æ€§å¼º</li><li>é€‚ç”¨éçº¿æ€§åˆ†ç±»</li></ol></li><li>Good generalization</li></ol></li><li>NonLinear problem<ol type="1"><li>solution: map data into high dimension space</li><li>Trick: kernel Trick <span class="math inline">\(K(X,Y) = \Phi(X)\Phi(Y)\)</span></li><li>Kernel function: Gaussian kernel, polynormial kernel</li></ol></li></ol><p>æŸå¤±å‡½æ•°æ˜¯å¹³æ–¹æŸå¤±åŠ ä¸ŠL1æ­£åˆ™åŒ–</p><p><span class="math display">\[J(\theta) = \frac{1}{2m} \sum_{i=1}^m(h_\theta(x^{(i)}) - y^{(i)})^2 + \alpha \sum_{j=1}^n|\theta_j|\]</span></p><p>å…¶ä¸­ï¼Œç¬¬ä¸€é¡¹æ˜¯å¹³æ–¹æŸå¤±ï¼Œç¬¬äºŒé¡¹æ˜¯L1æ­£åˆ™åŒ–é¡¹ï¼Œ<spanclass="math inline">\(\alpha\)</span>æ˜¯æ­£åˆ™åŒ–å‚æ•°ã€‚</p><h3 id="ensemble-learning">Ensemble Learning</h3><p>Rationale for Ensemble Learning: No Free Lunch thm: There is noalgorithm that is always the most accurate</p><p><strong>Two Criteria</strong>:</p><ul><li>Good base learner</li><li>diversity</li></ul><p><strong>Three Strategies</strong>:</p><ul><li>Bagging(Random Forest)</li><li>Boosting(AdaBoost)</li><li>Stacking</li></ul><h3 id="clustering">Clustering</h3><h4 id="k-means-procedure-and-darwbacks">K-means procedure anddarwbacks</h4><p>K-means procedure:</p><ol type="1"><li>ä»æ•°æ®ä¸­é€‰æ‹©kä¸ªå¯¹è±¡ä½œä¸ºåˆå§‹èšç±»ä¸­å¿ƒ;</li><li>è®¡ç®—æ¯ä¸ªèšç±»å¯¹è±¡åˆ°èšç±»ä¸­å¿ƒçš„è·ç¦»æ¥åˆ’åˆ†ï¼›</li><li>å†æ¬¡è®¡ç®—æ¯ä¸ªèšç±»ä¸­å¿ƒ;</li><li>è®¡ç®—æ ‡å‡†æµ‹åº¦å‡½æ•°ï¼Œä¹‹é“è¾¾åˆ°æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼Œåˆ™åœæ­¢ï¼Œå¦åˆ™ï¼Œç»§ç»­æ“ä½œã€‚</li></ol><p>ä¼˜ç‚¹ï¼š</p><ul><li>åŸç†ç®€å•ï¼Œå®ç°å®¹æ˜“ï¼›</li><li>å¤æ‚åº¦ä¸æ ·æœ¬æ•°é‡çº¿æ€§ç›¸å…³ï¼Œå¯¹äºå¤„ç†å¤§æ•°æ®é›†åˆï¼Œè¯¥ç®—æ³•éå¸¸é«˜æ•ˆï¼Œä¸”ä¼¸ç¼©æ€§è¾ƒå¥½ã€‚</li></ul><p>drawbacksï¼ˆç¼ºç‚¹ï¼‰:</p><ul><li>Kéœ€è¦äº‹å…ˆç»™å®šï¼›</li><li>Kmeanséœ€è¦äººä¸ºåœ°ç¡®å®šåˆå§‹èšç±»ä¸­å¿ƒï¼Œä¸åŒçš„åˆå§‹èšç±»ä¸­å¿ƒå¯èƒ½å¯¼è‡´å®Œå…¨ä¸åŒçš„èšç±»ç»“æœï¼›</li><li>ç»“æœä¸ä¸€å®šæ˜¯å…¨å±€æœ€ä¼˜ï¼Œåªèƒ½ä¿è¯å±€éƒ¨æœ€ä¼˜ï¼›</li><li>å¯¹å™ªå£°å’Œç¦»ç¾¤ç‚¹æ•æ„Ÿï¼›</li><li>è¯¥æ–¹æ³•ä¸é€‚äºå‘ç°éå‡¸é¢å½¢çŠ¶çš„ç°‡æˆ–å¤§å°å·®åˆ«å¾ˆå¤§çš„ç°‡ï¼›</li><li>éœ€æ ·æœ¬å­˜åœ¨å‡å€¼ï¼ˆé™å®šæ•°æ®ç§ç±»ï¼‰ã€‚</li></ul><h4 id="dbscan">DBSCAN</h4><p><strong>Advantage</strong>:</p><ul><li>å¯ä»¥å¯¹ä»»æ„å½¢çŠ¶çš„ç¨ å¯†æ•°æ®é›†è¿›è¡Œèšç±»ï¼Œç›¸å¯¹çš„ï¼ŒK-Meansä¹‹ç±»çš„èšç±»ç®—æ³•ä¸€èˆ¬åªé€‚ç”¨äºå‡¸æ•°æ®é›†ã€‚</li><li>å¯ä»¥åœ¨èšç±»çš„åŒæ—¶å‘ç°å¼‚å¸¸ç‚¹ï¼Œå¯¹æ•°æ®é›†ä¸­çš„å¼‚å¸¸ç‚¹ä¸æ•æ„Ÿ;</li><li>èšç±»ç»“æœæ²¡æœ‰åå€šï¼Œç›¸å¯¹çš„ï¼ŒK-Meansä¹‹ç±»çš„èšç±»ç®—æ³•åˆå§‹å€¼å¯¹èšç±»ç»“æœæœ‰å¾ˆå¤§å½±å“ã€‚</li></ul><p><strong>Disadvantage</strong>:</p><ul><li>å¦‚æœæ ·æœ¬é›†çš„å¯†åº¦ä¸å‡åŒ€ã€èšç±»é—´è·å·®ç›¸å·®å¾ˆå¤§æ—¶ï¼Œèšç±»è´¨é‡è¾ƒå·®ã€‚If thedensity of the sample set is not uniform and the distance betweenclusters is very different, the clustering quality is poor.</li><li>å¦‚æœæ ·æœ¬é›†è¾ƒå¤§æ—¶ï¼Œèšç±»æ”¶æ•›æ—¶é—´è¾ƒé•¿ã€‚If the sample set is large, theclustering convergence time is long.</li><li>è°ƒå‚ç›¸å¯¹äºä¼ ç»Ÿçš„K-Meansä¹‹ç±»çš„èšç±»ç®—æ³•ç¨å¤æ‚. Parameter adjustment ismore complex than K-means.</li></ul><h3 id="subspace-learning">Subspace learning</h3><h4 id="dimension-reduction">Dimension Reduction</h4><p><strong>Models</strong>:</p><ul><li>Linear methods<ul><li>PCA(Principal Component Analysis)</li><li>MDS(Multi-Dimensional Scaling)</li></ul></li><li>Nonlinear methods<ul><li>LLE(Locally Linear Embedding)</li><li>LEM(Laplacian eigenmaps)</li><li>Isomap</li></ul></li></ul><h4 id="feature-selectionclassification">Featureselection(Classification)</h4><ul><li>Filter Method(IG, <span class="math inline">\(\mathcal{X}^2\)</span>)</li><li>wrapper Method</li><li>Embedded Methods</li></ul><h3 id="subspace-clusteringå­ç©ºé—´èšç±»">SubspaceClustering(å­ç©ºé—´èšç±»)</h3><ul><li>Sparse subspace clustering (SSC)</li><li>Low-rank representation (LRR)</li></ul><h2 id="ch3-hashing">Ch3 Hashing</h2><h3 id="the-role-of-hashingä½œç”¨">The role of Hashing(ä½œç”¨)</h3><ul><li>After using the hash code to represent the data, <strong>therequired storage space will be greatlyreduced</strong>ï¼ˆä½¿ç”¨å“ˆå¸Œç è¡¨ç¤ºæ•°æ®åï¼Œæ‰€éœ€è¦çš„å­˜å‚¨ç©ºé—´ä¼šè¢«å¤§å¹…å‡å°ï¼‰</li><li>Can <strong>reduce data dimensionality</strong>, thereby alleviatingthe <strong>dimensionality curseproblem</strong>(å¯ä»¥é™ä½æ•°æ®ç»´åº¦ï¼Œä»è€Œå‡è½»ç»´åº¦ç¾éš¾é—®é¢˜)</li><li>Can realize fast neighbor retrieval at constant or sub-linear level,and provide support for the rapid realization of upper-level learningtasks(å¯ä»¥å®ç°å¸¸æ•°æˆ–è€…æ¬¡çº¿æ€§çº§åˆ«çš„å¿«é€Ÿè¿‘é‚»æ£€ç´¢ï¼Œä¸ºä¸Šå±‚å­¦ä¹ ä»»åŠ¡çš„å¿«é€Ÿå®ç°æä¾›æ”¯æ’‘)</li></ul><h3 id="find-similar-items">Find similar items</h3><p>Three Essential Techniques for Similar items:</p><ul><li><strong>K-Shingling</strong>ï¼šconvert documents, emails, etc., tosets.</li><li><strong>Min-hashing</strong>ï¼šconvert large sets to shortsignatures, while preserving similarity.</li><li><strong>Locality-sensitive hashing</strong> : focus on pairs ofsignatures likely to be similar.</li></ul><p><img src="/img/å¤§æ•°æ®/ch3-the-big-pic.png" /></p><h4 id="shingles">Shingles</h4><p>A k-shingle (or k-gram) for a document is <strong>a sequence of kcharacters that appears in the document</strong>.ä¸€ä¸ªæ–‡ä»¶çš„k-shingleï¼ˆæˆ–k-gramï¼‰æ˜¯ä¸€ä¸ªå‡ºç°åœ¨æ–‡ä»¶ä¸­çš„kä¸ªå­—ç¬¦çš„åºåˆ—ã€‚</p><p>Example: <span class="math inline">\(k=2; doc = abcab\)</span>. Setof 2-shingles = <span class="math inline">\(\{ab, bc, ca\}\)</span>.</p><h4 id="min-hashing">min-hashing</h4><p>definition:min-hash is an algorithm for <strong>text and datasimilarity comparison</strong> that efficiently extracts the signatureof each data from large-scale data, thus supporting fast comparison oftheir similarity.min-hashæ˜¯ä¸€ç§ç”¨äºæ–‡æœ¬å’Œæ•°æ®ç›¸ä¼¼åº¦æ¯”è¾ƒçš„ç®—æ³•ï¼Œå®ƒå¯ä»¥é«˜æ•ˆåœ°ä»å¤§è§„æ¨¡æ•°æ®ä¸­æå–æ¯ä¸ªæ•°æ®çš„ç­¾åï¼Œä»è€Œæ”¯æŒå¿«é€Ÿåœ°æ¯”è¾ƒå®ƒä»¬ä¹‹é—´çš„ç›¸ä¼¼ç¨‹åº¦ã€‚</p><h5 id="signature-matrix-rightarrow-how-to-compute-similarity">signaturematrix <span class="math inline">\(\Rightarrow\)</span> how to computesimilarity</h5><p><img src="/img/å¤§æ•°æ®/ch3-similarity.png" /></p><p>Jaccard similarityï¼šä¸å°†<spanclass="math inline">\((0,0)\)</span>è®¡å…¥åˆ†æ¯ï¼Œç›¸åŒçš„è¡Œå å…¨éƒ¨è¡Œçš„æ¯”ç‡</p><p>matrix similarityï¼šç›¸åŒçš„è¡Œå å…¨éƒ¨è¡Œçš„æ¯”ç‡</p><p><strong>Signature Matrixçš„è®¡ç®—æ–¹æ³•</strong>ï¼š</p><p><img src="/img/å¤§æ•°æ®/ch3-signatureè®¡ç®—æ–¹æ³•.png" /></p><p>ä¸Šå›¾ä¸­é—´çŸ©é˜µæ˜¯è¾“å…¥çŸ©é˜µï¼Œå·¦ä¾§çš„æ¯ä¸€åˆ—éƒ½ä»£è¡¨è¾“å…¥çŸ©é˜µè¡Œçš„ä¸€ç§æ’åˆ—ï¼Œé‚£ä¹ˆsignaturematrixçš„æ¯ä¸€è¡Œéƒ½å¯¹åº”å·¦ä¾§çš„ä¸€ç§æ’åˆ—æ–¹å¼ï¼Œè¯¥è¡Œçš„æ¯åˆ—æ•°å­—å¯¹åº”è¯¥ç§æ’åˆ—æ–¹å¼å¯¹åº”åˆ—çš„ç¬¬ä¸€ä¸ª1çš„å‡ºç°è¡Œæ•°ã€‚</p><h5 id="locality-sensitive-hashinglsh">Locality-SensitiveHashingï¼ˆLSHï¼‰</h5><p>å‡è®¾æˆ‘ä»¬åœ¨ä¸»å†…å­˜ä¸­æœ‰ä»£è¡¨å¤§é‡å¯¹è±¡çš„æ•°æ®</p><ul><li>å¯èƒ½æ˜¯å¯¹è±¡æœ¬èº«</li><li>å¯èƒ½æ˜¯min-hashingä¸­çš„ç­¾å</li></ul><p>æˆ‘ä»¬è¦é€ä¸€è¿›è¡Œæ¯”è¾ƒï¼Œæ‰¾åˆ°é‚£äº›è¶³å¤Ÿç›¸ä¼¼çš„pairã€‚ä½†æ˜¯æ£€æŸ¥æ‰€æœ‰çš„pairæ˜¯å¾ˆå›°éš¾çš„ã€‚</p><ul><li>ä¸€èˆ¬çš„æƒ³æ³•ï¼šä½¿ç”¨ä¸€ä¸ªå‡½æ•°f(x,y)ï¼Œå‘Šè¯‰äººä»¬xå’Œyæ˜¯å¦æ˜¯ä¸€ä¸ªå€™é€‰å¯¹ï¼šä¸€å¯¹å…ƒç´ çš„ç›¸ä¼¼æ€§å¿…é¡»è¢«è¯„ä¼°ã€‚</li><li>å¯¹äºmin-hashçŸ©é˜µï¼šå“ˆå¸Œåˆ—åˆ°è®¸å¤šæ¡¶ä¸­ï¼Œå¹¶ä½¿åŒä¸€æ¡¶ä¸­çš„å…ƒç´ æˆä¸ºå€™é€‰å¯¹ã€‚</li></ul><p>åŸºæœ¬æ€æƒ³ï¼šGenerate from the collection of all elements (signatures inour example) a small list of candidate pairs: pairs of elements whosesimilarity must be evaluated.</p><p>ç®€å•æ¥è¯´å°±æ˜¯ä»æˆ‘ä»¬Min-hashingå¾—åˆ°çš„æ ‡è®°çŸ©é˜µç”Ÿæˆå¯èƒ½ç›¸ä¼¼çš„æ–‡æ¡£å¯¹åˆ—è¡¨ã€‚</p><p>å€™é€‰ç›¸ä¼¼æ–‡æ¡£å¯¹ <span class="math inline">\(\Rightarrow\)</span>è¿™ä¸€å¯¹çš„Jaccardç›¸ä¼¼åº¦å¿…é¡»è¢«å‡†ç¡®è®¡ç®—å‡ºæ¥</p><p>æ–¹æ³•ï¼š</p><ul><li>é€‰ä¸€ä¸ªç›¸ä¼¼åº¦æ ‡å‡† <span class="math inline">\(t\)</span>ï¼Œå¹¶ä¸” <spanclass="math inline">\(t&lt;1\)</span>ï¼Œå¦‚æœä¸¤ä¸ªæ–‡æ¡£çš„ç›¸ä¼¼åº¦å¤§äº <spanclass="math inline">\(t\)</span>ï¼Œåˆ™è®¤ä¸ºè¿™ä¸¤ä¸ªæ–‡æ¡£ç›¸ä¼¼ã€‚</li><li>å¦‚æœåˆ—<span class="math inline">\(c\)</span>å’Œåˆ—<spanclass="math inline">\(d\)</span>è¢«è§†ä¸ºå€™é€‰æ–‡æ¡£å¯¹ï¼Œé‚£ä¹ˆä»–ä»¬ä¸€å®šè¦æ»¡è¶³<spanclass="math inline">\(M(i,c)=M(i,d)&gt;=t\)</span>ï¼Œå…¶ä¸­Mæ˜¯æ ‡è®°çŸ©é˜µã€‚</li></ul><h5 id="lsh-for-minhashing-signatures">LSH for MinhashingSignatures</h5><p>æ€»ä½“æ€æƒ³ï¼šæŠŠæ ‡è®°çŸ©é˜µé‡Œçš„hashå¾ˆå¤šéï¼Œåªæœ‰hashåˆ°åŒä¸€ä¸ªæ¡¶(bucket)é‡Œçš„åˆ—æ‰è¢«è®¤ä¸ºæ˜¯å¯èƒ½ç›¸ä¼¼çš„ã€‚</p><p><strong>Partion Into Bands</strong></p><p><img src="/img/å¤§æ•°æ®/Partion-Into-Bands.png" /></p><p>Divide matrix M into b bands of r rows. For each band, hash itsportion of each column to a hash table with k buckets.å¦‚å›¾æ‰€ç¤ºï¼ŒæŠŠæ ‡è®°çŸ©é˜µ(signature matrix)çš„æ‰€æœ‰è¡Œåˆ†æˆ <spanclass="math inline">\(b\)</span> ä¸ªå¸¦(bands)ï¼Œæ¯ä¸ªå¸¦æœ‰ <spanclass="math inline">\(r\)</span>è¡Œã€‚å¯¹äºæ¯æ¡å¸¦ï¼Œå¯¹å¸¦é‡Œé¢æ¯åˆ—è¿›è¡Œhashï¼Œåˆ†åˆ«hashåˆ°<spanclass="math inline">\(k\)</span>ä¸ªæ¡¶ä¸­ï¼Œå¹¶è®©<spanclass="math inline">\(k\)</span>å°½å¯èƒ½å¾—å¤§ã€‚</p><p>åªæœ‰æœ‰<spanclass="math inline">\(&gt;=1\)</span>çš„bandå“ˆå¸Œåˆ°åŒä¸€ä¸ªæ¡¶ä¸­ï¼Œå°±æŠŠè¿™ä¸¤åˆ—å½“ä½œå€™é€‰ç›¸ä¼¼å¯¹ã€‚</p><p><img src="/img/å¤§æ•°æ®/Partion-Into-Bands-ä¾‹å­.png" /></p><h5 id="example---bands">Example - Bands</h5><p>å‡è®¾æœ‰ 100,000 åˆ—ï¼Œæ¯åˆ—æœ‰100ä¸ªæ ‡è®°ï¼Œå› æ­¤å­˜å‚¨æ ‡è®°éœ€è¦40MB;æˆ‘ä»¬å¸Œæœ›æ‰¾åˆ°æ‰€ä»¥ç›¸ä¼¼åº¦å¤§äº80%çš„æ–‡æ¡£å¯¹ï¼Œç”¨ä¸Šé¢çš„æ–¹æ³•ï¼ŒæŠŠæ ‡è®°åˆ†ä¸º20ä¸ªå¸¦ï¼Œæ¯ä¸ªå¸¦é‡Œæœ‰5ä¸ªæ ‡è®°ã€‚</p><p>è¿™æ ·çš„è¯ï¼Œå¦‚æœæ–‡æ¡£<span class="math inline">\(C_1\)</span>å’Œ<spanclass="math inline">\(C_2\)</span>çš„ç›¸ä¼¼åº¦æ˜¯<spanclass="math inline">\(80\%\)</span>ï¼Œé‚£ä¹ˆä»–ä»¬çš„ä»»æ„ä¸€ä¸ªå¸¦çš„<spanclass="math inline">\(5\)</span>ä¸ªæ ‡è®°éƒ½ç›¸åŒçš„æ¦‚ç‡æ˜¯: <spanclass="math inline">\((0.8)^5=0.328\)</span>ï¼Œçœ‹èµ·æ¥å¥½åƒä¸å¤§ï¼Œä½†æ˜¯åªè¦æœ‰ä»»æ„ä¸€ä¸ªå¸¦éƒ½ç›¸åŒå°±è¢«è®¤ä¸ºæ˜¯å€™é€‰å¯¹ï¼Œæ‰€ä»¥ä»–ä»¬ä¸è¢«é€‰ä¸Šçš„æ¦‚ç‡ï¼Œå³20ä¸ªå¸¦éƒ½ä¸ç›¸åŒçš„æ¦‚ç‡ä¸ºï¼š<spanclass="math inline">\((1âˆ’0.328)^20=0.00035\)</span> ï¼Œä¹Ÿå°±æ˜¯æ¯<spanclass="math inline">\(3000\)</span>ä¸ªç›¸ä¼¼åº¦ä¸º<spanclass="math inline">\(80\%\)</span>çš„æ–‡æ¡£å¯¹é‡Œæ‰ä¼šæœ‰ä¸€å¯¹æ¼é€‰ã€‚</p><p>æˆ‘ä»¬å†è€ƒè™‘æ–‡æ¡£<span class="math inline">\(C_1\)</span>å’Œ<spanclass="math inline">\(C_2\)</span>åªæœ‰<spanclass="math inline">\(40\%\)</span>çš„ç›¸ä¼¼åº¦ï¼Œé‚£ä¹ˆä»–ä»¬ä»»æ„ä¸€ä¸ªå¸¦çš„<spanclass="math inline">\(5\)</span>ä¸ªæ ‡è®°éƒ½ç›¸åŒçš„æ¦‚ç‡ä¸º <spanclass="math inline">\((0.4)^5=0.01\)</span>ï¼Œåˆ™æ–‡æ¡£<spanclass="math inline">\(C_1\)</span>å’Œ<spanclass="math inline">\(C_2\)</span>è¢«é€‰ä¸ºå€™é€‰å¯¹çš„æ¦‚ç‡ï¼Œå³ä»–ä»¬ä¸­æœ‰ä¸€ä¸ªå¸¦å®Œå…¨ç›¸åŒçš„æ¦‚ç‡ä¸º:<span class="math inline">\(C^1_{20}Ã—0.01=0.2\)</span> ï¼Œå°±æ˜¯è¯´æ¯<spanclass="math inline">\(5\)</span>ä¸ª<spanclass="math inline">\(40\%\)</span>ç›¸ä¼¼åº¦çš„æ–‡æ¡£å¯¹é‡Œå°±æœ‰ä¸€å¯¹ä¼šè¢«è¯¯é€‰ä¸ºå€™é€‰å¯¹ã€‚ä½†æ˜¯ç›¸ä¼¼åº¦å°äº<spanclass="math inline">\(40\%\)</span>çš„æ–‡æ¡£å¯¹é‡Œè¯¯é€‰çš„æ¦‚ç‡å°±éå¸¸å°äº†ã€‚</p><h3 id="learn-to-hash">Learn to Hash</h3><ol type="1"><li>Data indenpendent:Random projection</li><li>Data dependent:<ol type="1"><li>PCA hashing</li><li>Spectral Hashing</li></ol></li></ol><h4 id="pca-hashing">PCA hashing</h4><p>åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µ</p><p><strong>Projection Stageï¼ˆæŠ•å½±é˜¶æ®µï¼‰</strong>:</p><p>ç”¨ä¸€ä¸ªè½¬æ¢çŸ©é˜µ<span class="math inline">\(W\)</span>,å¯ä»¥å°†<spanclass="math inline">\(x\)</span>æŠ•å½±åˆ°ä¸€ä¸ªæ–°çš„ç‰¹å¾å¹³é¢ã€‚</p><p><span class="math display">\[Y=W^T X\]</span></p><p><strong>Quantization Stageï¼ˆé‡åŒ–é˜¶æ®µï¼‰</strong>:</p><p><span class="math display">\[h(x) = sgn(W^T X)\]</span></p><p>æœ€å°åŒ–quantization lossï¼ˆé‡åŒ–æŸå¤±ï¼‰</p><p><span class="math display">\[Q(B,Y) = ||B - Y^T R||^2_F\]</span></p><p><span class="math inline">\(R\)</span>æ˜¯æ­£äº¤çŸ©é˜µ. <spanclass="math inline">\(B = Sgn(Y^T R)\)</span></p><p>åŸºæœ¬æ€æƒ³æ˜¯æ—‹è½¬æ•°æ®ä»¥æœ€å°åŒ–é‡åŒ–æŸå¤±ã€‚</p><p>å®ç°æ–¹æ³•ï¼šä»<spanclass="math inline">\(R\)</span>çš„éšæœºåˆå§‹åŒ–å¼€å§‹ï¼Œé‡‡ç”¨ç±»ä¼¼K-meansçš„è¿­ä»£ç®—æ³•æ¥ä¼˜åŒ–<spanclass="math inline">\(R\)</span>ã€‚åœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼Œæ¯ä¸ªæ•°æ®ç‚¹é¦–å…ˆè¢«åˆ†é…åˆ°æœ€è¿‘çš„èšç±»ä¸­å¿ƒï¼Œç„¶åæ›´æ–°<spanclass="math inline">\(R\)</span>ä»¥ä½¿é‡åŒ–æŸå¤±æœ€å°åŒ–ã€‚</p><h4 id="spectral-hashingè°±å“ˆå¸Œ">Spectral Hashingï¼ˆè°±å“ˆå¸Œï¼‰</h4><p><img src="/img/å¤§æ•°æ®/Spectral-Hashingå…¬å¼.png" /></p><h4id="general-approach-to-learning-based-hashinglearning-basedå“ˆå¸Œçš„ä¸€èˆ¬æ–¹æ³•">GeneralApproach to Learning-Based Hashing(Learning-Basedå“ˆå¸Œçš„ä¸€èˆ¬æ–¹æ³•)</h4><p>å°†å“ˆå¸Œå­¦ä¹ é—®é¢˜åˆ†è§£ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š</p><ol type="1"><li>hash bit learning. å“ˆå¸Œæ¯”ç‰¹å­¦ä¹ </li><li>hash function learning based on the learned bits.åŸºäºæ‰€å­¦ä¹ çš„å“ˆå¸Œæ¯”ç‰¹çš„å“ˆå¸Œå‡½æ•°å­¦ä¹ </li></ol><p><img src="/img/å¤§æ•°æ®/ch3-Learning-Based-Hashing-æ­¥éª¤.png" /></p><h2 id="ch4-sampling">Ch4 Sampling</h2><p>Why sampling?</p><ul><li>Big data issue<ul><li>Store complexity</li><li>Calculate complexity</li></ul></li><li>Posterior estimation<ul><li>Expectation estimation</li></ul></li></ul><h3 id="inverse-transform-samplingé€†é‡‡æ ·å˜æ¢">Inverse TransformSampling(é€†é‡‡æ ·å˜æ¢)</h3><p>Inverse Transform Sampling based on the inverse of CumulativeDistribution Function (CDF). é€†é‡‡æ ·å˜æ¢ï¼ˆInverse TransformSamplingï¼‰æ˜¯ä¼ªéšæœºæ•°é‡‡æ ·çš„ä¸€ç§åŸºæœ¬æ–¹æ³•ã€‚åœ¨å·²çŸ¥ä»»æ„æ¦‚ç‡åˆ†å¸ƒçš„ç´¯ç§¯åˆ†å¸ƒå‡½æ•°<spanclass="math inline">\(CDF\)</span>æ—¶ï¼Œå¯ä»¥é€šè¿‡<spanclass="math inline">\(CDF\)</span>çš„é€†å‡½æ•°æ¥å®ç°éšæœºæ•°çš„é‡‡æ ·ã€‚</p><p>ç®€å•æ¥è¯´ï¼Œå‡è®¾<spanclass="math inline">\(X\)</span>ä¸ºä¸€ä¸ªè¿ç»­éšæœºå˜é‡ï¼Œå…¶æ¦‚ç‡å¯†åº¦å‡½æ•°ä¸º<spanclass="math inline">\(PDF(X)\)</span>ï¼Œç´¯è®¡åˆ†å¸ƒå‡½æ•°ä¸º<spanclass="math inline">\(CDF(X)\)</span>ã€‚è¿™æ—¶å€™è‹¥æƒ³ç”Ÿæˆç¬¦åˆ<spanclass="math inline">\(X\)</span>åˆ†å¸ƒçš„éšæœºå˜é‡æ ·æœ¬ï¼Œåªéœ€åœ¨<spanclass="math inline">\([0, 1]\)</span>èŒƒå›´å†…ç”Ÿæˆéšæœºå˜é‡<spanclass="math inline">\(x\)</span>,ç„¶åæ”¾å…¥<spanclass="math inline">\(CDF\)</span>çš„åå‡½æ•°ä¸­ï¼Œå³å¯å¾—åˆ°ç¬¦åˆ<spanclass="math inline">\(X\)</span>åˆ†å¸ƒçš„éšæœºå˜é‡æ ·æœ¬ã€‚</p><p>æ–¹æ³•ï¼š</p><p><img src="/img/å¤§æ•°æ®/ch4-CDF.png" /></p><p>ä¼˜ç‚¹ï¼š</p><ul><li>ç®€å•</li><li>é€‚ç”¨äºä»»æ„åˆ†å¸ƒ</li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li>Hard to get the inverse function. å¾ˆéš¾ç¡®å®šé€†å‡½æ•°</li></ul><h3 id="rejection-samplingæ‹’ç»é‡‡æ ·">Rejection Sampling(æ‹’ç»é‡‡æ ·)</h3><p>Rejection Sampling accept the samples in the region under the graphof its density function and reject others. æ‹’ç»é‡‡æ ·ï¼ˆRejectionSamplingï¼‰æ˜¯ä¸€ç§åŸºæœ¬çš„éšæœºæ•°é‡‡æ ·æ–¹æ³•ã€‚å®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šå¯¹äºä¸€ä¸ªéš¾ä»¥é‡‡æ ·çš„åˆ†å¸ƒï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªå®¹æ˜“é‡‡æ ·çš„åˆ†å¸ƒï¼Œä½¿å¾—å®¹æ˜“é‡‡æ ·çš„åˆ†å¸ƒåŒ…å«éš¾ä»¥é‡‡æ ·çš„åˆ†å¸ƒï¼Œç„¶åä»å®¹æ˜“é‡‡æ ·çš„åˆ†å¸ƒä¸­é‡‡æ ·ï¼Œè‹¥é‡‡æ ·çš„ç‚¹åœ¨éš¾ä»¥é‡‡æ ·çš„åˆ†å¸ƒä¸­ï¼Œåˆ™æ¥å—è¯¥ç‚¹ï¼Œå¦åˆ™æ‹’ç»è¯¥ç‚¹ã€‚</p><p>æ–¹æ³•ï¼š</p><p><img src="/img/å¤§æ•°æ®/ch4-Rejection-Sampling.png" /></p><p>æ­¥éª¤ï¼š</p><p><img src="/img/å¤§æ•°æ®/ch4-Rejection-Sampling-æ­¥éª¤.png" /></p><p>è¿™å°±ä½¿å¾—Proposal Distribution <spanclass="math inline">\(q(x)\)</span>çš„æ”¯æ’‘é›†ï¼ˆsupportï¼‰è¦å¤§äºç›®æ ‡åˆ†å¸ƒ<spanclass="math inline">\(p(x)\)</span>çš„æ”¯æ’‘é›†ã€‚æ‰€ä»¥<spanclass="math inline">\(q(x)\)</span>çš„åˆ†å¸ƒé€‰æ‹©å¾ˆé‡è¦ã€‚</p><h3 id="importance-samplingé‡è¦æ€§é‡‡æ ·">ImportanceSampling(é‡è¦æ€§é‡‡æ ·)</h3><p>Importance Sampling not reject but assign weight to each instance sothat the correct distribution is targeted. é‡è¦æ€§é‡‡æ ·ï¼ˆImportanceSamplingï¼‰ä¸RejectionSampling(æ‹’ç»é‡‡æ ·)çš„åŒºåˆ«åœ¨äºï¼Œé‡è¦æ€§é‡‡æ ·ä¸ä¼šæ‹’ç»é‡‡æ ·çš„ç‚¹ï¼Œè€Œæ˜¯å¯¹é‡‡æ ·çš„ç‚¹èµ‹äºˆä¸€ä¸ªæƒé‡ï¼Œä½¿å¾—é‡‡æ ·çš„ç‚¹æ›´å¤šåœ°æ¥è‡ªäºç›®æ ‡åˆ†å¸ƒã€‚</p><h3 id="importance-samplingå’Œrejection-samplingçš„åŒºåˆ«">ImportanceSamplingå’ŒRejection Samplingçš„åŒºåˆ«</h3><ul><li>RSçš„å®ä¾‹æœ‰ä¸€ä¸ªç›¸åŒçš„æƒé‡ï¼Œåªæœ‰éƒ¨åˆ†çš„å®ä¾‹ä¼šè¢«ä¿ç•™</li><li>ISçš„å®ä¾‹æœ‰ä¸åŒçš„æƒé‡ï¼Œæ‰€æœ‰çš„å®ä¾‹éƒ½ä¼šè¢«ä¿ç•™</li><li>ISå¯¹å¯¹proposal distributionçš„é€‰æ‹©æ›´ä¸æ•æ„Ÿ</li></ul><h3 id="markov-chain-monte-carlomcmc">Markov Chain MonteCarlo(MCMC)</h3><p>MCMC methods are a class of algorithms for <strong>sampling from aprobability distribution based on constructing a Markov chain</strong>that has the desired distribution as its <strong>equilibriumdistribution</strong>. The state of the chain after a number of steps isthen used as a sample of the desired distribution.</p><p>é©¬å°”å¯å¤«é“¾è’™ç‰¹å¡æ´›ï¼ˆMarkov Chain MonteCarloï¼ŒMCMCï¼‰æ˜¯ä¸€ç§åŸºäºé©¬å°”å¯å¤«é“¾çš„éšæœºé‡‡æ ·æ–¹æ³•ã€‚å®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šå¯¹äºä¸€ä¸ªéš¾ä»¥é‡‡æ ·çš„åˆ†å¸ƒï¼Œæˆ‘ä»¬å¯ä»¥æ„é€ ä¸€ä¸ªé©¬å°”å¯å¤«é“¾ï¼Œä½¿å¾—è¯¥é©¬å°”å¯å¤«é“¾çš„å¹³ç¨³åˆ†å¸ƒä¸ºè¯¥éš¾ä»¥é‡‡æ ·çš„åˆ†å¸ƒï¼Œç„¶åä»è¯¥é©¬å°”å¯å¤«é“¾ä¸­é‡‡æ ·ï¼Œå¾—åˆ°çš„æ ·æœ¬æœä»è¯¥éš¾ä»¥é‡‡æ ·çš„åˆ†å¸ƒã€‚</p><p><strong>è’™ç‰¹å¡æ´›æ³•</strong>ï¼š</p><p>è’™ç‰¹å¡æ´›æ³•ï¼ˆMonte CarloMethodï¼‰æ˜¯ä¸€ç§åŸºäºéšæœºæ•°çš„æ•°å€¼è®¡ç®—æ–¹æ³•ã€‚å®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šå¯¹äºä¸€ä¸ªéš¾ä»¥è®¡ç®—çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥æ„é€ ä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒï¼Œä½¿å¾—è¯¥æ¦‚ç‡åˆ†å¸ƒçš„æœŸæœ›ä¸ºè¯¥é—®é¢˜çš„è§£ï¼Œç„¶åä»è¯¥æ¦‚ç‡åˆ†å¸ƒä¸­é‡‡æ ·ï¼Œå¾—åˆ°çš„æ ·æœ¬çš„å¹³å‡å€¼å³ä¸ºè¯¥é—®é¢˜çš„è§£ã€‚</p><h4 id="detailed-balance-conditionç»†è‡´å¹³è¡¡æ¡ä»¶">Detailed BalanceCondition(ç»†è‡´å¹³è¡¡æ¡ä»¶)</h4><p>ç»†è‡´å¹³è¡¡æ¡ä»¶ï¼ˆDetailed BalanceConditionï¼‰æ˜¯é©¬å°”å¯å¤«é“¾å¹³ç¨³åˆ†å¸ƒçš„ä¸€ä¸ªå¿…è¦æ¡ä»¶ã€‚å®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šå¯¹äºä¸€ä¸ªé©¬å°”å¯å¤«é“¾ï¼Œè‹¥è¯¥é©¬å°”å¯å¤«é“¾çš„å¹³ç¨³åˆ†å¸ƒä¸º<spanclass="math inline">\(\pi(x)\)</span>ï¼Œåˆ™è¯¥é©¬å°”å¯å¤«é“¾çš„ä»»æ„ä¸¤ä¸ªçŠ¶æ€<spanclass="math inline">\(x\)</span>å’Œ<spanclass="math inline">\(y\)</span>æ»¡è¶³ï¼š</p><p><span class="math display">\[\pi(x)P(x, y) = \pi(y)P(y,x)\]</span></p><p>å…¶ä¸­<span class="math inline">\(P(x, y)\)</span>ä¸ºä»çŠ¶æ€<spanclass="math inline">\(x\)</span>è½¬ç§»åˆ°çŠ¶æ€<spanclass="math inline">\(y\)</span>çš„æ¦‚ç‡,<spanclass="math inline">\(\pi(x)\)</span>ä¸ºçŠ¶æ€<spanclass="math inline">\(x\)</span>çš„æ¦‚ç‡ã€‚é‚£ä¹ˆ<spanclass="math inline">\(\pi(x)\)</span>å°±æ˜¯è¯¥é©¬å°”å¯å¤«é“¾çš„å¹³ç¨³åˆ†å¸ƒã€‚</p><h4 id="the-procedure-of-mcmcmcmcçš„æµç¨‹">The Procedure ofMCMC(MCMCçš„æµç¨‹)</h4><p><img src="/img/å¤§æ•°æ®/ch4-MCMCæµç¨‹.png" /></p><h3 id="metropolis-hastings-algorithmmhç®—æ³•">Metropolis-HastingsAlgorithm(MHç®—æ³•)</h3><p>ç”±äºMCMCé‡‡æ ·æœ‰æ”¶æ•›å¤ªæ…¢çš„é—®é¢˜,æ‰€ä»¥åœ¨MCMCçš„åŸºç¡€ä¹‹ä¸Šè¿›è¡Œæ”¹è¿›ï¼Œå¼•å‡ºMHç®—æ³•ã€‚</p><p><img src="/img/å¤§æ•°æ®/ch4-MHç®—æ³•æµç¨‹.png" /></p><p>MHç®—æ³•çš„å…·ä½“æµç¨‹å¦‚ä¸‹ï¼š</p><p><img src="/img/å¤§æ•°æ®/ch4-MHç®—æ³•å…·ä½“æµç¨‹.png" /></p><p>ä¸€èˆ¬æ¥è¯´M-Hé‡‡æ ·ç®—æ³•è¾ƒMCMCç®—æ³•åº”ç”¨æ›´å¹¿æ³›ï¼Œç„¶è€Œåœ¨å¤§æ•°æ®æ—¶ä»£ï¼ŒM-Hç®—æ³•é¢ä¸´ç€ä¸¤ä¸ªé—®é¢˜ï¼š</p><ol type="1"><li>åœ¨é«˜ç»´æ—¶çš„è®¡ç®—é‡å¾ˆå¤§ï¼Œç®—æ³•æ•ˆç‡å¾ˆä½ï¼ŒåŒæ—¶å­˜åœ¨æ‹’ç»è½¬ç§»çš„é—®é¢˜ï¼Œä¹Ÿä¼šåŠ å¤§è®¡ç®—é‡</li><li>ç”±äºç‰¹å¾ç»´åº¦å¤§ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬ç”šè‡³å¾ˆéš¾æ±‚å‡ºç›®æ ‡çš„å„ç‰¹å¾ç»´åº¦è”åˆåˆ†å¸ƒï¼Œä½†æ˜¯å¯ä»¥æ–¹ä¾¿æ±‚å‡ºå„ä¸ªç‰¹å¾ä¹‹é—´çš„æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒï¼ˆå› æ­¤å°±æ€è€ƒæ˜¯å¦èƒ½åªçŸ¥é“æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒçš„æƒ…å†µä¸‹è¿›è¡Œé‡‡æ ·ï¼‰ã€‚</li></ol><h3 id="gibbs-sampling">Gibbs Sampling</h3><p>Gibbs Samplingæ˜¯MHç®—æ³•çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µã€‚å®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼š</p><p><img src="/img/å¤§æ•°æ®/ch4-Gibbs.png" /> <imgsrc="/img/å¤§æ•°æ®/ch4-Gibbs-1.png" /></p><p>å› æ­¤å¯ä»¥å¾—å‡ºåœ¨äºŒç»´çš„æƒ…å†µä¸‹Gibbsé‡‡æ ·ç®—æ³•çš„æµç¨‹å¦‚ä¸‹ï¼š</p><p><img src="/img/å¤§æ•°æ®/ch4-Gibbs-äºŒç»´æµç¨‹.png" /></p><p>è€Œåœ¨å¤šç»´çš„æƒ…å†µä¸‹ï¼Œæ¯”å¦‚ä¸€ä¸ªnç»´çš„æ¦‚ç‡åˆ†å¸ƒ<spanclass="math inline">\(Ï€(x_1, x_2, ...x_n)\)</span>ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨<spanclass="math inline">\(n\)</span>ä¸ªåæ ‡è½´ä¸Šè½®æ¢é‡‡æ ·ï¼Œæ¥å¾—åˆ°æ–°çš„æ ·æœ¬ã€‚å¯¹äºè½®æ¢åˆ°çš„ä»»æ„ä¸€ä¸ªåæ ‡è½´<spanclass="math inline">\(x_i\)</span>ä¸Šçš„è½¬ç§»ï¼Œé©¬å°”ç§‘å¤«é“¾çš„çŠ¶æ€è½¬ç§»æ¦‚ç‡ä¸º<spanclass="math inline">\(P(x_i|x_1, x_2, ..., x_{iâˆ’1}, x_{i+1}, ...,x_n)\)</span>ï¼Œå³å›ºå®š<spanclass="math inline">\(nâˆ’1\)</span>ä¸ªåæ ‡è½´ï¼Œåœ¨æŸä¸€ä¸ªåæ ‡è½´ä¸Šç§»åŠ¨ã€‚è€Œåœ¨å¤šç»´çš„æƒ…å†µä¸‹Gibbsé‡‡æ ·ç®—æ³•çš„æµç¨‹å¦‚ä¸‹ï¼š</p><p><img src="/img/å¤§æ•°æ®/ch4-Gibbs-å¤šç»´æµç¨‹.png" /></p><h3 id="gibbs-samplingå’Œmhç®—æ³•çš„è”ç³»ä¸åŒºåˆ«">GibbsSamplingå’ŒMHç®—æ³•çš„è”ç³»ä¸åŒºåˆ«</h3><ul><li>Gibbs Samplingå’ŒMHéƒ½æ˜¯MCMC</li><li>Acceptance Ratio:<ul><li>Gibbs Sampling: <span class="math inline">\(1\)</span></li><li>MH: <span class="math inline">\(\frac{\pi(y)q(y, x)}{\pi(x)q(x, y)}&lt; 1\)</span></li></ul></li><li>MHä¸éœ€è¦çŸ¥é“æ¡ä»¶æ¦‚ç‡ï¼Œè€ŒGibbs Samplingéœ€è¦çŸ¥é“æ¡ä»¶æ¦‚ç‡</li></ul><h3 id="reservoir-sampling">Reservoir sampling</h3><p>Reservoirsamplingæ˜¯ä¸€ç§éšæœºé‡‡æ ·ç®—æ³•ï¼Œå®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šå¯¹äºä¸€ä¸ªæ•°æ®æµï¼Œæˆ‘ä»¬å¸Œæœ›ä»ä¸­éšæœºé‡‡æ ·å‡º<spanclass="math inline">\(k\)</span>ä¸ªæ ·æœ¬ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸çŸ¥é“æ•°æ®æµçš„é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬ä¸çŸ¥é“<spanclass="math inline">\(k\)</span>çš„å¤§å°ã€‚å…·ä½“æµç¨‹å¦‚ä¸‹ï¼š</p><p><img src="/img/å¤§æ•°æ®/ch4-Reservoir.png" /></p><h2 id="ch5-data-stream-mining">Ch5 Data Stream Mining</h2><h3 id="data-stream">Data Stream</h3><p><strong>What is Data Stream?</strong></p><p>A data stream is a massive sequence of data objects which have someunique features.</p><h4 id="properity-of-data-stream">Properity of Data Stream</h4><p>æ•°æ®æµï¼ˆData Streamï¼‰æ˜¯ä¸€ç§è¿ç»­ä¸æ–­çš„æ•°æ®ï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯ï¼š</p><ul><li>One by One(é€ä¸ªåˆ°è¾¾)</li><li>Potentially Unbounded(æ— ç•Œ)</li><li><strong>Concept Drift(æ¦‚å¿µæ¼‚ç§»)</strong></li></ul><h4 id="conncept-driftæ¦‚å¿µæ¼‚ç§»">Conncept Drift(æ¦‚å¿µæ¼‚ç§»)</h4><p>Concept Drift is the probability distribution changes.</p><p>æ¦‚å¿µæ¼‚ç§»ï¼ˆConceptDriftï¼‰æ˜¯æŒ‡æ•°æ®æµä¸­çš„æ•°æ®åˆ†å¸ƒéšç€æ—¶é—´çš„æ¨ç§»è€Œå‘ç”Ÿå˜åŒ–çš„ç°è±¡ã€‚æ¦‚å¿µæ¼‚ç§»åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼š</p><ul><li>Real concept drift (çœŸå®æ¦‚å¿µæ¼‚ç§»)</li><li>Virtual concept drift (è™šå‡æ¦‚å¿µæ¼‚ç§»)</li></ul><h4 id="concept-drift-detectionæ¦‚å¿µæ¼‚ç§»æ£€æµ‹">Concept DriftDetection(æ¦‚å¿µæ¼‚ç§»æ£€æµ‹)</h4><ol type="1"><li>Distribution-based detector(åŸºäºåˆ†å¸ƒçš„æ£€æµ‹å™¨)</li></ol><p>ç›‘æµ‹ä¸¤ä¸ªå›ºå®šæˆ–å¯å˜åŒ–çš„æ•°æ®çª—å£ä¹‹é—´çš„æ•°æ®åˆ†å¸ƒå˜åŒ–ï¼Œå¦‚æœæ•°æ®åˆ†å¸ƒå‘ç”Ÿå˜åŒ–ï¼Œåˆ™è®¤ä¸ºå‘ç”Ÿäº†æ¦‚å¿µæ¼‚ç§»ã€‚æ–¹æ³•å¾ˆç®€å•ï¼šåªè¦<spanclass="math inline">\(W\)</span>çš„ä¸¤ä¸ªè¶³å¤Ÿå¤§çš„å­çª—å£<spanclass="math inline">\(W_1\)</span>å’Œ<spanclass="math inline">\(W_2\)</span>çš„æ•°æ®åˆ†å¸ƒä¸åŒï¼Œå°±è®¤ä¸ºå‘ç”Ÿäº†æ¦‚å¿µæ¼‚ç§»ï¼Œè¿™æ—¶è¾ƒæ—§çš„çª—å£å°±è¢«æ”¾å¼ƒã€‚</p><p><strong>draw back(ç¼ºç‚¹)</strong>ï¼š</p><ul><li>Hard to determine window size.</li><li>Learn concept drift slower</li><li>Virtual concept drift</li></ul><p><strong>Adaptive Windowing(ADWIN)</strong>:</p><p>ADWIN çš„æ€æƒ³æ˜¯ä»æ—¶é—´çª—å£ <span class="math inline">\(W\)</span>å¼€å§‹ï¼Œåœ¨ä¸Šä¸‹æ–‡æ²¡æœ‰æ˜æ˜¾å˜åŒ–æ—¶åŠ¨æ€å¢å¤§çª—å£ <spanclass="math inline">\(W\)</span>ï¼Œå¹¶åœ¨æ£€æµ‹åˆ°å˜åŒ–æ—¶å°†å…¶ç¼©å°ã€‚è¯¥ç®—æ³•è¯•å›¾æ‰¾åˆ°æ˜¾ç¤ºä¸åŒå¹³å‡å€¼çš„ <span class="math inline">\(W -w_0\)</span> å’Œ <span class="math inline">\(w_1\)</span> çš„ä¸¤ä¸ªå­çª—å£ã€‚è¿™æ„å‘³ç€çª—å£çš„æ—§éƒ¨åˆ† <span class="math inline">\(- w_0\)</span>æ˜¯åŸºäºä¸å®é™…ä¸åŒçš„æ•°æ®åˆ†å¸ƒï¼Œå› æ­¤è¢«åˆ é™¤ã€‚</p><ol type="1"><li>Error-rate based detector(åŸºäºé”™è¯¯ç‡çš„æ£€æµ‹å™¨)</li></ol><p>æ ¹æ®åˆ†ç±»æ€§èƒ½çš„å˜åŒ–æ¥æ•æ‰æ¦‚å¿µçš„æ¼‚ç§»,å¦‚æœåˆ†ç±»å™¨çš„é”™è¯¯ç‡è¶…è¿‡äº†æŸä¸ªé˜ˆå€¼ï¼Œåˆ™è®¤ä¸ºå‘ç”Ÿäº†æ¦‚å¿µæ¼‚ç§»ã€‚</p><p>DDMç®—æ³•ï¼š</p><p>DDMç®—æ³•çš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šåœ¨æ•°æ®æµä¸­ï¼Œå¦‚æœæŸä¸ªæ—¶é—´ç‚¹çš„é”™è¯¯ç‡æ¯”ä¹‹å‰çš„é”™è¯¯ç‡å¤§å¾ˆå¤šï¼Œåˆ™è®¤ä¸ºå‘ç”Ÿäº†æ¦‚å¿µæ¼‚ç§»ã€‚ç¡®å®šé”™è¯¯ç‡çš„å˜åŒ–æ˜¯å¦æ˜¾è‘—çš„æ–¹æ³•å¦‚ä¸‹å…¬å¼ï¼š</p><p><span class="math display">\[p_i + s_i \ge p_{min} + 3 \timess_{min}\]</span></p><p>è¯¯å·®ç‡æ˜¯æŒ‡è§‚å¯Ÿåˆ°é”™è¯¯çš„æ¦‚ç‡<spanclass="math inline">\(p_i\)</span>ï¼Œå…¶æ ‡å‡†å·®ä¸º<spanclass="math inline">\(s_i = sqrt(p_i (1 - p_i) / i)\)</span></p><p><strong>draw back(ç¼ºç‚¹)</strong>ï¼š</p><ul><li>Sensitive to noise</li><li>Hard to deal with gradual concept drift</li><li>Depend on learning model itself heavily</li></ul><h4 id="data-streamé¢ä¸´çš„æŒ‘æˆ˜">Data Streamé¢ä¸´çš„æŒ‘æˆ˜</h4><ul><li>Infinite Length(æ— é™é•¿åº¦)</li><li>Evolving Nature(ä¸æ–­å˜åŒ–çš„æ•°æ®)</li></ul><h3 id="data-stream-clissificationæ•°æ®æµåˆ†ç±»">Data StreamClissification(æ•°æ®æµåˆ†ç±»)</h3><p>æµç¨‹ï¼š</p><ul><li>ä»æ•°æ®æµä¸­è¯»å–ä¸‹ä¸€ä¸ªå¯ç”¨æ•°æ®(è¦æ±‚1)</li><li>ç”¨è¯»å–çš„æ•°æ®æ›´æ–°åˆ†ç±»å™¨ï¼Œå¹¶ä¸”è¿™æ ·åšä¸å›è¶…è¿‡å¯¹å®ƒè®¾ç½®çš„å†…å­˜é™åˆ¶(è¦æ±‚2)ï¼Œå¹¶å°½å¯èƒ½å¿«åœ°å®Œæˆï¼ˆè¦æ±‚3ï¼‰</li><li>ç®—æ³•å·²ç»å­¦ä¹ äº†è¶³å¤Ÿçš„æ•°æ®ï¼Œä»¥ä¾¿åœ¨æ–°æ•°æ®ä¸Šè¿›è¡Œåˆ†ç±»(è¦æ±‚4)</li></ul><p><strong>å…¸å‹ç®—æ³•</strong>ï¼š</p><ul><li>VFDT(very fast decision tree, KDD'00)</li><li>CVFDT(Concept-adapting very fast decision tree, KDD'01)</li><li>SyncStream(åŒæ­¥æµç®—æ³•, KDD'14)</li></ul><h4 id="vfdt">VFDT</h4><p>Hoeffdingæ ‘æ˜¯ä¸€ç§åŸºäºå†³ç­–æ ‘å­¦ä¹ çš„æ•°æ®æµåˆ†ç±»ç®—æ³•ï¼Œåœ¨å¤„ç†æ•°æ®æµæ—¶ï¼Œå¯ä»¥ä¿è¯æŒ–æ˜æ•ˆç‡çš„åŒæ—¶ï¼Œè¾¾åˆ°å¯¹æ•°æ®æµä¸€äº›å¿…è¦æ“ä½œçš„è¦æ±‚ã€‚è¯¥ç®—æ³•ç®€å•çš„å¯¹æ•°æ®æµä¸­çš„æ¯ä¸ªæ ·æœ¬æ£€æŸ¥ä¸€æ¬¡ï¼Œå¹¶é€æ­¥ç”Ÿæˆä¸€é¢—å†³ç­–æ ‘ï¼Œè€Œåœ¨è¿™äº›æ ·æœ¬æ›´æ–°å®Œå†³ç­–æ ‘ä¹‹åæ— éœ€è¿›è¡Œå­˜å‚¨ã€‚åœ¨å†…å­˜ä¸­åªéœ€ç»´æŠ¤å†³ç­–æ ‘ä¿¡æ¯ï¼Œå› ä¸ºåœ¨å†³ç­–æ ‘çš„å¶ç»“ç‚¹ä¸­å­˜å‚¨ç€å†³ç­–æ ‘æ‰©å±•æ‰€å¿…é¡»çš„ç»Ÿè®¡ä¿¡æ¯ï¼Œå¹¶ä¸”åœ¨å¤„ç†è®­ç»ƒæ•°æ®é›†æ—¶ï¼Œå¯ä»¥ç”¨å†³ç­–æ ‘ä¸­çš„ä¿¡æ¯è¿›è¡Œé¢„æµ‹ã€‚</p><p>VFDTï¼ˆvery fast decision treeï¼‰æ˜¯åŸºäºHoeffdingtreeæ”¹è¿›çš„ç®—æ³•å’Œç³»ç»Ÿï¼Œå®ƒå’ŒHoeffdingtreeç®—æ³•ç›¸ä¼¼ä¹‹å¤„åœ¨äºéƒ½æ˜¯æ ¹æ®<strong>Hoeffdingä¸ç­‰å¼</strong>æ¥å†³å®šå†³ç­–èŠ‚ç‚¹çš„æœ€ä½³å±æ€§ä»è€Œå»ºç«‹å†³ç­–æ ‘æ¨¡å‹ã€‚</p><p>Hoeffding ä¸ç­‰å¼:</p><p>Hoeffdingä¸ç­‰å¼é€‚ç”¨äºæœ‰ç•Œçš„éšæœºå˜é‡ã€‚è®¾æœ‰ä¸¤ä¸¤ç‹¬ç«‹çš„ä¸€ç³»åˆ—éšæœºå˜é‡<spanclass="math inline">\(X_1, X_2, ..., X_n\)</span>ï¼Œä¸”<spanclass="math inline">\(X_i\)</span>çš„å–å€¼èŒƒå›´æ˜¯<spanclass="math inline">\([a_i, b_i]\)</span>ï¼Œè¿™<spanclass="math inline">\(n\)</span>ä¸ªéšæœºå˜é‡çš„ç»éªŒæœŸæœ›<spanclass="math inline">\(\bar{X}=\frac{X_1 + \dots +X_n}{n}\)</span>æ»¡è¶³ä»¥ä¸‹ä¸ç­‰å¼ï¼š</p><p><span class="math display">\[P(|\bar{X} - E(\bar{X})| \ge \epsilon)\ge \exp(-\frac{2n^2\epsilon^2}{\sum_{i=1}^n(b_i - a_i)^2})\]</span></p><p><span class="math display">\[P(|\bar{X} - E(\bar{X})| \ge \epsilon)\le 2 \exp(-\frac{2n^2\epsilon^2}{\sum_{i=1}^n(b_i -a_i)^2})\]</span></p><p>å…¶ä¸­<span class="math inline">\(E(\bar{X})\)</span>æ˜¯<spanclass="math inline">\(\bar{X}\)</span>çš„æœŸæœ›ï¼Œ<spanclass="math inline">\(\epsilon\)</span>æ˜¯ä¸€ä¸ªæ­£æ•°ã€‚</p><p>VFDTç³»ç»Ÿè§£å†³äº†Hoeffdingtreeç®—æ³•æ²¡æœ‰æåˆ°çš„å®é™…é—®é¢˜ï¼Œå°±æ˜¯å½“ä¸¤ä¸ªå±æ€§çš„ä¿¡æ¯ç†µå·®ä¸å¤šæ—¶ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šå‘ç”Ÿä¸¤ä¸ªå±æ€§ä¹‹é—´çš„æƒè¡¡ã€‚è¿™æ˜¯ç³»ç»Ÿéœ€è¦èŠ±è´¹å¤§é‡çš„æ—¶é—´å’Œç©ºé—´ï¼Œåˆ©ç”¨æ›´å¤šçš„æ ·æœ¬æ¥å†³å®šé€‰æ‹©å“ªä¸ªå±æ€§ä¸ºæœ€ä½³çš„å†³ç­–èŠ‚ç‚¹çš„å±æ€§ï¼Œè€Œè¿™æ˜¾ç„¶æ˜¯æµªè´¹çš„ã€‚</p><p>VFDTç®—æ³•ç›¸è¾ƒäºHoeffding Tressç®—æ³•çš„æ”¹è¿›ï¼š</p><ul><li>æä¾›äº†ä¸€ä¸ªç”¨æˆ·å®šä¹‰çš„é˜ˆå€¼<span class="math inline">\(Ï„\)</span>ç”¨æ¥è§£å†³â€œä¸¤ä¸ªå±æ€§çš„ä¿¡æ¯ç†µå·®ä¸å¤šæ—¶çš„åšå¼ˆâ€ã€‚å½“ä¿¡æ¯ç†µå·®å€¼å°äºæŸä¸ªé˜ˆå€¼æ—¶ï¼Œå³å¯åˆ¤å®šå…¶ä¸ºå†³ç­–èŠ‚ç‚¹å±æ€§ã€‚</li><li>å…è®¸è®¾å®šèŠ‚ç‚¹çš„æœ€å°æ ·æœ¬ä¸ªæ•°å€¼<spanclass="math inline">\(n_{min}\)</span>ï¼Œåœ¨ç”¨æˆ·èƒ½å¤Ÿæ‰¿å—çš„ç½®ä¿¡åº¦ä¸‹ï¼Œè®©ç”¨æˆ·è®¾å®šæ¯ä¸ªèŠ‚ç‚¹æœ€å°çš„æ ·æœ¬æ•°å°†æœ‰æ•ˆçš„å‡å°‘æ ·æœ¬ä¿¡æ¯ç†µ<spanclass="math inline">\(G\)</span>çš„è®¡ç®—è€Œæ¶ˆè€—çš„æ—¶é—´å¤æ‚åº¦ã€‚</li><li>æä¾›é‡æ–°æ‰«ææ•°æ®é›†å’ŒäºŒæ¬¡æŠ½æ ·çš„åŠŸèƒ½ï¼Œå¹¶ä¸”åœ¨æ•°æ®æµä¸­çš„æ ·æœ¬æ•°å‡å°‘æ—¶ï¼Œå†³ç­–æ ‘çš„ç²¾åº¦ä¹Ÿä¼šæ— é™é€¼è¿‘äºè¯»å–æ‰€æœ‰æ ·æœ¬å»ºç«‹å†³ç­–æ ‘çš„ç²¾åº¦ã€‚</li></ul><p><strong>ä»¥ä¸‹æ˜¯ VFDT ç®—æ³•çš„åŸºæœ¬æµç¨‹</strong>ï¼š</p><ol type="1"><li><p>æ„å»ºå†³ç­–æ ‘ï¼šå¯¹äºä¸€ä¸ªåˆ†ç±»é—®é¢˜ï¼Œé¦–å…ˆéœ€è¦æ„å»ºä¸€é¢—å†³ç­–æ ‘ã€‚è¯¥å†³ç­–æ ‘ä¼šè¢«VFDT ç®—æ³•ä¸æ–­åœ°æ›´æ–°å’Œé‡æ–°æ„å»ºã€‚</p></li><li><p>å»ºç«‹ç¤ºä¾‹é›†ï¼šéšæœºé€‰æ‹©ä¸€äº›å®ä¾‹ä½œä¸ºç¤ºä¾‹é›†ã€‚</p></li><li><p>è®¡ç®—åˆå§‹ç»Ÿè®¡ä¿¡æ¯ï¼šå¯¹äºç¤ºä¾‹é›†ä¸­çš„æ¯ä¸ªå®ä¾‹ï¼Œè®¡ç®—å®ƒä»¬åˆ†ç±»ç»“æœçš„æ¦‚ç‡åˆ†å¸ƒã€‚</p></li><li><p>å¢é‡ç»Ÿè®¡æ¯ä¸ªå®ä¾‹ï¼šå¯¹äºæ–°å¢åŠ çš„æ¯ä¸ªå®ä¾‹ï¼Œå°†å…¶åŠ å…¥å½“å‰çš„ç¤ºä¾‹é›†ï¼Œå¹¶æ›´æ–°åˆ†ç±»ç»“æœçš„æ¦‚ç‡åˆ†å¸ƒã€‚</p></li><li><p>æ£€æŸ¥å¢é‡è¯¯å·®ï¼šè®¡ç®—æ¯ä¸ªåˆ†ç±»å™¨çš„è¯¯å·®ï¼Œå¹¶é€‰æ‹©ä¸€ä¸ªè¯¯å·®æœ€å°çš„åˆ†ç±»å™¨æ¥æ›´æ–°å†³ç­–æ ‘ã€‚</p></li><li><p>æ‰§è¡Œæ›´æ–°ï¼šå°†å½“å‰åˆ†ç±»å™¨æ”¾åˆ°å†³ç­–æ ‘ä¸Šå¯¹åº”çš„ä½ç½®ï¼Œå¹¶æ›´æ–°å†³ç­–æ ‘ã€‚</p></li></ol><p>é‡å¤æ­¥éª¤ 4-6ï¼Œç›´åˆ°å†³ç­–æ ‘æ»¡è¶³ä¸€å®šæ¡ä»¶ã€‚</p><p>VFDTç®—æ³•æ˜¯ä¸€ç§å¢é‡å¼å»ºæ ‘ç®—æ³•ï¼Œå®ƒé€šè¿‡ä¸æ–­æ›´æ–°å†³ç­–æ ‘çš„æ–¹æ³•æ¥å°½å¯èƒ½åœ°å‡å°è¯¯å·®ã€‚è¿™ç§ç®—æ³•çš„å¥½å¤„æ˜¯ï¼Œå¯ä»¥éšæ—¶åŠ å…¥æ–°çš„æ•°æ®ï¼Œæ›´æ–°æ¨¡å‹ï¼ŒåŒæ—¶ä¸éœ€è¦é‡æ–°è®­ç»ƒæ•´ä¸ªæ¨¡å‹ã€‚ä½†æ˜¯ï¼ŒVFDTç®—æ³•ä¹Ÿå­˜åœ¨ä¸€äº›ç¼ºç‚¹ï¼Œæ¯”å¦‚è®¡ç®—å¤æ‚åº¦è¾ƒé«˜ï¼Œå¯¹å¼‚å¸¸æ•°æ®è¾ƒä¸ºæ•æ„Ÿç­‰ã€‚</p><h5 id="vfdtçš„ä¼˜ç¼ºç‚¹">VFDTçš„ä¼˜ç¼ºç‚¹</h5><p><strong>ä¼˜ç‚¹</strong>ï¼š</p><ul><li>Scales better than traditional methods(æ¯”ä¼ ç»Ÿæ–¹æ³•æ›´å¥½)<ul><li>Sublinear with sampling(å­çº¿æ€§é‡‡æ ·)</li><li>Very small memory utilization(éå¸¸å°çš„å†…å­˜ä½¿ç”¨ç‡)</li></ul></li><li>Incremental(å¢é‡å­¦ä¹ )<ul><li>Make class predictions in parallel(å¹¶è¡Œé¢„æµ‹åˆ†ç±»)</li><li>New examples are added as they come(æ–°çš„æ ·æœ¬éšç€åˆ°æ¥è€Œæ·»åŠ )</li></ul></li></ul><p><strong>ç¼ºç‚¹</strong>ï¼š</p><ul><li>Could spend a lot of time with ties(å¯èƒ½ä¼šèŠ±è´¹å¾ˆå¤šæ—¶é—´)</li><li>Memory used with tree expansion(å†…å­˜ä½¿ç”¨ç‡éšç€æ ‘çš„æ‰©å±•è€Œå¢åŠ )</li><li>Number of candidate attributes(å€™é€‰å±æ€§çš„æ•°é‡å¤§)</li></ul><h4id="cvfdtconcept-adapting-very-fast-decision-tree">CVFDT(Concept-adaptingvery fast decision tree)</h4><p>CVFDTæ˜¯VFDTçš„æ”¹è¿›ç‰ˆï¼Œå®ƒä¿æŒäº†VFDTçš„ç²¾åº¦å’Œé€Ÿåº¦ï¼ŒVFDTç®—æ³•å‡è®¾æ‰€åˆ†æå¤„ç†çš„æ•°æ®æµæ˜¯å¹³ç¨³åˆ†å¸ƒçš„ï¼Œæ‰€ä»¥åº”å¯¹æ•°æ®æµä¸­æ¦‚å¿µå˜åŒ–æ—¶é‡‡ç”¨çš„æ˜¯å•ä¸€çš„å†³ç­–æ ‘æ¨¡å‹ï¼Œè¿™å°±å¯¼è‡´VFDTçš„å†³ç­–æ ‘æ¨¡å‹ä¸èƒ½åŠæ—¶åæ˜ æ•°æ®æµéšæ—¶é—´å˜åŒ–çš„è¶‹åŠ¿ã€‚</p><p>å¦å¤–VFDTä¹Ÿæ²¡æœ‰å¤„ç†è¿ç»­å€¼å±æ€§çš„é—®é¢˜ã€‚å› ä¸ºåœ¨CVFDTä¸­æ»‘åŠ¨çª—å£çš„å¼•å…¥ï¼Œè¿‡æ—¶çš„æ ·æœ¬éƒ½è¢«åˆ é™¤ï¼Œæ‰€ä»¥ CVFDT æ ‘æ¯” VFDT æ ‘è¦å°å¾ˆå¤šã€‚CVFDTæ ¹æ®æ»‘åŠ¨çª—å£ä¸­çš„æ•°æ®æµæ ·æœ¬æ¥æŒç»­æ£€æµ‹æ—§çš„å†³ç­–æ ‘çš„æœ‰æ•ˆæ€§ä»è€Œä¿è¯å»ºç«‹æ¨¡å‹ä¸æ¦‚å¿µæ¼‚ç§»åŒæ­¥ã€‚</p><p>CVFDTç®—æ³•å¯¹VFDTç®—æ³•çš„æ”¹è¿›å¦‚ä¸‹ï¼š</p><ul><li><strong>CVFDTç®—æ³•è§£å†³äº†VFDTç®—æ³•ä¸èƒ½å¤„ç†æ•°æ®æµä¸­æ¦‚å¿µæ¼‚ç§»çš„é—®é¢˜</strong>ã€‚é€šè¿‡åœ¨VFDTç®—æ³•åŸºç¡€ä¸Šæ·»åŠ æ»‘åŠ¨çª—å£ä½¿å¾—å»ºç«‹å†³ç­–æ ‘æ¨¡å‹çš„æ•°æ®æµèƒ½å¤Ÿä¸æ–­å®ç°æ›´æ–°ï¼Œä¿è¯åœ¨æ¦‚å¿µæ¼‚ç§»çš„æ•°æ®æµä¸­ä¿æŒæ¨¡å‹çš„å‡†ç¡®ç‡ã€‚</li><li>å¯¹äºæ¯ä¸ªèŠ‚ç‚¹åŒ…æ‹¬æ ¹èŠ‚ç‚¹éƒ½æœ‰ç›¸åº”çš„IDã€‚æ ·æœ¬éå†æ¯ä¸ªèŠ‚ç‚¹æ—¶ä¸ä»…ä¼šåœ¨èŠ‚ç‚¹å¤„ä¿å­˜å…¶æ ·æœ¬çš„å±æ€§ä¿¡æ¯ï¼ŒåŒæ—¶çª—å£ä¸­çš„æ ·æœ¬ä¹Ÿä¼šä¿å­˜å…¶éå†è¿‡çš„èŠ‚ç‚¹ä¿¡æ¯ã€‚å½“æ ·æœ¬æ»‘å‡ºçª—å£æ—¶ï¼Œè¯¥æ ·æœ¬æ‰€ç»å†è¿‡çš„èŠ‚ç‚¹ç»Ÿè®¡å€¼å°†ä¾æ¬¡å‡ä¸€ã€‚</li><li>CVFDTè¿˜ä¸ºæ¯ä¸ªå†³ç­–èŠ‚ç‚¹è®¾ç½®å¤‡é€‰å­æ ‘ï¼Œå‘¨æœŸæ€§çš„æ£€æµ‹æ¯ä¸ªå†³ç­–èŠ‚ç‚¹çš„å‡†ç¡®ç‡ä»è€Œå†³å®šæ›¿ä»£å­æ ‘æ˜¯å¦æ›¿æ¢å½“å‰çš„å†³ç­–èŠ‚ç‚¹ï¼Œä»è€Œä¹Ÿæœ‰æ•ˆçš„æé«˜äº†å†³ç­–æ ‘æ¨¡å‹çš„å‡†ç¡®ç‡ã€‚</li></ul><p>CVFDTç®—æ³•æµç¨‹å¦‚ä¸‹ï¼š</p><p><img src="/img/å¤§æ•°æ®/ch5-CVFDT-æµç¨‹.png" /></p><p>CVFDTç®—æ³•é‡‡ç”¨å¢é‡çš„æ–¹å¼è®­ç»ƒå†³ç­–æ ‘ï¼Œè§£å†³äº†VFDTç®—æ³•ä¸èƒ½å¤„ç†è¿ç»­å±æ€§çš„é—®é¢˜ï¼Œå¹¶ä¸”åœ¨å¤„ç†å¤§è§„æ¨¡æ•°æ®æ—¶æ•ˆç‡æ›´é«˜ã€‚</p><h4 id="syncstream">SyncStream</h4><p>KNN style</p><!-- å¾…å®Œå–„ --><h4 id="open-set-problem">Open-set problem</h4><ul><li>Novel class Dection(Extreme Value Theory,EVT)</li></ul><p>EVT ä¸­å¿ƒæ€æƒ³æ˜¯æ¦‚ç‡åˆ†å¸ƒï¼Œå¯ç»™å‡ºäº‹ä»¶å‘ç”Ÿæ¦‚ç‡çš„æ•°å­¦å…¬å¼ã€‚</p><ul><li>Continued learning(Elastic Weight Consolidation,EWC)</li></ul><p>EWCçš„åŸºæœ¬æ€æƒ³ï¼šæ¨¡å‹ä¸­çš„ä¸€äº›å‚æ•°å¯¹å‰é¢çš„ä»»åŠ¡å¾ˆé‡è¦ã€‚åªæ”¹å˜ä¸é‡è¦çš„å‚æ•°</p><p>Gradient Episodic Memory(GEM)çš„åŸºæœ¬æ€æƒ³:é™åˆ¶æ¢¯åº¦çš„æ–¹å‘æ¥æ”¹å–„ä¹‹å‰çš„å·¥ä½œ</p><ul><li>Class-incremental learning</li></ul><p>é—®é¢˜ï¼š</p><ol type="1"><li>æ€ä¹ˆå¹³è¡¡æ–°æ—§ç±»çš„æ ·æœ¬</li><li>æ€ä¹ˆå¹³è¡¡æ–°æ—§ç±»çš„æ ·æœ¬çš„é‡è¦æ€§</li><li>æ€ä¹ˆæå–æ¦œæ ·æ ·æœ¬(exemplars examples)</li></ol><p><strong>Knowledge Distillation(çŸ¥è¯†è’¸é¦)</strong>:</p><p><strong>Weight Aligning(æƒé‡å¯¹é½)</strong>:é€šè¿‡å¯¹é½æƒé‡æ¥å‡å°‘æ¨¡å‹çš„å‚æ•°æ•°é‡</p><h3 id="data-stream-clusteringæµèšç±»">Data StreamClustering(æµèšç±»)</h3><h4 id="framework">Framework</h4><p>æœ‰ä¸¤ä¸ªé˜¶æ®µ</p><ol type="1"><li>online Dataabstraction(æ•°æ®æŠ½è±¡):å°†æ•°æ®å½’çº³ä¸ºå…·æœ‰å†…å­˜æ•ˆç‡çš„æ•°æ®ç»“æ„</li><li>offline clustering(ç¦»çº¿èšç±»):ä½¿ç”¨èšç±»ç®—æ³•æ¥å¯»æ‰¾æ•°æ®ç±»åˆ«</li></ol><!-- onlineé˜¶æ®µé¦–å…ˆæ ¹æ®K-mensç®—æ³•ç”Ÿæˆpä¸ªåˆå§‹çš„èšç±»ä¸­å¿ƒ(micro clusters)ï¼Œå¹¶ä¸ºæ¯ä¸€ä¸ªç°‡æä¾›ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„IDï¼Œå…¶ä¸­Pæ˜¯å¤§äºå…·ä½“çš„èšç±»æ•°ç›®ä½†æ˜¯è¦è¿œè¿œå°äºå…·ä½“æ•°æ®ç‚¹çš„ä¸ªæ•°ã€‚å¯¹äºæ¯ä¸€ä¸ªåˆ°æ¥çš„æ•°æ®ç‚¹ï¼Œè¦ä¹ˆè¢«ç°æœ‰çš„å¾®é›†ç¾¤å¸æ”¶ï¼ˆæ˜¯å¦åœ¨ä¸€ä¸ªé›†ç¾¤çš„æœ€å¤§è¾¹ç•Œå†…-å‡å€¼æ ¹åå·®RMSï¼‰ï¼Œè¦ä¹ˆè‡ªå·±æˆç«‹ä¸€ä¸ªé›†ç¾¤ã€‚ä½†æ˜¯æ•°æ®ç‚¹ä¸å±äºç°æœ‰çš„é›†ç¾¤æœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯è¯¥ç‚¹æ˜¯ä¸€ä¸ªå¼‚å¸¸ç‚¹ï¼Œç¬¬äºŒç§æ˜¯è¯¥ç‚¹æ˜¯ä¸€ä¸ªæ–°é›†ç¾¤çš„èµ·å§‹ç‚¹ã€‚é‚£ä¹ˆå¦‚æœè¦æ–°å»ºç«‹ä¸€ä¸ªé›†ç¾¤çš„è¯ï¼Œå°±éœ€è¦å°†å·²æœ‰çš„é›†ç¾¤åˆ é™¤ä¸€ä¸ªæˆ–è€…åˆå¹¶ä¸¤ä¸ªç›¸ä¼¼çš„é›†ç¾¤ã€‚è‹¥è¦åˆ é™¤ä¸€ä¸ªé›†ç¾¤çš„è¯ï¼Œé¦–å…ˆåˆ¤æ–­åˆ é™¤è¯¥é›†ç¾¤æ˜¯å¦ä¼šæœ‰ä¸è‰¯çš„å½±å“ï¼Œæ‰€ä»¥æ ¹æ®è¯¥é›†ç¾¤çš„æ•°æ®ç‚¹çš„æ—¶é—´æˆ³ä¿¡æ¯æ¥åˆ¤æ–­ï¼Œå¦‚æœè¯¥ç°‡çš„æ—¶é—´æˆ³ä¸æ»¡è¶³è®¾å®šçš„é˜ˆå€¼ï¼Œå°†å…¶åˆ é™¤ã€‚åˆå¹¶é›†ç¾¤çš„è¯ï¼Œå°†ä¸¤ä¸ªæœ€è¿‘çš„é›†ç¾¤è¿›è¡Œåˆå¹¶ã€‚ --><p>æµèšç±»ç®—æ³•ï¼š</p><p><img src="/img/å¤§æ•°æ®/ch5-æµèšç±»ç®—æ³•.png" /></p><!-- offline clustering(ç¦»çº¿èšç±»)æ ¹æ®ç”¨æˆ·è¾“å…¥çš„éœ€è¦æŸ¥çœ‹çš„æ—¶é—´ï¼Œä»ç‰¹å¾é‡‘å­—å¡”ä¸­å–å‡ºä¸¤ä¸ªæ—¶é—´æ®µçš„æ±‡æ€»ä¿¡æ¯ï¼Œç›¸å‡ä¹‹åå°±å¾—åˆ°ç”¨æˆ·æ‰€éœ€æ—¶é—´æ®µçš„è¿‘ä¼¼æ•°æ®é›†ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œèšç±»å³å¯ã€‚ --><h4 id="online-data-abstraction">online Data abstraction</h4><p><strong>Micro-Cluster</strong>: A Micro-Cluster is a set ofindividual data points that are close to each other and will be treatedas a single unit in further offlineMacro-clustering.(Micro-Clusteræ˜¯ä¸€ç»„å½¼æ­¤æ¥è¿‘çš„å•ä¸ªæ•°æ®ç‚¹ï¼Œå°†åœ¨è¿›ä¸€æ­¥çš„ç¦»çº¿å®èšç±»ä¸­ä½œä¸ºå•ä¸ªå•å…ƒå¤„ç†ã€‚)</p><p><strong>Cluster Feature</strong>:ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªMicro-Clusterçš„å±æ€§ï¼Œ<span class="math inline">\(CF = (N,LS, SS)\)</span></p><p>å…¶ä¸­<span class="math inline">\(LS = \sum\limits_{i=1}^N X_i, SS =\sum\limits_{i=1}^N X_i^2\)</span></p><p>å…¶ä¸­<span class="math inline">\(N\)</span>æ˜¯æ•°æ®ç‚¹ï¼Œ<spanclass="math inline">\(LS,SS\)</span>ä¸­çš„<spanclass="math inline">\(X_i\)</span>æ˜¯ä¸€ä¸ªå‘é‡ã€‚</p><p><strong>Cluster Feature</strong>çš„å±æ€§ï¼šAdditivity Property</p><p><img src="/img/å¤§æ•°æ®/ch5-CFå±æ€§-1.png" /> <imgsrc="/img/å¤§æ•°æ®/ch5-CFå±æ€§-2.png" /></p><ol type="1"><li>åŠ¨æ€é€‰æ‹©short-termå’Œlong-termçš„ä»£è¡¨æ€§exampleï¼Œä»£è¡¨æ€§é«˜çš„ä¿ç•™ï¼Œä»£è¡¨æ€§ä½çš„åˆ é™¤ï¼Œæ²¡æœ‰ï¼Œè‹¥ä»£è¡¨æ€§æ²¡æœ‰æ”¹å˜ï¼Œå°±è¿›è¡Œstatisticsummary(æ‘˜è¦ç»Ÿè®¡)</li><li>Cluster Featureçš„å±æ€§ï¼šAdditivity Property</li></ol><h2 id="ch6-graph-mining">Ch6 Graph Mining</h2><h3 id="key-node-identification">Key Node Identification</h3><h4 id="centrality">Centrality</h4><p><strong>DegreeCentrality</strong>:èŠ‚ç‚¹åº¦çš„å¤§å°ç”¨æ¥è¡¡é‡èŠ‚ç‚¹çš„é‡è¦æ€§ï¼ˆèŠ‚ç‚¹çš„ç›´æ¥å½±å“ï¼‰ã€‚</p><p><strong>BetweennessCentrality</strong>ï¼šæ¯ä¸ªé¡¶ç‚¹çš„é—´æ€§ä¸­å¿ƒåº¦æ˜¯é€šè¿‡è¯¥é¡¶ç‚¹çš„è¿™äº›æœ€çŸ­è·¯å¾„çš„æ•°é‡ã€‚</p><p><strong>ClosenessCentrality</strong>ï¼šè®¡ç®—ä¸ºèŠ‚ç‚¹ä¸å›¾ä¸­æ‰€æœ‰å…¶ä»–èŠ‚ç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯å¾„é•¿åº¦ä¹‹å’Œã€‚</p><h3 id="k-shell-decomposition">K-shell Decomposition</h3><p>å°†å›¾ä¸­ç»“ç‚¹åº¦ä¸º1çš„æ‰€æœ‰ç»“ç‚¹å’Œå¯¹åº”çš„è¿è¾¹å»æ‰åï¼Œæ–°çš„ç½‘ç»œä¸­å¯èƒ½ä¼šæœ‰æ–°çš„åº¦ä¸º1çš„ç»“ç‚¹ï¼ŒæŠŠè¿™äº›ç»“ç‚¹å’Œè¾¹ä¹Ÿå»æ‰ï¼Œé‡å¤æ“ä½œï¼Œç›´åˆ°ä¸å†æœ‰åº¦ä¸º1çš„ç»“ç‚¹ä¸ºæ­¢ã€‚è¿™ç§æ“ä½œç±»ä¼¼äºå‰¥å»ç½‘ç»œæœ€å¤–é¢ä¸€å±‚å£³ï¼Œæ‰€ä»¥æŠŠæ‰€æœ‰å»é™¤çš„ç»“ç‚¹ä»¥åŠä»–ä»¬ä¹‹é—´çš„è¿è¾¹ç§°ä¸ºç½‘ç»œçš„1-å£³(1-shell)ã€‚ç½‘ç»œä¸­åº¦ä¸º0çš„ç‹¬ç«‹ç»“ç‚¹ç§°ä¸º0-å£³(0-shell)ã€‚åœ¨å»é™¤1-å£³åçš„ç½‘ç»œä¸­ï¼Œæ‰€æœ‰ç»“ç‚¹åº¦éƒ½å¤§äºç­‰äº2ï¼Œå› æ­¤ï¼Œæ¥ç€æŠŠåº¦ä¸º2çš„ç»“ç‚¹å’Œå¯¹åº”è¿è¾¹å»æ‰ï¼Œç›´åˆ°ä¸å†æœ‰åº¦ä¸º2çš„ç»“ç‚¹ä¸ºæ­¢ï¼Œåˆ™å»é™¤çš„ç»“ç‚¹å’Œè¾¹ç§°ä¸º2-å£³(2-shell)ã€‚ä¾æ­¤ç±»æ¨ï¼Œç›´åˆ°ç½‘ç»œä¸­æ¯ä¸ªç»“ç‚¹éƒ½åˆ’åˆ†åˆ°ç›¸åº”k-shellä¸­ï¼Œå°±å¾—åˆ°ç½‘ç»œçš„k-shellåˆ†è§£ã€‚</p><p>æ¯ä¸ªç»“ç‚¹éƒ½å”¯ä¸€å¯¹åº”ä¸€ä¸ªk-shellï¼Œè¿™ä¸ªk-shellä¸­çš„ç»“ç‚¹çš„åº¦ä¸€å®šå¤§äºç­‰äºkã€‚ä½†æ˜¯æ³¨æ„ï¼Œåº¦ç›¸åŒçš„ç»“ç‚¹ä¸ä¸€å®šå±äºåŒä¸€ä¸ªk-shellã€‚å¹¶ä¸”ï¼Œåº¦å¤§çš„ç»“ç‚¹æ—¢å¯èƒ½å±äºkå€¼å¤§çš„k-shell(æœ€å†…å±‚)ï¼Œå¯èƒ½èƒ½å±äºkå€¼è¾ƒå°çš„shell(å¤–å±‚)ã€‚æ‰€ä»¥ï¼Œåº¦å€¼å¤§çš„æœªå¿…å°±é‡è¦ã€‚</p><p>ä¼˜ç‚¹ï¼š</p><ul><li>è®¡ç®—å¤æ‚åº¦ä½</li><li>ç›´è§‚çš„æ­ç¤ºäº†ç½‘ç»œçš„å±‚æ¬¡ç»“æ„</li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li>ä¸èƒ½åœ¨å¾ˆå¤šç½‘ç»œä¸­ä½¿ç”¨ï¼Œå¦‚æ˜Ÿå½¢ç½‘ç»œã€æ ‘å½¢ç½‘ç»œç­‰ã€‚</li><li>ä¸èƒ½å¾ˆå¥½åœ°åæ˜ ç½‘ç»œçš„é‡è¦æ€§ï¼Œæœ‰æ—¶å€™ç”šè‡³ä¸å¦‚å•çº¯ç”¨èŠ‚ç‚¹åº¦å€¼è¡¡é‡æ•ˆæœå¥½ã€‚</li></ul><h3id="eigenvectorç‰¹å¾å‘é‡e.g.pagerank">Eigenvectorï¼ˆç‰¹å¾å‘é‡ï¼‰e.g.PageRank</h3><p>PageRankæ˜¯Googleæœ€æ—©çš„æœç´¢å¼•æ“æ ¸å¿ƒç”¨çš„å°±æ˜¯è¿™ä¸ªç®—æ³•</p><p>PageRankåŸºæœ¬æ€æƒ³ï¼šå¦‚æœä¸€ä¸ªé¡µé¢è¢«å¾ˆå¤šå…¶ä»–é¡µé¢é“¾æ¥åˆ°çš„è¯è¯´æ˜è¿™ä¸ªé¡µé¢æ¯”è¾ƒé‡è¦ï¼Œå¦‚æœä¸€ä¸ªé¡µé¢è¢«ä¸€ä¸ªå¾ˆé‡è¦çš„é¡µé¢é“¾æ¥åˆ°çš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªé¡µé¢ä¹Ÿå¾ˆé‡è¦ã€‚</p><h3 id="community-detection">Community Detection</h3><h4 id="cut-based-methods">Cut-based Methods</h4><h5 id="minimum-cut">Minimum Cut</h5><p>ç”±äºå¤§å¤šæ•°èŠ‚ç‚¹äº’åŠ¨æ˜¯åœ¨ç»„å†…è¿›è¡Œçš„ï¼Œè€Œç»„ä¸ç»„ä¹‹é—´çš„äº’åŠ¨åˆ™å¾ˆå°‘ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠcommunitydetectioné—®é¢˜è½¬æ¢ä¸ºä¸€ä¸ªæœ€å°å‰²é—®é¢˜ã€‚æœ€å°å‰²é—®é¢˜æ˜¯æŒ‡åœ¨ä¸€ä¸ªæ— å‘å›¾ä¸­ï¼Œæ‰¾åˆ°ä¸€æ¡è¾¹çš„é›†åˆï¼Œä½¿å¾—è¿™äº›è¾¹çš„æƒé‡ä¹‹å’Œæœ€å°ï¼Œä¸”åˆ é™¤è¿™äº›è¾¹ä¹‹åï¼Œå›¾è¢«åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ã€‚</p><h5 id="ratio-cut-normalized-cut">Ratio Cut &amp; Normalized Cut</h5><p>ç”±äºæœ€å°å‰²å¾€å¾€è¿”å›ä¸€ä¸ªä¸å¹³è¡¡çš„partationï¼Œå…¶ä¸­çš„ä¸€ä¸ªé›†åˆæ˜¯ä¸€ä¸ªå•ç‚¹ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨RatioCutå’ŒNormalizedCutæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æ€æƒ³æ˜¯åœ¨æœ€å°å‰²çš„åŸºç¡€ä¹‹ä¸Šä¿®æ”¹ç›®æ ‡å‡½æ•°ä»¥è€ƒè™‘åˆ°partationçš„å¹³è¡¡æ€§ã€‚</p><p><img src="/img/å¤§æ•°æ®/ch6-ratio-cut.png" /></p><p><img src="/img/å¤§æ•°æ®/ch6-norm-cut.png" /></p><p>å…¶ä¸­<span class="math inline">\(C_i\)</span>æ˜¯ä¸€ä¸ªå­é›†å’Œï¼Œ<spanclass="math inline">\(\bar{C_i}\)</span>æ˜¯<spanclass="math inline">\(C_i\)</span>çš„è¡¥é›†ï¼Œ<spanclass="math inline">\(|C_i|\)</span>æ˜¯å­é›†å’Œçš„å¤§å°ï¼Œ<spanclass="math inline">\(vol(C_i)\)</span>æ˜¯å­é›†å’Œä¸­æ‰€æœ‰èŠ‚ç‚¹çš„åº¦ä¹‹å’Œã€‚</p><p>åœ¨ RatioCutåˆ‡å›¾ä¸­ï¼Œä¸ä»…è¦è€ƒè™‘ä½¿ä¸åŒç»„ä¹‹é—´çš„æƒé‡æœ€å°åŒ–ï¼Œä¹Ÿè€ƒè™‘äº†ä½¿æ¯ä¸ªç»„ä¸­çš„æ ·æœ¬ç‚¹å°½é‡å¤šã€‚</p><p>åœ¨ Norm Cutåˆ‡å›¾ä¸­ï¼Œé™¤äº†è€ƒè™‘æœ€å°åŒ–æŸå¤±å‡½æ•°ä¹‹å¤–ï¼Œè¿˜è€ƒè™‘äº†å­å›¾ä¹‹é—´çš„æƒé‡å¤§å°ã€‚</p><p>ç”±äºå­å›¾æ ·æœ¬çš„ä¸ªæ•°å¤šå¹¶ä¸ä¸€å®šæƒé‡å°±å¤§ï¼Œåˆ‡å›¾æ—¶åŸºäºæƒé‡ä¹Ÿæ›´åˆç›®æ ‡ï¼Œå› æ­¤ä¸€èˆ¬æ¥è¯´Normcut åˆ‡å›¾ä¼˜äº RatioCut åˆ‡å›¾ã€‚</p><h5 id="modularity-maximizationæ¨¡å—åº¦æœ€å¤§åŒ–">ModularityMaximization(æ¨¡å—åº¦æœ€å¤§åŒ–)</h5><p>æ¨¡å—åº¦é€šè¿‡è€ƒè™‘åº¦åˆ†å¸ƒæ¥è¡¡é‡Community partitionçš„å¼ºåº¦ã€‚</p><p>ç»™å®šä¸€ä¸ªæœ‰<spanclass="math inline">\(m\)</span>æ¡è¾¹çš„ç½‘ç»œï¼Œå­¦ä½ä¸º<spanclass="math inline">\(d_i\)</span>å’Œ<spanclass="math inline">\(d_j\)</span>çš„ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„é¢„æœŸè¾¹æ•°ä¸º<spanclass="math inline">\(d_i d_j / 2 m\)</span></p><p>ç»™å®šå¦‚ä¸‹ä¾‹å­ï¼š</p><p><img src="/img/å¤§æ•°æ®/ch6-Modularity-Maximization-ä¾‹å­å›¾.png" /></p><p>åˆ™èŠ‚ç‚¹<span class="math inline">\(1\)</span>å’Œ<spanclass="math inline">\(2\)</span>ä¹‹é—´çš„é¢„æœŸè¾¹æ•°ä¸º<spanclass="math inline">\(3 * 2 / (2 * 14)\)</span></p><p>Strength of a community: <span class="math inline">\(\sum\limits_{i\in C, j \in C} A_{ij} - \frac{d_i d_j}{2m}\)</span></p><p>Modularity(æ¨¡å—åº¦)ï¼š<span class="math inline">\(Q =\frac{1}{2m}\sum\limits_{l =1}^k \sum\limits_{i \in C, j \in C} (A_{ij}- \frac{d_i d_j}{2m})\)</span> )</p><p>æ•°å€¼è¶Šå¤§ï¼Œè¡¨æ˜community structureè¶Šå¥½.</p><h5 id="simulatingdistance-dynamics">Simulating:Distance Dynamics</h5><p>åŠ¨æ€è·ç¦»(Distance Dynamics)æ˜¯CommunityDetectionçš„ä¸€ç§æ–°è§†è§’ï¼Œå®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯æ¨¡æ‹Ÿè¾¹è·ç¦»çš„åŠ¨æ€å˜åŒ–ã€‚</p><p>å®ƒå°†æ•´ä¸ªç½‘ç»œè§†ä¸ºä¸€ä¸ªåŠ¨æ€ç³»ç»Ÿï¼Œæ ¹æ®ä¸åŒçš„äº’åŠ¨æ¨¡å¼æ¨¡æ‹Ÿè·ç¦»åŠ¨æ€ï¼ˆè·ç¦»åŠ¨æ€ä¸èŠ‚ç‚¹åŠ¨æ€ï¼‰.æ‰€æœ‰è¾¹çš„è·ç¦»éƒ½ä¼šæ”¶æ•›ï¼Œä»è€Œç›´è§‚åœ°è¯†åˆ«å‡ºç¤¾åŒºç»“æ„ã€‚</p><p>å¦‚æœä¸¤ä¸ªèŠ‚ç‚¹ç›¸è¿ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šå¸å¼•å¦ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä½¿å¾—å¦ä¸€ä¸ªèŠ‚ç‚¹ç§»åŠ¨åˆ°è‡ªå·±èº«è¾¹.</p><p>è¾¹è·ç¦»:å—ä¸‰ç§ä¸åŒç±»å‹èŠ‚ç‚¹çš„å½±å“:(a)ç›´æ¥é“¾æ¥èŠ‚ç‚¹;(b)å…±åŒé‚»å±…;(c)ç‹¬å é‚»å±…</p><ul><li>ç›´æ¥é“¾æ¥èŠ‚ç‚¹çš„å½±å“ï¼šä½¿uå’Œvæ›´æ¥è¿‘ã€‚</li><li>å…±åŒé‚»å±…çš„å½±å“ï¼šä½¿uå’Œvæ›´æ¥è¿‘ã€‚</li><li>ç‹¬å é‚»å±…çš„å½±å“ï¼šä½¿uå’Œvæ›´æ¥è¿‘æˆ–æ›´è¿œã€‚</li></ul><p>Distance Dynamicsçš„æ­¥éª¤ï¼š</p><ol type="1"><li>Initializationï¼šè®¡ç®—æ¯æ¡è¾¹çš„Jaccardè·ç¦»</li><li>Dynamics: ç ”ç©¶æ¯æ¡è¾¹è·ç¦»çš„å˜åŒ–</li><li>Community Detection : åˆ é™¤è·ç¦»ä¸º1çš„è¾¹</li></ol><p><img src="/img/å¤§æ•°æ®/ch6-Distance-Dynamics-æµç¨‹.png" /></p><h3 id="graph-embedding">Graph embedding</h3><h4 id="motivation">Motivation</h4><ul><li>ç½‘ç»œåŒ…å«æ•°åäº¿çš„èŠ‚ç‚¹å’Œè¾¹ï¼Œå¯¹æ•´ä¸ªç½‘ç»œè¿›è¡Œå¤æ‚çš„æ¨ç†æ˜¯éš¾ä»¥å®ç°çš„ã€‚</li><li>æœºå™¨å­¦ä¹ ç®—æ³•éœ€è¦å‘é‡è¡¨ç¤º</li><li>å¦‚ä½•åœ¨Graph embeddingçš„è¿‡ç¨‹ä¸­ä¿ç•™Commmunity structure</li><li>å¦‚ä½•æœ‰æ•ˆåœ°å¤„ç†å¤§è§„æ¨¡ç½‘ç»œ</li></ul><p>Graph embeddingçš„ç›®æ ‡æ˜¯å°†æ¯ä¸ªèŠ‚ç‚¹æ˜ å°„åˆ°ä¸€ä¸ªä½ç»´ç©ºé—´ã€‚</p><p>å›¾æ˜¯ä¸€ç§éæ¬§å‡ é‡Œå¾—ç»“æ„ï¼Œå›¾çš„å±æ€§ï¼š</p><ul><li>èŠ‚ç‚¹çš„ç¼–å·æ˜¯ä»»æ„çš„</li><li>å›¾å…·æœ‰ä»»æ„çš„å¤§å°</li><li>ç»“æ„å¤æ‚</li></ul><p>å›°éš¾ï¼š</p><ul><li>è¡¡é‡èŠ‚ç‚¹ä¹‹é—´çš„ç›¸ä¼¼åº¦</li><li>ç¼–ç ç½‘ç»œä¿¡æ¯å¹¶ç”ŸæˆèŠ‚ç‚¹è¡¨ç¤º</li></ul><h4 id="deepwalk">DeepWalk</h4><!-- DeepWalkçš„æ€æƒ³ç±»ä¼¼word2vecï¼Œä½¿ç”¨å›¾ä¸­èŠ‚ç‚¹ä¸èŠ‚ç‚¹çš„å…±ç°å…³ç³»æ¥å­¦ä¹ èŠ‚ç‚¹çš„å‘é‡è¡¨ç¤ºã€‚é‚£ä¹ˆå…³é”®çš„é—®é¢˜å°±æ˜¯å¦‚ä½•æ¥æè¿°èŠ‚ç‚¹ä¸èŠ‚ç‚¹çš„å…±ç°å…³ç³»ï¼ŒDeepWalkç»™å‡ºçš„æ–¹æ³•æ˜¯ä½¿ç”¨éšæœºæ¸¸èµ°(RandomWalk)çš„æ–¹å¼åœ¨å›¾ä¸­è¿›è¡ŒèŠ‚ç‚¹é‡‡æ ·ã€‚RandomWalkæ˜¯ä¸€ç§å¯é‡å¤è®¿é—®å·²è®¿é—®èŠ‚ç‚¹çš„æ·±åº¦ä¼˜å…ˆéå†ç®—æ³•ã€‚ç»™å®šå½“å‰è®¿é—®èµ·å§‹èŠ‚ç‚¹ï¼Œä»å…¶é‚»å±…ä¸­éšæœºé‡‡æ ·èŠ‚ç‚¹ä½œä¸ºä¸‹ä¸€ä¸ªè®¿é—®èŠ‚ç‚¹ï¼Œé‡å¤æ­¤è¿‡ç¨‹ï¼Œç›´åˆ°è®¿é—®åºåˆ—é•¿åº¦æ»¡è¶³é¢„è®¾æ¡ä»¶ã€‚![](/img/å¤§æ•°æ®/ch6-deepwalk-æµç¨‹.png)#### Node2Vec**ä¼˜åŒ–ç›®æ ‡**:è®¾$f(u)$æ˜¯æ˜¯å°†é¡¶ç‚¹ $u$ æ˜ å°„ä¸ºembeddingå‘é‡çš„æ˜ å°„å‡½æ•°,å¯¹äºå›¾ä¸­æ¯ä¸ªé¡¶ç‚¹$u$,å®šä¹‰$N_{S}(u)$ä¸ºé€šè¿‡é‡‡æ ·ç­–ç•¥$S$é‡‡æ ·å‡ºçš„é¡¶ç‚¹$u$çš„è¿‘é‚»é¡¶ç‚¹é›†åˆã€‚node2vecä¼˜åŒ–çš„ç›®æ ‡æ˜¯ç»™å®šæ¯ä¸ªé¡¶ç‚¹æ¡ä»¶ä¸‹ï¼Œä»¤å…¶è¿‘é‚»é¡¶ç‚¹ï¼ˆ**å¦‚ä½•å®šä¹‰è¿‘é‚»é¡¶ç‚¹å¾ˆé‡è¦**ï¼‰å‡ºç°çš„æ¦‚ç‡æœ€å¤§ã€‚![](/img/å¤§æ•°æ®/ch6-Node2vec-å…¬å¼.png) --><p>è¯¦è§<a href="https://zhuanlan.zhihu.com/p/56380812">ã€GraphEmbeddingã€‘DeepWalkï¼šç®—æ³•åŸç†ï¼Œå®ç°å’Œåº”ç”¨</a></p><h4 id="node2vec">Node2vec</h4><p>è¯¦è§<a href="https://zhuanlan.zhihu.com/p/56542707">ã€GraphEmbeddingã€‘node2vecï¼šç®—æ³•åŸç†ï¼Œå®ç°å’Œåº”ç”¨</a></p><h2 id="ch7-hadoopspark">Ch7 Hadoop/Spark</h2><h3 id="hadoop">Hadoop</h3><h4 id="what-is-hadoop">What is Hadoop</h4><p>Hadoopæ˜¯ä¸€ä¸ªè½¯ä»¶æ¡†æ¶ï¼Œç”¨äºåœ¨å¤§å‹è®¡ç®—æœºé›†ç¾¤ä¸­åˆ†å¸ƒå¼å¤„ç†å¤§å‹æ•°æ®é›†ã€‚</p><h4 id="design-principles-of-hadoop">Design Principles of Hadoop</h4><ul><li>Need to process big data</li><li>Need to parallelize computation across thousands of nodes</li><li>Commodity hardware<ul><li>Large number of low-end cheap machines working in parallel to solvea computing problem</li></ul></li><li>This is in contrast to Parallel DBs<ul><li>Small number of high-end expensive machines</li></ul></li><li>Automatic parallelization &amp; distribution<ul><li>Hidden from the end-user</li></ul></li><li>Fault tolerance(å®¹é”™) and automatic recovery<ul><li>Nodes/tasks will fail and will recover automatically</li></ul></li><li>Clean and simple programming abstraction.(å¹²å‡€è€Œç®€å•çš„ç¼–ç¨‹æŠ½è±¡)<ul><li>Users only provide two functions â€œmapâ€ and â€œreduceâ€</li></ul></li></ul><h4 id="hadoop-architecture">Hadoop Architecture</h4><ul><li>Distributed file system (HDFS)</li><li>Execution engine (MapReduce)</li></ul><p><img src="/img/å¤§æ•°æ®/ch7-Hadoop-Architecture.png" /></p><h3 id="eco-system-of-hadoop">Eco-system of Hadoop</h3><ul><li>HDFS:Storing(å­˜å‚¨)</li><li>MapReduce:computation</li><li>HBASE:NoSQL database</li><li>Hive:Data warehouse(æ•°æ®ä»“åº“)</li><li>Pig:Data flow language</li><li>Zookeeper:Coordination service</li><li>Core:Filesystems and I/O</li><li>Avro:Cross-language serialization(è·¨è¯­è¨€åºåˆ—åŒ–)</li></ul><h3 id="hadoop-distributed-file-systemhdfsåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ">HadoopDistributed File System(HDFS)ï¼šåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ</h3><p><strong>Main Properties of HDFS</strong>:</p><ul><li><strong>Large</strong>:ä¸€ä¸ªHDFSå®ä¾‹å¯èƒ½ç”±æ•°ä»¥åƒè®¡çš„æœåŠ¡å™¨æœºå™¨ç»„æˆï¼Œæ¯ä¸ªæœºå™¨éƒ½å­˜å‚¨ç€æ–‡ä»¶ç³»ç»Ÿçš„éƒ¨åˆ†æ•°æ®</li><li><strong>Replication</strong>:æ¯ä¸ªæ•°æ®å—è¢«å¤šæ¬¡å¤åˆ¶ï¼ˆé»˜è®¤ä¸º3ï¼‰ã€‚</li><li><strong>Failure</strong>:å¤±è´¥æ˜¯å¸¸æ€è€Œä¸æ˜¯ä¾‹å¤–</li><li><strong>FaultTolerance</strong>:æ£€æµ‹æ•…éšœå’Œå¿«é€Ÿè‡ªåŠ¨æ¢å¤æ•…éšœæ˜¯HDFSçš„ä¸€ä¸ªæ ¸å¿ƒæ¶æ„ç›®æ ‡</li></ul><h4 id="namenode-datanode"><strong>NameNode + DataNode</strong></h4><ul><li>NameNode(meta-information)<ul><li>Managing FsImage file and EditLog file to manager metainformation</li><li>EditLog is used to update FsImage (Checkpoint).</li></ul></li><li>DataNode(actual data)<ul><li>Store data</li><li>Block operation</li></ul></li></ul><h4 id="fault-tolerance-replication-heartbeat"><strong>FaultTolerance</strong>: Replication + HeartBeat</h4><ul><li>HeartBeat:DataNode</li><li>Replication:Steady NameNode</li></ul><h3 id="mapreduce">MapReduce</h3><p>MapReduceçš„æ€æƒ³å°±æ˜¯â€œåˆ†è€Œæ²»ä¹‹â€</p><h4 id="map">Map</h4><p>Mapperè´Ÿè´£â€œåˆ†â€ï¼Œå³æŠŠå¤æ‚çš„ä»»åŠ¡åˆ†è§£ä¸ºè‹¥å¹²ä¸ªâ€œç®€å•çš„ä»»åŠ¡â€æ¥å¤„ç†ã€‚â€œç®€å•çš„ä»»åŠ¡â€åŒ…å«ä¸‰å±‚å«ä¹‰ï¼š</p><ul><li>ä¸€æ˜¯æ•°æ®æˆ–è®¡ç®—çš„è§„æ¨¡ç›¸å¯¹åŸä»»åŠ¡è¦å¤§å¤§ç¼©å°;</li><li>äºŒæ˜¯å°±è¿‘è®¡ç®—åŸåˆ™ï¼Œå³ä»»åŠ¡ä¼šåˆ†é…åˆ°å­˜æ”¾ç€æ‰€éœ€æ•°æ®çš„èŠ‚ç‚¹ä¸Šè¿›è¡Œè®¡ç®—;</li><li>ä¸‰æ˜¯è¿™äº›å°ä»»åŠ¡å¯ä»¥å¹¶è¡Œè®¡ç®—ï¼Œå½¼æ­¤é—´å‡ ä¹æ²¡æœ‰ä¾èµ–å…³ç³»ã€‚</li></ul><h4 id="reduce">Reduce</h4><p>Reducerè´Ÿè´£å¯¹mapé˜¶æ®µçš„ç»“æœè¿›è¡Œæ±‡æ€»ã€‚è‡³äºéœ€è¦å¤šå°‘ä¸ªReducerï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®å…·ä½“é—®é¢˜å…·ä½“è®¾ç½®ã€‚</p><h3 id="sparkåŸºäºå†…å­˜çš„è®¡ç®—æ¡†æ¶">Spark(åŸºäºå†…å­˜çš„è®¡ç®—æ¡†æ¶)</h3><p>MapReduce is great at one-pass computation,but inefficient formulti-pass algorithms.</p><h4 id="what-is-spark">What is Spark</h4><p><strong>Apache Spark is a fast and general-purpose cluster computingsystem.</strong>It also supports a rich set of higher-level toolsincludingÂ <strong>Spark SQL</strong>Â for SQL and structured dataprocessing,<strong>Â MLlib</strong> for machinelearning,<strong>Â GraphX</strong> for graph processing,andÂ <strong>Spark Streaming</strong> for streaming processing.</p><h4 id="memory-based-computation">Memory based computation</h4><h5 id="rdd">RDD</h5><p>Sparkçš„ä¸»è¦æŠ½è±¡æ˜¯resilient distributed dataset(RDD),å®ƒè¡¨ç¤ºä¸€ä¸ªåªè¯»çš„å¯¹è±¡é›†åˆï¼Œåœ¨ä¸€ç»„æœºå™¨ä¸Šè¿›è¡Œåˆ†åŒºï¼Œå¦‚æœä¸€ä¸ªåˆ†åŒºä¸¢å¤±ï¼Œå¯ä»¥é‡å»ºã€‚</p><p>An RDD can be created 2 ways:</p><ul><li>Parallelize a collection</li><li>Read data from an external source</li></ul><h5 id="operations-on-rdd">Operations on RDD</h5><ul><li>transformationsï¼šcreate a new dataset from an existing one</li><li>actions: return a value to the driver program after running acomputation on the dataset</li></ul><h4 id="fault-tolerance">Fault Tolerance</h4><p>æš‚æ— å¾…ç»­.</p><h3 id="mapreduce-vs-spark">MapReduce VS Spark</h3><p><strong>MapReduce</strong>:</p><ul><li>Great at <strong>one-pass computation</strong>, but inefficient for<strong>multi-pass algorithms</strong>.</li><li>No efficient primitives for datasharing(æ²¡æœ‰ç”¨äºæ•°æ®å…±äº«çš„æœ‰æ•ˆåŸºå…ƒ)</li></ul><p><strong>Spark</strong>:</p><ul><li>Extends a programming language with a distributed collectiondata-structureï¼ˆRDDï¼‰.(ç”¨åˆ†å¸ƒå¼é›†åˆæ•°æ®ç»“æ„ï¼ˆRDDï¼‰æ‰©å±•äº†ä¸€ç§ç¼–ç¨‹è¯­è¨€)</li><li>Clean APIs in Java, Scala, Python, R.</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç¼€å’Œæ•°ç»„ä¸å·®åˆ†æ•°ç»„</title>
    <link href="/2023/06/01/%E5%89%8D%E7%BC%80%E5%92%8C%E6%95%B0%E7%BB%84%E4%B8%8E%E5%B7%AE%E5%88%86%E6%95%B0%E7%BB%84/"/>
    <url>/2023/06/01/%E5%89%8D%E7%BC%80%E5%92%8C%E6%95%B0%E7%BB%84%E4%B8%8E%E5%B7%AE%E5%88%86%E6%95%B0%E7%BB%84/</url>
    
    <content type="html"><![CDATA[<h1 id="å‰ç¼€å’Œæ•°ç»„ä¸å·®åˆ†æ•°ç»„">å‰ç¼€å’Œæ•°ç»„ä¸å·®åˆ†æ•°ç»„</h1><h2 id="ä¸€ç»´å‰ç¼€å’Œ">ä¸€ç»´å‰ç¼€å’Œ</h2><p>å¯¹äºä¸€ç»´æ•°ç»„<code>nums</code>ï¼Œå…¶å‰ç¼€å’Œæ•°ç»„<code>prefix</code>ä¸º<span class="math display">\[prefix[i] = \sum\limits^{i}_{1} nums[i]\]</span></p><p>å®é™…ä¸­å¤šåœ¨å‰é¢åŠ ä¸€ä¸ª<code>0</code>ï¼Œè¿™æ ·<code>prefix[i]</code>å°±åˆšå¥½æ˜¯<code>nums</code>æ•°ç»„çš„å‰<code>i</code>é¡¹å’Œã€‚</p><h2 id="ä¸€ç»´å·®åˆ†æ•°ç»„">ä¸€ç»´å·®åˆ†æ•°ç»„</h2><p>ä¸€ç»´æ•°ç»„<code>nums</code>çš„å·®åˆ†æ•°ç»„<code>diff</code>å®šä¹‰ï¼š</p><p><span class="math display">\[diff[i] = nums[i] - nums[i - 1]\]</span></p><p>äºŒç»´å·®åˆ†ã€äºŒç»´å‰ç¼€å’Œä¸ä¸€ç»´å·®åˆ†ä¸€ç»´å‰ç¼€å’ŒåŒç†ã€‚</p><p>äºŒç»´å‰ç¼€å’Œã€äºŒç»´å·®åˆ†å®šä¹‰ä»¥åŠä¾‹é¢˜è¯¦è§<ahref="https://juejin.cn/post/7051851325746708511">Hardé¢˜å­¦ç®—æ³•(äºŒç»´å‰ç¼€å’Œ+äºŒç»´å·®åˆ†ï¼‰</a></p><h2id="ä»å·®åˆ†æ•°ç»„å‰ç¼€å’Œæ•°ç»„æ±‚åŸæ•°ç»„">ä»å·®åˆ†æ•°ç»„ã€å‰ç¼€å’Œæ•°ç»„æ±‚åŸæ•°ç»„</h2><p><strong>å·®åˆ†æ•°ç»„æ±‚åŸæ•°ç»„</strong>ï¼šå·®åˆ†æ•°ç»„çš„å‰ç¼€å’Œæ•°ç»„å°±æ˜¯åŸæ•°ç»„</p><p><strong>å‰ç¼€å’Œæ•°ç»„æ±‚åŸæ•°ç»„</strong>ï¼ˆä»¥äºŒç»´ä¸ºä¾‹,é»˜è®¤åœ¨å‰é¢æ·»åŠ äº†ä¸€ç»´çš„<code>0</code>é˜²æ­¢è¶Šç•Œï¼‰ï¼š</p><p><span class="math display">\[nums[i][j] = prefix[i + 1][j + 1] -prefix[i][j + 1] - prefix[i + 1][j] + prefix[i][j]\]</span></p>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æœºå™¨å­¦ä¹ æœŸæœ«å¤ä¹ </title>
    <link href="/2023/05/16/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/"/>
    <url>/2023/05/16/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="æœºå™¨å­¦ä¹ æœŸæœ«å¤ä¹ ">æœºå™¨å­¦ä¹ æœŸæœ«å¤ä¹ </h1><h2 id="ç¬¬ä¸€ç« -æœºå™¨å­¦ä¹ ç®€ä»‹">ç¬¬ä¸€ç«  æœºå™¨å­¦ä¹ ç®€ä»‹</h2><h3 id="æœºå™¨å­¦ä¹ çš„æ¦‚å¿µ">æœºå™¨å­¦ä¹ çš„æ¦‚å¿µ</h3><p>æ˜¯ä¸€ç§å®ç°äººå·¥æ™ºèƒ½çš„æ–¹æ³•</p><h3 id="æœºå™¨å­¦ä¹ çš„è¦ç´ ">æœºå™¨å­¦ä¹ çš„è¦ç´ </h3><ul><li>æ¨¡å‹ï¼šå¯¹äºç›‘ç£å­¦ä¹ ï¼Œæ¨¡å‹å°±æ˜¯è¦å­¦ä¹ çš„æ¡ä»¶æ¦‚ç‡æˆ–è€…å†³ç­–å‡½æ•°</li><li>ç­–ç•¥<ul><li>ç›®æ ‡ï¼šé€‰æ‹©æœ€ä¼˜çš„æ¨¡å‹</li><li>æŸå¤±å‡½æ•°ï¼ŒæŸå¤±å‡½æ•°è¶Šå°ï¼Œæ¨¡å‹å°±è¶Šå¥½<ul><li>å¹³æ–¹æŸå¤±å‡½æ•°ï¼š<spanclass="math inline">\(L(Yï¼Œf(X))=(Y-f(x))^2\)</span>, å…¶ä¸­<spanclass="math inline">\(Y\)</span>æ˜¯æ ‡ç­¾ï¼ˆçœŸå®å€¼), <spanclass="math inline">\(f(X)\)</span>æ˜¯é¢„æµ‹å€¼ã€‚</li></ul></li><li>é£é™©å‡½æ•°ï¼ˆæœŸæœ›æŸå¤±ï¼‰ï¼šæŸå¤±å‡½æ•°çš„æœŸæœ›</li><li>ç»éªŒé£é™©ï¼šè®­ç»ƒé›†çš„å¹³å‡æŸå¤±ï¼Œè®­ç»ƒé›†çš„æ‹Ÿåˆæƒ…å†µ <spanclass="math display">\[ç»“æ„é£é™©  =  ç»éªŒé£é™© + æ­£åˆ™åŒ–é¡¹ (ç³»æ•° *æ¨¡å‹å¤æ‚åº¦)\]</span></li></ul></li><li>ç®—æ³•ï¼šç”¨ä»€ä¹ˆæ ·çš„è®¡ç®—æ–¹æ³•æ±‚è§£æœ€ä¼˜æ¨¡å‹ã€‚å½’ç»“ä¸ºæœ€ä¼˜åŒ–é—®é¢˜</li></ul><h3 id="æœºå™¨å­¦ä¹ çš„ç±»å‹">æœºå™¨å­¦ä¹ çš„ç±»å‹</h3><ul><li>ç›‘ç£å­¦ä¹ ï¼šç›‘ç£å­¦ä¹ æ˜¯æŒ‡é€šè¿‡è®©æœºå™¨å­¦ä¹ å¤§é‡å¸¦æœ‰æ ‡ç­¾çš„æ ·æœ¬æ•°æ®ï¼Œè®­ç»ƒå‡ºä¸€ä¸ªæ¨¡å‹ï¼Œå¹¶ä½¿è¯¥æ¨¡å‹å¯ä»¥æ ¹æ®è¾“å…¥é¢„æµ‹ç›¸åº”è¾“å‡ºçš„è¿‡ç¨‹</li><li>æ— ç›‘ç£å­¦ä¹ ï¼šè®­ç»ƒæ•°æ®ä¸å†æ˜¯ï¼ˆinput,outputï¼‰å¯¹çš„å½¢å¼ï¼Œæ ·æœ¬æ•°æ®æ²¡æœ‰æ ‡ç­¾</li><li>å¼ºåŒ–å­¦ä¹ ï¼šé€šè¿‡æ„ŸçŸ¥å¤–ç•Œç¯å¢ƒçš„å˜åŒ–æ¥è°ƒæ•´å­¦ä¹ æ–¹å¼ï¼Œç„¶åé€šè¿‡å¥–æƒ©çš„æ–¹å¼æ¥åˆ¤åˆ«å­¦ä¹ æ–¹å¼æ˜¯å¦æ­£ç¡®ï¼Œé€šè¿‡ä¸€æ­¥æ­¥è°ƒæ•´å­¦ä¹ æ–¹å¼ï¼Œæœ€ç»ˆæ‰¾åˆ°ä¸€ä¸ªæœ€ä¼˜çš„æ–¹å¼ã€‚é€šè¿‡ä¸€ä¸ªæ™ºèƒ½ä½“åœ¨ä¸å¤æ‚è€Œä¸ç¡®å®šçš„ç¯å¢ƒäº¤äº’ä¸­æœ€å¤§åŒ–æ€»å›æŠ¥æ¥å­¦ä¹ çš„ä¸€ç§è®¡ç®—æ–¹æ³•</li></ul><h3 id="è®­ç»ƒè¯¯å·®ä¸æµ‹è¯•è¯¯å·®">è®­ç»ƒè¯¯å·®ä¸æµ‹è¯•è¯¯å·®</h3><p>è®­ç»ƒè¯¯å·®ï¼šè®­ç»ƒé›†çš„å¹³å‡æŸå¤±</p><p>æµ‹è¯•è¯¯å·®ï¼šæµ‹è¯•é›†çš„å¹³å‡æŸå¤±</p><h3 id="å›å½’å’Œåˆ†ç±»">å›å½’å’Œåˆ†ç±»</h3><p>å›å½’ï¼šå› å˜é‡ğ‘¦ âˆˆ â„æ˜¯è¿ç»­å˜é‡ åˆ†ç±»ï¼šlabelæ˜¯ç¦»æ•£å˜é‡</p><h3 id="è¿‡æ‹Ÿåˆ">è¿‡æ‹Ÿåˆ</h3><p>æ¬ æ‹Ÿåˆï¼šæ¨¡å‹åœ¨è®­ç»ƒé›†ä¸Šè¯¯å·®å¾ˆå¤§ï¼Œåœ¨æµ‹è¯•é›†ä¸Šè¯¯å·®ä¹Ÿå¤§ã€‚ç”±äºæ¨¡å‹èƒ½åŠ›ä¸è¶³ï¼ˆä¸çµæ´»ï¼‰</p><p>è¿‡æ‹Ÿåˆ(Over-fitting)ï¼šæ¨¡å‹åœ¨è®­ç»ƒé›†ä¸Šè¯¯å·®å¾ˆä½ï¼Œä½†æ˜¯åœ¨æµ‹è¯•æ•°æ®ä¸Šè¯¯å·®å¾ˆé«˜ã€‚ç”±äºè®­ç»ƒæ•°æ®å¤ªå°‘å’Œ/æˆ–æ¨¡å‹èƒ½åŠ›å¤ªå¼ºç­‰åŸå› é€ æˆ</p><p><img src="/img/æœºå™¨å­¦ä¹ /è¿‡æ‹Ÿåˆ.jpg" /></p><p>è§£å†³è¿‡æ‹Ÿåˆçš„æ–¹æ³•:</p><ul><li>æ‰©å¤§è®­ç»ƒé›†</li><li>æ­£åˆ™åŒ–Regularizationï¼šé€šè¿‡ä¿®æ”¹ç›®æ ‡å‡½æ•°æ¥æƒ©ç½šæ¨¡å‹çš„å¤æ‚åº¦<ul><li>L1æ­£åˆ™åŒ–ï¼šå¯ä»¥ä½¿å‚æ•°ç¨€ç–åŒ–</li><li>L2æ­£åˆ™åŒ–ï¼šå¯ä»¥é˜²æ­¢è¿‡æ‹Ÿåˆ</li></ul></li><li>é€šè¿‡éªŒè¯é›†æ¥é€‰æ‹©æ¨¡å‹</li></ul><h3 id="æ¨¡å‹é€‰æ‹©æ–¹æ³•">æ¨¡å‹é€‰æ‹©æ–¹æ³•</h3><p><strong>æ­£åˆ™åŒ–</strong>:</p><p>ç»“æ„é£é™© = ç»éªŒé£é™© + æ­£åˆ™åŒ–é¡¹</p><p><img src="/img/æœºå™¨å­¦ä¹ /æœŸæœ«å¤ä¹ /ç»“æ„é£é™©.png" /></p><p>åœ¨å›å½’é—®é¢˜ä¸­ï¼Œæ­£åˆ™åŒ–é¡¹å¯ä»¥æ˜¯L1,L2èŒƒæ•°ï¼š</p><p><img src="/img/æœºå™¨å­¦ä¹ /æœŸæœ«å¤ä¹ /L1L2èŒƒæ•°.png" /></p><p>å…¶ä¸­ï¼ŒL1 L2èŒƒæ•°åˆ†åˆ«ä¸º</p><p><img src="/img/æœºå™¨å­¦ä¹ /æœŸæœ«å¤ä¹ /L1L2èŒƒæ•°å®šä¹‰.png" /></p><p><strong>å¥¥å¡å§†å‰ƒåˆ€åŸç†</strong>ï¼šåœ¨å·²çŸ¥æ•°æ®çš„æƒ…å†µä¸‹ï¼Œè¶Šç®€å•çš„æ¨¡å‹è¶Šå¥½</p><p><strong>è´å¶æ–¯ä¼°è®¡è§†è§’</strong>ï¼šæ­£åˆ™åŒ–é¡¹ä¸ºæ¨¡å‹å…ˆéªŒæ¦‚ç‡</p><h3 id="äº¤å‰éªŒè¯">äº¤å‰éªŒè¯</h3><p>æ•°æ®é›†åˆ’åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šè®­ç»ƒé›†ï¼Œæµ‹è¯•é›†ï¼ŒéªŒè¯é›†ã€‚è®­ç»ƒé›†ç”¨äºæ¨¡å‹è®­ç»ƒï¼Œæµ‹è¯•é›†ç”¨äºæœ€ç»ˆå¯¹å­¦ä¹ æ–¹æ³•è¯„ä¼°ï¼ŒéªŒè¯é›†ç”¨äºæ¨¡å‹é€‰æ‹©ã€‚åœ¨å­¦ä¹ åˆ°ä¸åŒå¤æ‚åº¦çš„æ¨¡å‹ä¸­ï¼Œé€‰æ‹©éªŒè¯é›†æœ€å°é¢„æµ‹è¯¯å·®çš„æ¨¡å‹ã€‚</p><ul><li>ç®€å•äº¤å‰éªŒè¯ï¼šåˆ’åˆ†è®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œç”¨ä¸åŒçš„æ¨¡å‹å¯¹è®­ç»ƒé›†è¿›è¡Œè®­ç»ƒï¼Œæœ€ç»ˆåœ¨æµ‹è¯•é›†è¯„ä»·æ¯ä¸€ä¸ªæ¨¡å‹çš„è¯¯å·®ï¼Œé€‰å‡ºè¯¯å·®æœ€å°çš„æ¨¡å‹ã€‚</li><li>SæŠ˜äº¤å‰éªŒè¯ï¼šæŠŠæ•°æ®é›†åˆ’åˆ†æˆsä»½ï¼Œç”¨å…¶ä¸­çš„s-1ä»½è®­ç»ƒæ¨¡å‹ï¼Œç”¨å‰©ä¸‹çš„ä¸€ä»½æµ‹è¯•æ¨¡å‹ã€‚å…¶ä¸­ï¼Œä¸€å…±æœ‰sç§ç»„åˆï¼Œå¯¹sç§ç»„åˆé‡å¤å¯¹å¯¹æ¨¡å‹è¿›è¡Œè®­ç»ƒå’Œè¯„æµ‹ã€‚æœ€ç»ˆï¼Œé€‰å‡ºåœ¨è¿™sæ¬¡è®­ç»ƒå’Œè¯„æµ‹ä¸­ï¼Œå¹³å‡è¯¯å·®æœ€å°çš„æ¨¡å‹ã€‚</li><li>ç•™ä¸€äº¤å‰éªŒè¯ï¼šsæŠ˜äº¤å‰éªŒè¯çš„ç‰¹æ®Šæƒ…å†µï¼šS=Nï¼ŒNä¸ºæ•°æ®é›†çš„ä¸ªæ•°ã€‚å³ä¸ºï¼šåªç•™ä¸€ä¸ªæ ·æœ¬ç”¨ä½œæµ‹è¯•ã€‚</li></ul><h3 id="æ³›åŒ–èƒ½åŠ›">æ³›åŒ–èƒ½åŠ›</h3><p>å¯¹æœªçŸ¥æ•°æ®é›†çš„é¢„æµ‹èƒ½åŠ›</p><h3 id="ç”Ÿæˆæ¨¡å‹ä¸åˆ¤åˆ«æ¨¡å‹">ç”Ÿæˆæ¨¡å‹ä¸åˆ¤åˆ«æ¨¡å‹</h3><ul><li>ç”Ÿæˆæ¨¡å‹ï¼šç”Ÿæˆæ–¹æ³•ç”±æ•°æ®å­¦ä¹ è”åˆæ¦‚ç‡åˆ†å¸ƒ<spanclass="math inline">\(P(X,Y)\)</span>,ç„¶åæ±‚å‡ºæ¡ä»¶æ¦‚ç‡åˆ†å¸ƒ <spanclass="math inline">\(P(Y|X)\)</span>ä½œä¸ºé¢„æµ‹çš„æ¨¡å‹ï¼š<spanclass="math inline">\(P(Y|X) = {P(X,Y)/P(X)}\)</span>ã€‚æœ€åæ¨¡å‹: <spanclass="math inline">\(P(Y)=P(Y|X)*P(X)\)</span>ã€‚</li><li>åˆ¤åˆ«æ¨¡å‹ï¼šç›´æ¥å­¦ä¹ å†³ç­–å‡½æ•°æˆ–è€… P(Y|X)ä½œä¸ºé¢„æµ‹çš„æ¨¡å‹ã€‚</li></ul><h3 id="äºŒåˆ†ç±»è¯„ä»·æŒ‡æ ‡">äºŒåˆ†ç±»è¯„ä»·æŒ‡æ ‡</h3><p>ç²¾ç¡®ç‡å’Œå¬å›ç‡ï¼šTP, FP, TN, FNï¼ˆtrue/false positive/negitiveï¼‰</p><p>ç²¾ç¡®ç‡: <span class="math inline">\(P = \frac{TP}{TP +FP}\)</span></p><p>å¬å›ç‡: <span class="math inline">\(R = \frac{TP}{TP+FN}\)</span></p><h3 id="è´å¶æ–¯å®šç†">è´å¶æ–¯å®šç†</h3><p><span class="math inline">\(P(A|H) =\frac{P(A)P(H|A)}{P(H)}\)</span></p><h4 id="æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨">æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨</h4><p><strong>å…ˆéªŒæ¦‚ç‡</strong>:<spanclass="math inline">\(P(Y=c_k),k=1,2,...,K\)</span></p><p><strong>æ¡ä»¶æ¦‚ç‡ï¼ˆä¼¼ç„¶æ¦‚ç‡ï¼‰</strong>:<spanclass="math inline">\(P(X=x|Y=c_k)=P(X^{(1)}=x^{(1)},...,X^{(n)}=x^{(n)}|Y=c_k),k=1,2,...,K\)</span></p><p><strong>åéªŒæ¦‚ç‡</strong>:<spanclass="math inline">\(P(Y=c_k|X=x)=\frac{P(Y=c_k)P(X=x|Y=c_k)}{\sum_{k=1}^KP(Y=c_k)P(X=x|Y=c_k)}\)</span></p><h2 id="ç¬¬äºŒç« -æ¦‚ç‡è®ºæ¦‚è¿°">ç¬¬äºŒç«  æ¦‚ç‡è®ºæ¦‚è¿°</h2><h3 id="é¢‘ç‡è®ºå­¦æ´¾å’Œè´å¶æ–¯å­¦æ´¾">é¢‘ç‡è®ºå­¦æ´¾å’Œè´å¶æ–¯å­¦æ´¾</h3><p><strong>é¢‘ç‡è®ºå­¦æ´¾ï¼ˆFrequentistï¼‰</strong>ï¼šé€šè¿‡å¤§é‡ç‹¬ç«‹å®éªŒå°†æ¦‚ç‡è§£é‡Šä¸ºäº‹ä»¶å‘ç”Ÿé¢‘ç‡çš„å‡å€¼ï¼ˆå¤§æ•°å®šå¾‹ï¼‰</p><p><strong>è´å¶æ–¯å­¦æ´¾ï¼ˆBayesianï¼‰</strong>ï¼šåˆ™å°†æ¦‚ç‡è§£é‡Šä¸ºä¿¡å¿µåº¦ï¼ˆdegreeofbeliefï¼‰ã€‚å½“è€ƒè™‘çš„è¯•éªŒæ¬¡æ•°éå¸¸å°‘çš„æ—¶å€™ï¼Œè´å¶æ–¯æ–¹æ³•çš„è§£é‡Šéå¸¸æœ‰ç”¨ã€‚æ­¤å¤–ï¼Œè´å¶æ–¯ç†è®ºå°†æˆ‘ä»¬å¯¹äºéšæœºè¿‡ç¨‹çš„å…ˆéªŒçŸ¥è¯†çº³å…¥è€ƒè™‘ï¼Œå½“æˆ‘ä»¬è·å¾—æ–°æ•°æ®çš„æ—¶å€™ï¼Œè¿™ä¸ªå…ˆéªŒçš„æ¦‚ç‡åˆ†å¸ƒå°±ä¼šè¢«æ›´æ–°åˆ°åéªŒåˆ†å¸ƒä¸­</p><h3 id="é«˜æ–¯åˆ†å¸ƒ">é«˜æ–¯åˆ†å¸ƒ</h3><p><img src="/img/æœºå™¨å­¦ä¹ /æœŸæœ«å¤ä¹ /é«˜æ–¯åˆ†å¸ƒ.jpg" /></p><h3 id="æå¤§ä¼¼ç„¶ä¼°è®¡å’Œæœ€å¤§åéªŒä¼°è®¡">æå¤§ä¼¼ç„¶ä¼°è®¡å’Œæœ€å¤§åéªŒä¼°è®¡</h3><p><strong>æå¤§ä¼¼ç„¶ä¼°è®¡ï¼ˆé¢‘ç‡å­¦æ´¾æ¨¡å‹å‚æ•°ä¼°è®¡å¸¸ç”¨æ–¹æ³•ï¼‰</strong>ï¼šé€šä¿—ç†è§£æ¥è¯´ï¼Œå°±æ˜¯åˆ©ç”¨å·²çŸ¥çš„æ ·æœ¬ç»“æœä¿¡æ¯ï¼Œåæ¨æœ€å…·æœ‰å¯èƒ½ï¼ˆæœ€å¤§æ¦‚ç‡ï¼‰å¯¼è‡´è¿™äº›æ ·æœ¬ç»“æœå‡ºç°çš„æ¨¡å‹å‚æ•°å€¼ï¼å³æœ€å¤§åŒ–<spanclass="math inline">\(P(x_0|\theta)\)</span></p><p><img src="/img/æœºå™¨å­¦ä¹ /æœŸæœ«å¤ä¹ /æå¤§ä¼¼ç„¶ä¼°è®¡.jpg" /></p><p><strong>æœ€å¤§åéªŒä¼°è®¡ï¼ˆè´å¶æ–¯æ´¾æ¨¡å‹å‚æ•°ä¼°è®¡çš„å¸¸ç”¨æ–¹æ³•ï¼‰</strong>ï¼šæœ€å¤§åŒ–åœ¨ç»™å®šæ•°æ®æ ·æœ¬çš„æƒ…å†µä¸‹æ¨¡å‹å‚æ•°çš„åéªŒæ¦‚ç‡ã€‚å³æœ€å¤§åŒ–<span class="math inline">\(P(\theta | x_0) = \frac{P(x_0 |\theta)P(\theta)}{P(x_0)}\)</span>ã€‚æœ€å¤§ä¼¼ç„¶ä¼°è®¡æ˜¯æ±‚å‚æ•° <spanclass="math inline">\(\theta\)</span>ä½¿ä¼¼ç„¶å‡½æ•°æœ€å¤§ã€‚æœ€å¤§åéªŒæ¦‚ç‡ä¼°è®¡åˆ™æ˜¯æƒ³æ±‚<spanclass="math inline">\(\theta\)</span>ä½¿<spanclass="math inline">\(P(x_0|\theta)\)</span>æœ€å¤§ ã€‚æ±‚å¾—çš„<spanclass="math inline">\(\theta\)</span>ä¸å•å•è®©ä¼¼ç„¶å‡½æ•°å¤§,<spanclass="math inline">\(\theta\)</span>è‡ªå·±å‡ºç°çš„å…ˆéªŒæ¦‚ç‡ä¹Ÿå¾—å¤§ã€‚</p><p><img src="/img/æœºå™¨å­¦ä¹ /æœŸæœ«å¤ä¹ /æœ€å¤§åéªŒåˆ†å¸ƒ.png" /></p><h2 id="ç¬¬ä¸‰ç« -ä¼˜åŒ–æ–¹æ³•ç®€ä»‹">ç¬¬ä¸‰ç«  ä¼˜åŒ–æ–¹æ³•ç®€ä»‹</h2><h3 id="æ¢¯åº¦ä¸‹é™æ³•">æ¢¯åº¦ä¸‹é™æ³•</h3><p>ä¸€ç§æ±‚è§£çš„æœ€ä¼˜åŒ–ç®—æ³•ï¼ˆæ— çº¦æŸï¼‰ï¼Œä¸»è¦è§£å†³æ±‚æœ€å°å€¼é—®é¢˜ï¼ŒåŸºæœ¬æ€æƒ³æ˜¯ä¸‹å±±ï¼Œå³ä¸æ–­é€¼è¿‘æœ€ä¼˜ç‚¹çš„æ€æƒ³ï¼Œé€šè¿‡æ±‚æ¢¯åº¦çš„åæ–¹å‘ï¼Œæ¥ç¡®å®šé”™è¯¯é¢ä¸­çš„æœ€ä½ç‚¹çš„æ–¹å‘ï¼ˆæœ‰å¯èƒ½æ˜¯å±€éƒ¨æœ€ä½ç‚¹ï¼‰ï¼Œä»è€Œä¸æ–­é€¼è¿‘æœ€å°å€¼ã€‚è®¾æŸå¤±å‡½æ•°ä¸ºï¼š<spanclass="math inline">\(J(\theta)=\frac{1}{2}[f(x)-y]^2\)</span>,åˆ™æ¢¯åº¦ä¸‹é™ä¸ºï¼š<span class="math inline">\(\theta_{n+1} = \theta_{n} - \alphaJ&#39;(\theta)\)</span> å…¶ä¸­<spanclass="math inline">\(\alpha\)</span>ä¸ºå­¦ä¹ ç‡ã€‚</p><h4 id="ç¡®å®šå­¦ä¹ ç‡çš„æ–¹æ³•">ç¡®å®šå­¦ä¹ ç‡çš„æ–¹æ³•</h4><ul><li>çº¿æ€§æœç´¢æ³•ï¼š<span class="math inline">\(\eta_t = argminf(x - \eta\Delta f(x))\)</span>,ä¸€èˆ¬æ¥è¯´åœ¨å®é™…ä¸­ä»£ä»·å¤ªé«˜</li><li>çº¿æ€§å›æº¯æœç´¢ç®—æ³•ï¼š<span class="math inline">\(f(x-\eta \Delta f(x))\le f(x) - \alpha \eta ||\Delta f(x)||^2\)</span>,åœ¨å®é™…ä¸­work well</li></ul><h4 id="åº”ç”¨æ¢¯åº¦ä¸‹é™çš„ä¸åŒå½¢å¼">åº”ç”¨æ¢¯åº¦ä¸‹é™çš„ä¸åŒå½¢å¼</h4><ul><li>æ‰¹é‡æ¢¯åº¦ä¸‹é™ï¼ˆBGDï¼‰ï¼šæ›´æ–°å‚æ•°æ—¶ä½¿ç”¨æ‰€æœ‰æ ·æœ¬è¿›è¡Œæ›´æ–°ï¼Œæ¢¯åº¦æ›´æ–°æ¯”è¾ƒè€—æ—¶ï¼Œä½†æ˜¯ä¼šæ›´å‡†ç¡®æœæå€¼æ–¹å‘æ›´æ–°ï¼Œè¿­ä»£æ¬¡æ•°å°‘</li><li>éšæœºæ¢¯åº¦ä¸‹é™(SGD)ï¼šæ¯æ­¥ä»…é€‰å–ä¸€ä¸ªæ ·æœ¬æ±‚æ¢¯åº¦ï¼Œæ¢¯åº¦æ›´æ–°å¿«ï¼Œä½†ä¸‹é™æ—¶å€™æ³¢åŠ¨å¤§ï¼Œæ›´å®¹æ˜“ä»ä¸€ä¸ªå±€éƒ¨æœ€ä¼˜è·³åˆ°å¦ä¸€ä¸ªå±€éƒ¨æœ€ä¼˜ï¼Œå‡†ç¡®åº¦ä¸‹é™ã€‚è¿­ä»£æ¬¡æ•°å¤šï¼Œå¯èƒ½ä¸æ”¶æ•›ï¼Œæˆ–é™·å…¥å±€éƒ¨æå€¼æˆ–éç‚¹ã€‚</li><li>å°æ‰¹é‡æ¢¯åº¦ä¸‹é™(MBGD)ï¼šä¸Šé¢ä¸¤ä¸ªçš„æŠ˜è¡·ï¼Œæ¯æ­¥é‡‡ç”¨å›ºå®šä¸€éƒ¨åˆ†çš„æ ·æœ¬è®¡ç®—æ¢¯åº¦æ¢¯åº¦æ›´æ–°æ¯”BGDå¿«ï¼Œè¿­ä»£æ¬¡æ•°æ¯”SGDå°‘ã€‚å­¦ä¹ è¿‡ç¨‹ä»ä¼šæœ‰æŒ¯è¡ï¼Œä¸ºæ›´æ¥è¿‘æœ€å°å€¼ï¼Œéœ€è¦å¢åŠ å­¦ä¹ ç‡è¡°å‡é¡¹ï¼Œé¿å…è¿‡åº¦æŒ¯è¡ã€‚</li></ul><p><strong>ä½¿ç”¨å»ºè®®</strong>ï¼šå½“è®­ç»ƒé›†æ¯”è¾ƒå°æ—¶ï¼Œæ‰¹å­¦ä¹ ï¼Œé‡‡ç”¨æ‹Ÿç‰›é¡¿æˆ–è€…å…±è½­æ¢¯åº¦ä¸‹é™ï¼›å½“è®­ç»ƒé›†å¤§æ—¶ï¼Œéšæœºæ¢¯åº¦ä¸‹é™ï¼›å½“è®­ç»ƒé›†ä»‹äºå…¶é—´æ—¶ï¼Œå°æ‰¹é‡å­¦ä¹ </p><h3 id="æ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•å’Œkktæ¡ä»¶">æ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•å’ŒKKTæ¡ä»¶</h3><p>æ¢¯åº¦ä¸‹é™åªèƒ½æ±‚è§£æ— çº¦æŸé—®é¢˜ï¼Œå¯¹äºæœ‰çº¦æŸé—®é¢˜ï¼Œä½¿ç”¨æ¢¯åº¦ä¸‹é™æ³•ï¼Œå¾ˆå¯èƒ½æœ€å°å€¼ç‚¹æ ¹æœ¬ä¸åœ¨çº¦æŸèŒƒå›´å†…ï¼Œæ‰€ä»¥ç”¨æ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•ã€‚</p><h4 id="æ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•">æ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•</h4><p>æ±‚è§£æœ‰çº¦æŸæœ€å°å€¼é—®é¢˜ï¼ˆçº¦æŸä¸ºç­‰å¼ï¼‰ï¼š</p><p><span class="math display">\[\min{f(x)} \\s.t.g(x) = 0\]</span></p><p>å³åœ¨ <span class="math inline">\(g(x)=0\)</span>çš„æ¡ä»¶ä¸‹ï¼Œæ±‚ <spanclass="math inline">\(f(x)\)</span>çš„æœ€å°å€¼ï¼Œå¼•å…¥ä¸€ä¸ªè‡ªç”±å˜é‡ <spanclass="math inline">\(\lambda\)</span>,æ„é€ æ‹‰æ ¼æœ—æ—¥å‡½æ•°ï¼š</p><p><span class="math display">\[L(x,\lambda)=f(x) + \lambdag(x)\]</span></p><p>åˆ™æ–°çš„æ–¹ç¨‹åˆå˜æˆäº†æ— çº¦æŸé—®é¢˜ï¼Œå¯¹å…¶ä¸­çš„ <spanclass="math inline">\(x,\lambda\)</span>æ±‚åå¯¼ï¼Œè”ç«‹æ–¹ç¨‹ç»„ä½¿å…¶ç­‰äº0ï¼Œåˆ™æ‰€å¾—è§£å°±æ˜¯åŸæ–¹ç¨‹çš„è§£ã€‚</p><h4 id="kktæ¡ä»¶">KKTæ¡ä»¶</h4><p>ç”¨äºæ±‚è§£çº¦æŸä¸ºä¸ç­‰å¼æ—¶å€™çš„çº¦æŸé—®é¢˜ï¼Œåªæ˜¯åˆ¤æ–­xæ˜¯å¦ä¸ºæœ€ä¼˜è§£çš„<strong>å¿…è¦æ¡ä»¶</strong>ã€‚å’Œæ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•ä¸€æ ·ï¼Œå¼•å…¥è‡ªç”±å˜é‡ï¼Œæ„é€ æ‹‰æ ¼æœ—æ—¥å‡½æ•°ï¼Œè®¾çº¦æŸæ¡ä»¶ï¼š</p><p><span class="math display">\[g(x)=0 \\ t(x)â‰¤0\]</span></p><p>æ±‚è§£ <span class="math inline">\(\min f(x)\)</span>.</p><p>åŒç†æ„é€ æ‹‰æ ¼æœ—æ—¥å‡½æ•°ï¼š</p><p><span class="math display">\[L(x,\lambda,\theta)=f(x) + \lambda g(x)+ \theta t(x)\]</span></p><p>åˆ™å¯¹åº”kktæ¡ä»¶æœ‰ï¼š</p><ul><li>Lå¯¹xçš„åå¯¼æ•°ä¸º0ï¼›</li><li>g(x)=0;</li><li><span class="math inline">\(\theta t(x)=0\)</span>;</li><li><span class="math inline">\(\theta \ge 0\)</span>;</li></ul><p><img src="/img/æœºå™¨å­¦ä¹ /æœŸæœ«å¤ä¹ /KKTæ¡ä»¶.jpg" /></p><h5 id="æ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•æ±‚è§£">æ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•æ±‚è§£</h5><p><img src="/img/æœºå™¨å­¦ä¹ /æœŸæœ«å¤ä¹ /æ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•æ±‚è§£.jpg" /></p><p><strong>æ€»ç»“ï¼šåŒæ—¶åŒ…å«ç­‰å¼å’Œä¸ç­‰å¼çº¦æŸçš„ä¸€èˆ¬ä¼˜åŒ–é—®é¢˜</strong></p><h3 id="å¯¹å¶">å¯¹å¶</h3><p>åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œå¯¹å¶ï¼ˆdualityï¼‰æ˜¯æŒ‡å°†ä¸€ä¸ªä¼˜åŒ–é—®é¢˜è½¬åŒ–ä¸ºå…¶å¯¹å¶å½¢å¼ï¼Œä»è€Œæ›´å®¹æ˜“åœ°è§£å†³åŸå§‹é—®é¢˜ã€‚å…·ä½“æ¥è¯´ï¼Œå¯¹äºä¸€ä¸ªåŸå§‹ä¼˜åŒ–é—®é¢˜ï¼Œé€šè¿‡æ„å»ºä¸€ä¸ªæ‹‰æ ¼æœ—æ—¥å‡½æ•°ï¼Œå¹¶å¯¹å…¶è¿›è¡Œæœ€å¤§åŒ–æˆ–æœ€å°åŒ–ï¼Œå¯ä»¥å¾—åˆ°å¯¹å¶é—®é¢˜ã€‚é€šè¿‡è§£å†³å¯¹å¶é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—åŸå§‹é—®é¢˜çš„è§£ã€‚è¿™ç§æ–¹æ³•åœ¨è§£å†³æŸäº›ä¼˜åŒ–é—®é¢˜æ—¶éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå¯¹å¶é—®é¢˜å¯èƒ½æ¯”åŸå§‹é—®é¢˜æ›´å®¹æ˜“æ±‚è§£ã€‚</p><p>ç”¨<spanclass="math inline">\(p^*\)</span>è¡¨ç¤ºåŸé—®é¢˜ï¼ˆæœ€å°åŒ–ï¼‰çš„æœ€ä¼˜å€¼ï¼›<spanclass="math inline">\(d^*\)</span>è¡¨ç¤ºå¯¹å¶é—®é¢˜ï¼ˆæœ€å¤§åŒ–ï¼‰çš„æœ€ä¼˜å€¼ã€‚</p><p><strong>å¼±å¯¹å¶æ€§</strong>ï¼š<span class="math inline">\(d^* \lep^*\)</span>ã€‚å³ä½¿åŸé—®é¢˜ä¸æ˜¯å‡¸ä¼˜åŒ–ï¼Œä¸ç­‰å¼ä¹Ÿæˆç«‹</p><p><strong>å¼ºå¯¹å¶æ€§</strong>ï¼š<span class="math inline">\(d^* =p^*\)</span></p><h4 id="ä¸ºä»€ä¹ˆè¦ç ”ç©¶å¯¹å¶é—®é¢˜">ä¸ºä»€ä¹ˆè¦ç ”ç©¶å¯¹å¶é—®é¢˜</h4><ul><li>è™½ç„¶å¯¹å¶æ–¹æ³•å¹¶ä¸èƒ½ä¿è¯æˆåŠŸï¼Œä½†æ˜¯å®ƒå¯¹äºæŸäº›ç±»åˆ«çš„å‡½æ•°æœ‰æ•ˆï¼Œåœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œå®ƒæ€»èƒ½å¸¦æ¥æ›´ç®€å•çš„ä¼˜åŒ–é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯å½“åŸé—®é¢˜ä¸­è‡ªå˜é‡çš„ç»´åº¦æ¯”çº¦æŸçš„æ•°é‡å¤§å¾—å¤šçš„æƒ…å†µä¸‹,</li><li>å¯¹å¶å‡½æ•°æ€»æ˜¯å‡¹å‡½æ•°ï¼Œæ— è®ºåŸé—®é¢˜å¦‚ä½•ã€‚æ‰€ä»¥å¯¹å¶å‡½æ•°çš„ä¼˜åŒ–æ˜¯ä¸ªå‡¸ä¼˜åŒ–é—®é¢˜</li></ul><h3 id="ç‰›é¡¿æ³•">ç‰›é¡¿æ³•</h3><p>ç”¨ç›®æ ‡å‡½æ•°çš„äºŒé˜¶æ³°å‹’å±•å¼€è¿‘ä¼¼è¯¥ç›®æ ‡å‡½æ•°ï¼Œé€šè¿‡æ±‚è§£è¿™ä¸ªäºŒæ¬¡å‡½æ•°çš„æå°å€¼æ¥æ±‚è§£å‡¸ä¼˜åŒ–çš„æœç´¢æ–¹å‘</p><h2 id="ç¬¬å››ç« -å›å½’çš„çº¿æ€§æ¨¡å‹">ç¬¬å››ç«  å›å½’çš„çº¿æ€§æ¨¡å‹</h2><h3 id="çº¿æ€§å›å½’æœ€å°äºŒä¹˜æ³•">çº¿æ€§å›å½’æœ€å°äºŒä¹˜æ³•</h3><p>å›å½’å°±æ˜¯ä¸€ä¸ªè¾“å…¥è¿ç»­è¾“å‡ºè¿ç»­çš„æ¨¡å‹ï¼Œæ¯”å¦‚ <spanclass="math inline">\(f(x) = \lambda x + \beta\)</span>,å…¶ä¸­ï¼š <spanclass="math inline">\(\lambda\)</span>ä¸ºè¦å­¦ä¹ çš„å‚æ•°ï¼Œ <spanclass="math inline">\(\beta\)</span>ä¸ºåç½®ï¼Œè¿‡äºç®€å•ä¸å¤šè¯´ã€‚</p><p><strong>æœ€å°äºŒä¹˜æ³•æ ‡å‡†</strong>ï¼šå¹³æ–¹æŸå¤±å‡½æ•°è¾¾åˆ°æœ€å°</p><p>å¯¹äºä¸Šè¿°ä¸€å…ƒçº¿æ€§å›å½’æ¨¡å‹æ¥è¯´ï¼ŒæŸå¤±å‡½æ•° <spanclass="math inline">\(J(\lambda,\beta)=(f(x_i)-y_i)^2\)</span>,ä½¿æŸå¤±å‡½æ•°æœ€å°ï¼Œä¾¿æ˜¯æ±‚åå¯¼=0ï¼Œæ‰€ä»¥å»ç®—æŸå¤±å‡½æ•°å…³äºå‚æ•°å’Œåç½®çš„åå¯¼ä¸º0å³å¯æ±‚è§£ã€‚</p><h3 id="å²­å›å½’">å²­å›å½’</h3><p>å²­å›å½’æ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¿æ€§å›å½’æ–¹æ³•ï¼Œå®ƒåœ¨<strong>æ™®é€šçº¿æ€§å›å½’çš„åŸºç¡€ä¸Šå¢åŠ äº†ä¸€ä¸ªL2æ­£åˆ™åŒ–é¡¹</strong>ã€‚</p><p>æ™®é€šçº¿æ€§å›å½’çš„æŸå¤±å‡½æ•°ä¸ºï¼š</p><p><span class="math display">\[J(\boldsymbol{\theta}) = \frac{1}{m}\sum_{i=1}^{m}{(\boldsymbol{\theta}^{\top}\boldsymbol{x}^{(i)} -y^{(i)})^2}\]</span></p><p>å²­å›å½’æŸå¤±å‡½æ•°ä¸ºï¼š</p><p><span class="math display">\[J(\boldsymbol{\theta}) = \frac{1}{m}\sum_{i=1}^{m}{(\boldsymbol{\theta}^{\top}\boldsymbol{x}^{(i)} -y^{(i)})^2} + \alpha \sum_{j=1}^{n}{\theta_j^2}\]</span></p><p>å…¶ä¸­ï¼Œ <spanclass="math inline">\(\alpha\)</span>æ˜¯æ­£åˆ™åŒ–å¼ºåº¦çš„è°ƒèŠ‚å‚æ•°ï¼Œ <spanclass="math inline">\(\boldsymbol{\theta}\)</span>æ˜¯å›å½’ç³»æ•°å‘é‡ï¼Œ <spanclass="math inline">\(\boldsymbol{x}^{(i)}\)</span>æ˜¯ç¬¬ <spanclass="math inline">\(i\)</span>ä¸ªæ ·æœ¬çš„ç‰¹å¾å‘é‡ï¼Œ<spanclass="math inline">\(y^{(i)}\)</span>æ˜¯ç¬¬ <spanclass="math inline">\(i\)</span>ä¸ªæ ·æœ¬çš„ç›®æ ‡å€¼(æ ‡ç­¾)ï¼Œ <spanclass="math inline">\(n\)</span>æ˜¯ç‰¹å¾æ•°ã€‚</p><p>å²­å›å½’é€šè¿‡å¢åŠ æ­£åˆ™åŒ–é¡¹ï¼Œä½¿å¾—å›å½’ç³»æ•°æ›´åŠ ç¨³å®šï¼Œä»è€Œé˜²æ­¢è¿‡æ‹Ÿåˆã€‚åœ¨L2æ­£åˆ™åŒ–ä¸‹ï¼Œå›å½’ç³»æ•°ä¼šè¢«å‹ç¼©åˆ°æ¥è¿‘äº0çš„æ•°å€¼ï¼Œä½†ä¸ä¼šå˜æˆ0ã€‚å› æ­¤ï¼Œå²­å›å½’å¯ä»¥ä¿ç•™æ‰€æœ‰çš„ç‰¹å¾ï¼Œè€Œä¸ç”¨åƒç‰¹å¾é€‰æ‹©é‚£æ ·èˆå¼ƒä¸€äº›ç‰¹å¾ã€‚</p><p>å²­å›å½’çš„æ±‚è§£æ–¹æ³•ä¸æ™®é€šçº¿æ€§å›å½’ç±»ä¼¼ï¼Œåªæ˜¯åœ¨æœ€å°åŒ–æŸå¤±å‡½æ•°æ—¶éœ€è¦åŠ ä¸Šæ­£åˆ™åŒ–é¡¹çš„è´¡çŒ®ã€‚æœ€å¸¸ç”¨çš„æ–¹æ³•æ˜¯ä½¿ç”¨è§£æè§£ï¼š</p><p><span class="math display">\[\boldsymbol{\theta} =(\boldsymbol{X}^{\top}\boldsymbol{X} +\alpha\boldsymbol{I})^{-1}\boldsymbol{X}^{\top}\boldsymbol{y}\]</span></p><p>å…¶ä¸­ï¼Œ <spanclass="math inline">\(\boldsymbol{X}\)</span>æ˜¯æ ·æœ¬ç‰¹å¾çŸ©é˜µï¼Œ <spanclass="math inline">\(\boldsymbol{y}\)</span>æ˜¯ç›®æ ‡å€¼å‘é‡ï¼Œ <spanclass="math inline">\(\boldsymbol{I}\)</span>æ˜¯å•ä½çŸ©é˜µã€‚</p><p>å²­å›å½’çš„ä¸€ä¸ªå…³é”®é—®é¢˜æ˜¯å¦‚ä½•é€‰æ‹©æ­£åˆ™åŒ–å¼ºåº¦å‚æ•° <spanclass="math inline">\(\alpha\)</span>ã€‚é€šå¸¸å¯ä»¥é€šè¿‡äº¤å‰éªŒè¯æ¥é€‰æ‹©æœ€ä½³çš„<span class="math inline">\(\alpha\)</span>å€¼ã€‚</p><h3 id="lassoå›å½’">Lassoå›å½’</h3><p>Lassoå›å½’æ˜¯ä¸€ç§ç”¨äºç‰¹å¾é€‰æ‹©çš„çº¿æ€§å›å½’æ¨¡å‹ï¼Œå®ƒçš„<strong>æŸå¤±å‡½æ•°æ˜¯å¹³æ–¹æŸå¤±åŠ ä¸ŠL1æ­£åˆ™åŒ–</strong>ã€‚L1æ­£åˆ™åŒ–ä¼šè®©ä¸€éƒ¨åˆ†ç‰¹å¾çš„ç³»æ•°å˜ä¸º0ï¼Œä»è€Œè¾¾åˆ°ç‰¹å¾é€‰æ‹©çš„ç›®çš„ã€‚</p><p>Lassoå›å½’çš„æŸå¤±å‡½æ•°ä¸ºï¼š</p><p><span class="math display">\[J(\theta) = \frac{1}{2m} \sum_{i=1}^m(h_\theta(x^{(i)}) - y^{(i)})^2 + \alpha \sum_{j=1}^n|\theta_j|\]</span></p><p>å…¶ä¸­ï¼Œç¬¬ä¸€é¡¹æ˜¯å¹³æ–¹æŸå¤±ï¼Œç¬¬äºŒé¡¹æ˜¯L1æ­£åˆ™åŒ–é¡¹ï¼Œ <spanclass="math inline">\(\alpha\)</span>æ˜¯æ­£åˆ™åŒ–å‚æ•°ã€‚</p><p>Lassoå›å½’çš„ä¼˜åŒ–ç®—æ³•æ˜¯åæ ‡è½´ä¸‹é™æ³•ï¼Œä¹Ÿç§°ä¸ºåæ ‡ä¸‹é™æ³•ã€‚å®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼Œæ¯æ¬¡åªæ›´æ–°ä¸€ä¸ªå‚æ•°çš„å€¼ï¼Œå°†å…¶ä»–å‚æ•°çš„å€¼å›ºå®šä½ã€‚</p><p>Lassoå›å½’æœ‰ä¸€ä¸ªé‡è¦çš„åº”ç”¨åœºæ™¯æ˜¯ç‰¹å¾é€‰æ‹©ã€‚å¦‚æœæŸä¸ªç‰¹å¾çš„ç³»æ•°ä¸º0ï¼Œè¯´æ˜è¿™ä¸ªç‰¹å¾å¯¹ç›®æ ‡å˜é‡æ²¡æœ‰å¤ªå¤§çš„å½±å“ï¼Œå¯ä»¥å°†å…¶ä»æ¨¡å‹ä¸­å‰”é™¤ï¼Œä»è€Œç®€åŒ–æ¨¡å‹å¹¶æé«˜æ³›åŒ–æ€§èƒ½ã€‚</p><h2 id="ç¬¬äº”ç« -åˆ†ç±»çš„çº¿æ€§æ¨¡å‹">ç¬¬äº”ç«  åˆ†ç±»çš„çº¿æ€§æ¨¡å‹</h2><h3 id="çº¿æ€§åˆ†ç±»æ¦‚å¿µ">çº¿æ€§åˆ†ç±»æ¦‚å¿µ</h3><p>çº¿æ€§åˆ†ç±»æ˜¯ä¸€ç§å¸¸è§çš„æœºå™¨å­¦ä¹ æŠ€æœ¯ï¼Œæ—¨åœ¨å°†æ•°æ®åˆ†æˆä¸¤ä¸ªæˆ–å¤šä¸ªç±»åˆ«ã€‚å®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯åœ¨ç‰¹å¾ç©ºé—´ä¸­æ‰¾åˆ°ä¸€æ¡ç›´çº¿ã€å¹³é¢æˆ–è¶…å¹³é¢ï¼Œå°†ä¸åŒç±»åˆ«çš„æ•°æ®åˆ†å¼€ã€‚çº¿æ€§åˆ†ç±»å¯ä»¥ç”¨äºäºŒå…ƒåˆ†ç±»ï¼ˆå°†æ•°æ®åˆ†æˆä¸¤ä¸ªç±»åˆ«ï¼‰å’Œå¤šå…ƒåˆ†ç±»ï¼ˆå°†æ•°æ®åˆ†æˆä¸‰ä¸ªæˆ–æ›´å¤šç±»åˆ«ï¼‰é—®é¢˜ã€‚</p><p><img src="/img/æœºå™¨å­¦ä¹ /æœŸæœ«å¤ä¹ /çº¿æ€§åˆ†ç±»æ¦‚å¿µ.jpg" /></p><p>åœ¨äºŒå…ƒåˆ†ç±»ä¸­ï¼Œçº¿æ€§åˆ†ç±»å™¨ä¼šå°†æ•°æ®ç‚¹åˆ†ä¸ºä¸¤ä¸ªç±»åˆ«ï¼Œé€šå¸¸ç”¨â€œ+1â€å’Œâ€œ-1â€è¡¨ç¤ºã€‚å¯¹äºä¸€ä¸ªæ–°çš„æ•°æ®ç‚¹ï¼Œåˆ†ç±»å™¨ä¼šè®¡ç®—å®ƒä¸è¿™æ¡ç›´çº¿ã€å¹³é¢æˆ–è¶…å¹³é¢ä¹‹é—´çš„è·ç¦»ï¼Œå¹¶æ ¹æ®å…¶è·ç¦»çš„ç¬¦å·æ¥é¢„æµ‹å…¶æ‰€å±çš„ç±»åˆ«ã€‚å¦‚æœè·ç¦»ä¸ºæ­£ï¼Œåˆ™é¢„æµ‹å…¶å±äºæ­£ç±»ï¼›å¦‚æœè·ç¦»ä¸ºè´Ÿï¼Œåˆ™é¢„æµ‹å…¶å±äºè´Ÿç±»ã€‚</p><p>çº¿æ€§åˆ†ç±»å™¨å¯ä»¥ç”¨å¾ˆå¤šä¸åŒçš„ç®—æ³•æ¥è®­ç»ƒã€‚å…¶ä¸­ï¼Œæœ€å¸¸ç”¨çš„ç®—æ³•æ˜¯æ”¯æŒå‘é‡æœºï¼ˆSVMï¼‰ã€‚SVMç®—æ³•é€šè¿‡å¯»æ‰¾æœ€å¤§é—´éš”è¶…å¹³é¢æ¥åˆ†å‰²æ•°æ®ã€‚è¿™æ¡è¶…å¹³é¢å¯ä»¥æœ€å¤§é™åº¦åœ°æ‰©å¤§ä¸åŒç±»åˆ«æ•°æ®ç‚¹ä¹‹é—´çš„è·ç¦»ï¼Œä»è€Œæé«˜åˆ†ç±»å™¨çš„æ€§èƒ½ã€‚</p><p>é™¤äº†SVMä¹‹å¤–ï¼Œè¿˜æœ‰å…¶ä»–çš„çº¿æ€§åˆ†ç±»å™¨ç®—æ³•ï¼Œä¾‹å¦‚æ„ŸçŸ¥å™¨ï¼ˆperceptronï¼‰å’Œé€»è¾‘å›å½’ï¼ˆlogisticregressionï¼‰ã€‚è¿™äº›ç®—æ³•ä¹Ÿå¯ä»¥ç”¨æ¥è§£å†³çº¿æ€§åˆ†ç±»é—®é¢˜ï¼Œä½†å®ƒä»¬çš„æ€§èƒ½å’Œè®­ç»ƒé€Ÿåº¦å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚</p><h3id="åˆ¤åˆ«å‡½æ•°æ¦‚ç‡ç”Ÿæˆæ¨¡å‹æ¦‚ç‡åˆ¤åˆ«æ¨¡å‹">åˆ¤åˆ«å‡½æ•°ã€æ¦‚ç‡ç”Ÿæˆæ¨¡å‹ã€æ¦‚ç‡åˆ¤åˆ«æ¨¡å‹</h3><h4 id="åˆ¤åˆ«å‡½æ•°æ¨¡å‹">åˆ¤åˆ«å‡½æ•°æ¨¡å‹</h4><p>åˆ¤åˆ«å‡½æ•°æ¨¡å‹é€šè¿‡å­¦ä¹ ä¸€ä¸ªåˆ¤åˆ«å‡½æ•°æ¥ç›´æ¥å°†è¾“å…¥æ˜ å°„åˆ°è¾“å‡ºç±»åˆ«ï¼Œå®ƒ<strong>ä¸éœ€è¦ç”Ÿæˆè®­ç»ƒæ ·æœ¬çš„æ¦‚ç‡åˆ†å¸ƒ</strong>ã€‚åˆ¤åˆ«å‡½æ•°æ¨¡å‹é€šå¸¸é€‚ç”¨äºé«˜ç»´ç¨ å¯†æ•°æ®ï¼Œå¹¶ä¸”ç”±äºå®ƒåªå…³æ³¨åˆ†ç±»ç»“æœï¼Œè€Œä¸æ˜¯å…³æ³¨å¦‚ä½•ç”Ÿæˆæ•°æ®ï¼Œå› æ­¤åœ¨è®­ç»ƒæ•°æ®ä¸å¤ªå……åˆ†æˆ–å™ªå£°è¾ƒå¤§çš„æƒ…å†µä¸‹ä¹Ÿèƒ½å¤Ÿæœ‰å¾ˆå¥½çš„è¡¨ç°ã€‚å¸¸è§çš„åˆ¤åˆ«å‡½æ•°æ¨¡å‹åŒ…æ‹¬æ”¯æŒå‘é‡æœºï¼ˆSVMï¼‰å’Œç¥ç»ç½‘ç»œï¼ˆNeuralNetworkï¼‰ã€‚</p><h4 id="æ¦‚ç‡ç”Ÿæˆæ¨¡å‹">æ¦‚ç‡ç”Ÿæˆæ¨¡å‹</h4><p>æ¦‚ç‡ç”Ÿæˆæ¨¡å‹å…ˆå¯¹æ ·æœ¬çš„æ¦‚ç‡åˆ†å¸ƒè¿›è¡Œå»ºæ¨¡ï¼Œç„¶åé€šè¿‡è´å¶æ–¯å…¬å¼è®¡ç®—åéªŒæ¦‚ç‡æ¥è¿›è¡Œåˆ†ç±»æˆ–é¢„æµ‹ã€‚æ¦‚ç‡ç”Ÿæˆæ¨¡å‹é€‚ç”¨äºå¤šç±»åˆ«åˆ†ç±»æˆ–å›å½’é—®é¢˜ï¼Œå¹¶ä¸”èƒ½å¤Ÿè¾ƒå¥½åœ°å¤„ç†ç¼ºå¤±æ•°æ®å’Œå™ªå£°ã€‚å¸¸è§çš„æ¦‚ç‡ç”Ÿæˆæ¨¡å‹åŒ…æ‹¬æœ´ç´ è´å¶æ–¯ï¼ˆNaiveBayesï¼‰å’Œé«˜æ–¯æ··åˆæ¨¡å‹ï¼ˆGaussian Mixture Modelï¼‰ã€‚</p><p>æ¦‚ç‡ç”Ÿæˆæ¨¡å‹å…ˆå¯¹ç±»æ¡ä»¶å¯†åº¦<spanclass="math inline">\(p(x|C_k)\)</span>å’Œå…ˆéªŒç±»æ¦‚ç‡åˆ†å¸ƒ<spanclass="math inline">\(p(C_k)\)</span>å»ºæ¨¡ç„¶åå†ä½¿â½¤è´å¶æ–¯å®šç†è®¡ç®—åéªŒç±»æ¦‚ç‡åˆ†å¸ƒ<spanclass="math inline">\(p(C_k|x)\)</span>.æœ€åï¼Œä½¿â½¤å†³ç­–è®ºæ¥ç¡®å®šæ¯ä¸ªè¾“â¼Š<spanclass="math inline">\(x\)</span>çš„ç±»åˆ«ç­‰ä»·åœ°ï¼Œç›´æ¥å¯¹è”åˆæ¦‚ç‡åˆ†å¸ƒå»ºæ¨¡ï¼Œå†å½’ä¸€åŒ–å¾—åˆ°åéªŒæ¦‚ç‡ã€‚</p><p><img src="/img/æœºå™¨å­¦ä¹ /æœŸæœ«å¤ä¹ /æ¦‚ç‡ç”Ÿæˆæ¨¡å‹.jpg" /></p><h4 id="æ¦‚ç‡åˆ¤åˆ«æ¨¡å‹">æ¦‚ç‡åˆ¤åˆ«æ¨¡å‹</h4><p>æ¦‚ç‡åˆ¤åˆ«æ¨¡å‹æ˜¯é€šè¿‡ç›´æ¥å¯¹æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒè¿›è¡Œå»ºæ¨¡æ¥é¢„æµ‹è¾“å‡ºã€‚ä¸æ¦‚ç‡ç”Ÿæˆæ¨¡å‹ä¸åŒï¼Œå®ƒä¸éœ€è¦æ˜¾å¼åœ°å»ºæ¨¡è¾“å…¥çš„æ¦‚ç‡åˆ†å¸ƒï¼Œè€Œæ˜¯ç›´æ¥ä¼°è®¡ç±»åˆ«æ¡ä»¶æ¦‚ç‡ã€‚æ¦‚ç‡åˆ¤åˆ«æ¨¡å‹é€‚ç”¨äºå¤šåˆ†ç±»é—®é¢˜ï¼Œå…¶é¢„æµ‹æ€§èƒ½ä¼˜äºæ¦‚ç‡ç”Ÿæˆæ¨¡å‹ã€‚å¸¸è§çš„æ¦‚ç‡åˆ¤åˆ«æ¨¡å‹åŒ…æ‹¬é€»è¾‘å›å½’ï¼ˆLogisticRegressionï¼‰å’Œå¤šå±‚æ„ŸçŸ¥å™¨ï¼ˆMultilayer Perceptronï¼‰ã€‚</p><p>æ¦‚ç‡åˆ¤åˆ«æ¨¡å‹ç›´æ¥å¯¹åéªŒæ¦‚ç‡<spanclass="math inline">\(p(C_k|x)\)</span>å»ºæ¨¡,å†ä½¿â½¤å†³ç­–è®ºæ¥ç¡®å®šæ¯ä¸ªæ–°çš„è¾“â¼Š<spanclass="math inline">\(x\)</span>çš„ç±»åˆ«ã€‚</p><h3 id="é€»è¾‘å›å½’">é€»è¾‘å›å½’</h3><p>Logistic Regressionè™½ç„¶è¢«ç§°ä¸ºå›å½’ï¼Œä½†å…¶å®é™…ä¸Šæ˜¯åˆ†ç±»æ¨¡å‹ï¼Œå¹¶å¸¸ç”¨äºäºŒåˆ†ç±»</p><p>é€»è¾‘å›å½’æ˜¯ä¸€ç§ç»å…¸çš„æœºå™¨å­¦ä¹ ç®—æ³•ï¼Œç”¨äºå¤„ç†åˆ†ç±»é—®é¢˜ã€‚å®ƒåŸºäºçº¿æ€§æ¨¡å‹ï¼Œå°†è¾“å…¥ç‰¹å¾ä¸è¾“å‡ºæ ‡ç­¾ä¹‹é—´çš„å…³ç³»å»ºæ¨¡ä¸ºä¸€ä¸ªsigmoidå‡½æ•°ï¼Œå¹¶é€šè¿‡æœ€å¤§åŒ–ä¼¼ç„¶å‡½æ•°æ¥å­¦ä¹ æ¨¡å‹å‚æ•°ã€‚åœ¨é¢„æµ‹æ—¶ï¼Œé€»è¾‘å›å½’å°†è¾“å…¥ç‰¹å¾ä¼ å…¥æ¨¡å‹ï¼Œå¹¶é€šè¿‡sigmoidå‡½æ•°è®¡ç®—è¾“å‡ºæ ‡ç­¾çš„æ¦‚ç‡å€¼ï¼Œä»è€Œå¾—åˆ°æœ€ç»ˆçš„åˆ†ç±»ç»“æœã€‚</p><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªäºŒåˆ†ç±»é—®é¢˜ï¼Œæ ·æœ¬é›†åˆä¸º</p><p><spanclass="math display">\[D=\{(x_1,y_1),(x_2,y_2),\cdots,(x_n,y_n)\}\]</span></p><p>å…¶ä¸­ <span class="math inline">\(x_i\in R^m\)</span>è¡¨ç¤ºç¬¬ <spanclass="math inline">\(i\)</span>ä¸ªæ ·æœ¬çš„ <spanclass="math inline">\(m\)</span>ç»´è¾“å…¥ç‰¹å¾å‘é‡, <spanclass="math inline">\(y_i\in\{0,1\}\)</span>è¡¨ç¤ºç¬¬ <spanclass="math inline">\(i\)</span>ä¸ªæ ·æœ¬çš„æ ‡ç­¾ã€‚</p><p>é€»è¾‘å›å½’çš„ç›®æ ‡æ˜¯å­¦ä¹ ä¸€ä¸ªå‡½æ•° <spanclass="math inline">\(f(x)\)</span>ï¼Œå°†è¾“å…¥ç‰¹å¾ <spanclass="math inline">\(x\)</span>æ˜ å°„åˆ°ä¸€ä¸ª <spanclass="math inline">\([0,1]\)</span>ä¹‹é—´çš„æ¦‚ç‡å€¼ï¼Œå³ï¼š</p><p><span class="math display">\[P(Y=1|X=x)=\sigma(w^Tx+b)\]</span></p><p>å…¶ä¸­, <spanclass="math inline">\(\sigma\)</span>æ˜¯sigmoidå‡½æ•°ï¼Œå®šä¹‰ä¸ºï¼š</p><p><spanclass="math display">\[\sigma(z)=\frac{1}{1+e^{-z}}\]</span></p><p>é€»è¾‘å›å½’ä½¿ç”¨æå¤§ä¼¼ç„¶ä¼°è®¡æ¥å­¦ä¹ æ¨¡å‹å‚æ•° <spanclass="math inline">\(w\)</span>å’Œ <spanclass="math inline">\(b\)</span>ã€‚</p><p>å‡è®¾æ¯ä¸ªæ ·æœ¬ç‹¬ç«‹åŒåˆ†å¸ƒåœ°é‡‡æ ·ï¼Œæ ¹æ®è´å¶æ–¯å®šç†ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ ·æœ¬çš„ä¼¼ç„¶å‡½æ•°å†™ä¸ºï¼š</p><p><spanclass="math display">\[L(w,b)=\prod_{i=1}^nP(Y=y_i|X=x_i;w,b)\]</span></p><p>å¯¹æ•°ä¼¼ç„¶å‡½æ•°ä¸ºï¼š</p><p><span class="math display">\[\log L(w,b)=\sum_{i=1}^n\logP(Y=y_i|X=x_i;w,b)\]</span></p><p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æœ€å¤§åŒ–å¯¹æ•°ä¼¼ç„¶å‡½æ•°ï¼Œå¯ä»¥é€šè¿‡æ¢¯åº¦ä¸Šå‡æ³•æ¥æ±‚è§£ã€‚å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬å¯ä»¥é¦–å…ˆè®¡ç®—å¯¹æ•°ä¼¼ç„¶å‡½æ•°å…³äº<span class="math inline">\(w\)</span>å’Œ <spanclass="math inline">\(b\)</span>çš„æ¢¯åº¦ï¼Œç„¶åæ›´æ–°æ¨¡å‹å‚æ•°ï¼Œé‡å¤è¿™ä¸ªè¿‡ç¨‹ç›´åˆ°æ”¶æ•›ã€‚</p><p>åœ¨é¢„æµ‹æ—¶ï¼Œå°†è¾“å…¥ç‰¹å¾ <spanclass="math inline">\(x\)</span>ä¼ å…¥è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œè®¡ç®— <spanclass="math inline">\(P(Y=1|X=x)\)</span>çš„å€¼ï¼Œè‹¥å¤§äº0.5åˆ™é¢„æµ‹ä¸ºæ­£ç±»ï¼Œå¦åˆ™é¢„æµ‹ä¸ºè´Ÿç±»ã€‚</p><h3 id="æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨-1">æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨</h3><p>æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨æ˜¯ä¸€ç§åŸºäºè´å¶æ–¯å®šç†å’Œç‰¹å¾æ¡ä»¶ç‹¬ç«‹å‡è®¾çš„åˆ†ç±»ç®—æ³•ã€‚å®ƒé€šå¸¸ç”¨äºæ–‡æœ¬åˆ†ç±»ã€åƒåœ¾é‚®ä»¶è¿‡æ»¤ã€æƒ…æ„Ÿåˆ†æç­‰è‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡ã€‚</p><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåŒ…å« <spanclass="math inline">\(n\)</span>ä¸ªè®­ç»ƒæ ·æœ¬çš„æ•°æ®é›† <spanclass="math inline">\(D=\{(x_1,y_1),(x_2,y_2),\cdots,(x_n,y_n)\}\)</span>ï¼Œå…¶ä¸­<spanclass="math inline">\(x_i=(x_{i1},x_{i2},\cdots,x_{im})\)</span>è¡¨ç¤ºç¬¬<span class="math inline">\(i\)</span>ä¸ªæ ·æœ¬çš„ <spanclass="math inline">\(m\)</span>ä¸ªç‰¹å¾ï¼Œ <spanclass="math inline">\(y_i\in\{c_1,c_2,\cdots,c_k\}\)</span>è¡¨ç¤ºç¬¬ <spanclass="math inline">\(i\)</span>ä¸ªæ ·æœ¬çš„ç±»åˆ«ã€‚</p><p>æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨åŸºäºè´å¶æ–¯å®šç†è®¡ç®—<strong>åéªŒæ¦‚ç‡</strong> <spanclass="math inline">\(P(y|x)\)</span></p><p>å³ç»™å®šç‰¹å¾ <span class="math inline">\(x\)</span>ä¸‹ç±»åˆ« <spanclass="math inline">\(y\)</span>çš„æ¡ä»¶æ¦‚ç‡ã€‚æ ¹æ®è´å¶æ–¯å®šç†ï¼Œå¯ä»¥å°† <spanclass="math inline">\(P(y|x)\)</span>è¡¨ç¤ºä¸ºï¼š</p><p><spanclass="math display">\[P(y|x)=\frac{P(x|y)P(y)}{P(x)}\]</span></p><p>å…¶ä¸­ï¼Œ <span class="math inline">\(P(y)\)</span>æ˜¯ç±»åˆ« <spanclass="math inline">\(y\)</span>çš„å…ˆéªŒæ¦‚ç‡ï¼Œ <spanclass="math inline">\(P(x)\)</span>æ˜¯ç‰¹å¾ <spanclass="math inline">\(x\)</span>çš„è¾¹ç¼˜æ¦‚ç‡ï¼Œ <spanclass="math inline">\(P(x|y)\)</span>æ˜¯åœ¨ç±»åˆ« <spanclass="math inline">\(y\)</span>ä¸‹ç‰¹å¾ <spanclass="math inline">\(x\)</span>çš„æ¡ä»¶æ¦‚ç‡ã€‚åœ¨æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨ä¸­ï¼Œæˆ‘ä»¬å‡è®¾æ‰€æœ‰ç‰¹å¾éƒ½æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œå³ï¼š</p><p><span class="math display">\[P(x|y)=\prod_{i=1}^mP(x_i|y)\]</span></p><p>æ ¹æ®ä¸Šè¿°å‡è®¾ï¼Œæœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨å°† <spanclass="math inline">\(P(y|x)\)</span>ç®€åŒ–ä¸ºï¼š</p><p><span class="math display">\[P(y|x)=\frac{P(y)\prod_{i=1}^mP(x_i|y)}{P(x)}\]</span></p><p>ç”±äº <spanclass="math inline">\(P(x)\)</span>æ˜¯ä¸ç±»åˆ«æ— å…³çš„å¸¸é‡ï¼Œå› æ­¤å¯ä»¥å¿½ç•¥æ‰ã€‚äºæ˜¯æˆ‘ä»¬åªéœ€è¦è®¡ç®—å…ˆéªŒæ¦‚ç‡<span class="math inline">\(P(y)\)</span>å’Œæ¡ä»¶æ¦‚ç‡ <spanclass="math inline">\(P(x_i|y)\)</span>å³å¯ã€‚</p><p>å…ˆéªŒæ¦‚ç‡ <spanclass="math inline">\(P(y)\)</span>å¯ä»¥é€šè¿‡æ ·æœ¬ä¸­æ¯ä¸ªç±»åˆ«å‡ºç°çš„é¢‘ç‡æ¥ä¼°è®¡ã€‚å¯¹äºæ¡ä»¶æ¦‚ç‡<spanclass="math inline">\(P(x_i|y)\)</span>ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®ä¸åŒç±»å‹çš„ç‰¹å¾è¿›è¡Œä¸åŒçš„å¤„ç†ã€‚</p><ul><li>å¯¹äºç¦»æ•£å‹ç‰¹å¾ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è®¡ç®—æ¯ä¸ªå–å€¼å‡ºç°çš„é¢‘ç‡ã€‚</li><li>å¯¹äºè¿ç»­å‹ç‰¹å¾ï¼Œé€šå¸¸å‡è®¾å…¶æœä»æ­£æ€åˆ†å¸ƒï¼Œç„¶åä¼°è®¡æ¯ä¸ªç±»åˆ«ä¸‹çš„å‡å€¼å’Œæ–¹å·®ã€‚</li></ul><p>åœ¨é¢„æµ‹æ—¶ï¼Œæˆ‘ä»¬å°†æµ‹è¯•æ ·æœ¬çš„ç‰¹å¾ä»£å…¥ä¸Šè¿°å…¬å¼ï¼Œè®¡ç®—æ¯ä¸ªç±»åˆ«çš„åéªŒæ¦‚ç‡ï¼Œæœ€ç»ˆé¢„æµ‹ä¸ºæ¦‚ç‡æœ€å¤§çš„ç±»åˆ«ã€‚</p><h2 id="ç¬¬å…­ç« -æ”¯æŒå‘é‡æœº">ç¬¬å…­ç«  æ”¯æŒå‘é‡æœº</h2><p>ç®€å•ç‚¹è®²ï¼ŒSVMå°±æ˜¯ä¸€ç§äºŒç±»åˆ†ç±»æ¨¡å‹ï¼Œä»–çš„åŸºæœ¬æ¨¡å‹æ˜¯çš„å®šä¹‰åœ¨ç‰¹å¾ç©ºé—´ä¸Šçš„<strong>é—´éš”æœ€å¤§</strong>çš„çº¿æ€§åˆ†ç±»å™¨ï¼ŒSVMçš„å­¦ä¹ ç­–ç•¥å°±æ˜¯é—´éš”æœ€å¤§åŒ–ã€‚</p><p>å¯¹äºæ”¯æŒå‘é‡æœºæ¥è¯´ï¼Œæ•°æ®ç‚¹è‹¥æ˜¯<spanclass="math inline">\(p\)</span>ç»´å‘é‡ï¼Œæˆ‘ä»¬ç”¨<spanclass="math inline">\(p-1\)</span>ç»´çš„è¶…å¹³é¢æ¥åˆ†å¼€è¿™äº›ç‚¹ã€‚ä½†æ˜¯å¯èƒ½æœ‰è®¸å¤šè¶…å¹³é¢å¯ä»¥æŠŠæ•°æ®åˆ†ç±»ã€‚æœ€ä½³è¶…å¹³é¢çš„ä¸€ä¸ªåˆç†é€‰æ‹©å°±æ˜¯ä»¥æœ€å¤§é—´éš”æŠŠä¸¤ä¸ªç±»åˆ†å¼€çš„è¶…å¹³é¢ã€‚å› æ­¤ï¼ŒSVMé€‰æ‹©èƒ½å¤Ÿä½¿ç¦»è¶…å¹³é¢æœ€è¿‘çš„æ•°æ®ç‚¹çš„åˆ°è¶…å¹³é¢è·ç¦»æœ€å¤§çš„è¶…å¹³é¢ã€‚</p><p>ä»¥ä¸Šä»‹ç»çš„SVMåªèƒ½è§£å†³çº¿æ€§å¯åˆ†çš„é—®é¢˜ï¼Œä¸ºäº†è§£å†³æ›´åŠ å¤æ‚çš„é—®é¢˜ï¼Œæ”¯æŒå‘é‡æœºå­¦ä¹ æ–¹æ³•æœ‰ä¸€äº›ç”±ç®€è‡³ç¹çš„æ¨¡å‹:</p><ul><li><p>çº¿æ€§å¯åˆ†SVM</p><p>å½“è®­ç»ƒæ•°æ®çº¿æ€§å¯åˆ†æ—¶ï¼Œé€šè¿‡ç¡¬é—´éš”(hardmarginï¼Œä»€ä¹ˆæ˜¯ç¡¬ã€è½¯é—´éš”ä¸‹é¢ä¼šè®²)æœ€å¤§åŒ–å¯ä»¥å­¦ä¹ å¾—åˆ°ä¸€ä¸ªçº¿æ€§åˆ†ç±»å™¨ï¼Œå³ç¡¬é—´éš”SVM</p></li><li><p>çº¿æ€§SVM</p><p>å½“è®­ç»ƒæ•°æ®ä¸èƒ½çº¿æ€§å¯åˆ†ä½†æ˜¯å¯ä»¥è¿‘ä¼¼çº¿æ€§å¯åˆ†æ—¶ï¼Œé€šè¿‡è½¯é—´éš”(softmargin)æœ€å¤§åŒ–ä¹Ÿå¯ä»¥å­¦ä¹ åˆ°ä¸€ä¸ªçº¿æ€§åˆ†ç±»å™¨ï¼Œå³è½¯é—´éš”SVM</p></li><li><p>éçº¿æ€§SVM</p></li></ul><p>å½“è®­ç»ƒæ•°æ®çº¿æ€§ä¸å¯åˆ†æ—¶ï¼Œé€šè¿‡ä½¿ç”¨æ ¸æŠ€å·§(kerneltrick)å’Œè½¯é—´éš”æœ€å¤§åŒ–ï¼Œå¯ä»¥å­¦ä¹ åˆ°ä¸€ä¸ªéçº¿æ€§SVM</p><h3 id="ä¸ªå…³é”®æƒ³æ³•">3ä¸ªå…³é”®æƒ³æ³•</h3><ul><li>é€šè¿‡ä¼˜åŒ–æ¥æ±‚è§£ä¸€ ä¸ªè¶…å¹³é¢åˆ†ç±»å™¨</li><li>å¯»æ‰¾æœ€å¤§é—´éš”åˆ†ç±»å™¨æ¥æé«˜æ¨¡å‹ çš„ æ³›åŒ–èƒ½åŠ›ï¼ˆç»“æ„é£é™©æœ€å°åŒ–ï¼‰</li><li>é‡‡ç”¨æ ¸æŠ€å·§ä½¿å¾—åœ¨é«˜ç»´ç‰¹å¾ç©ºé—´çš„è®¡ç®—æ›´æœ‰æ•ˆç‡</li></ul><h3 id="çº¿æ€§å¯åˆ†svmç¡¬é—´éš”">çº¿æ€§å¯åˆ†SVMâ€”â€”ç¡¬é—´éš”</h3><p>è€ƒè™‘å¦‚ä¸‹å½¢å¼çš„çº¿æ€§å¯åˆ†çš„è®­ç»ƒæ•°æ®é›†:</p><p><span class="math display">\[(X_1, y_1),(X_2,y_2),...,(X_n,y_n)\]</span></p><p>å…¶ä¸­<span class="math inline">\(X_i\)</span>æ˜¯ä¸€ä¸ªå«æœ‰<spanclass="math inline">\(d\)</span>ä¸ªå…ƒç´ çš„åˆ—å‘é‡, å³<spanclass="math inline">\(X_i \in R^d\)</span>;<spanclass="math inline">\(y_i\)</span>æ˜¯æ ‡é‡,<span class="math inline">\(y\in +1, -1\)</span>,<spanclass="math inline">\(y+i=+1\)</span>æ—¶è¡¨ç¤º<spanclass="math inline">\(X_i\)</span>å±äºæ­£ç±»åˆ«,<spanclass="math inline">\(y_i=-1\)</span>æ—¶è¡¨ç¤º<spanclass="math inline">\(X_i\)</span>å±äºè´Ÿç±»åˆ«ã€‚æ³¨ï¼šè¿™é‡Œçš„<spanclass="math inline">\(X\)</span>ã€<spanclass="math inline">\(X_i\)</span>ã€<spanclass="math inline">\(W\)</span>éƒ½æ˜¯åˆ—å‘é‡ã€‚</p><p>å›å¿†ä¸€ä¸‹æ„ŸçŸ¥æœºçš„ç›®æ ‡:æ‰¾åˆ°ä¸€ä¸ªè¶…å¹³é¢ä½¿å…¶èƒ½æ­£ç¡®åœ°å°†æ¯ä¸ªæ ·æœ¬æ­£ç¡®åˆ†ç±»ã€‚æ„ŸçŸ¥æœºä½¿ç”¨è¯¯åˆ†ç±»æœ€å°çš„æ–¹æ³•æ±‚å¾—è¶…å¹³é¢ï¼Œä¸è¿‡æ­¤æ—¶è§£æœ‰æ— ç©·å¤šä¸ªã€‚è€Œçº¿æ€§å¯åˆ†æ”¯æŒå‘é‡æœºåˆ©ç”¨é—´éš”æœ€å¤§åŒ–æ±‚æœ€ä¼˜åˆ†ç¦»è¶…å¹³é¢,è¿™æ—¶è§£æ˜¯å”¯ä¸€çš„ã€‚</p><p>ä¸€ä¸ªè¶…å¹³é¢ç”±æ³•å‘é‡<span class="math inline">\(W\)</span>å’Œæˆªè·<spanclass="math inline">\(b\)</span>å†³å®š,å…¶æ–¹ç¨‹ä¸º<spanclass="math inline">\(X^TW+b = 0\)</span>,å¯ä»¥è§„å®šæ³•å‘é‡æŒ‡å‘çš„ä¸€ä¾§ä¸ºæ­£ç±»,å¦ä¸€ä¾§ä¸ºè´Ÿç±»ã€‚ä¸‹å›¾ç”»å‡ºäº†ä¸‰ä¸ªå¹³è¡Œçš„è¶…å¹³é¢ï¼Œæ³•æ–¹å‘å–å·¦ä¸Šæ–¹å‘ã€‚</p><p><img src="/img/æœºå™¨å­¦ä¹ /æœŸæœ«å¤ä¹ /SVMç¡¬é—´éš”.png" /></p><p>ä¸ºäº†æ‰¾åˆ°æœ€å¤§é—´éš”è¶…å¹³é¢ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆé€‰æ‹©åˆ†ç¦»ä¸¤ç±»æ•°æ®çš„ä¸¤ä¸ªå¹³è¡Œè¶…å¹³é¢ï¼Œä½¿å¾—å®ƒä»¬ä¹‹é—´çš„è·ç¦»å°½å¯èƒ½å¤§ã€‚åœ¨è¿™ä¸¤ä¸ªè¶…å¹³é¢èŒƒå›´å†…çš„åŒºåŸŸç§°ä¸ºâ€œé—´éš”(margin)â€ï¼Œæœ€å¤§é—´éš”è¶…å¹³é¢æ˜¯ä½äºå®ƒä»¬æ­£ä¸­é—´çš„è¶…å¹³é¢ã€‚è¿™ä¸ªè¿‡ç¨‹å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚</p><h4 id="é—´éš”æœ€å¤§åŒ–">é—´éš”æœ€å¤§åŒ–</h4><p>å°†é«˜æ•°é‡Œé¢æ±‚ä¸¤æ¡å¹³è¡Œç›´çº¿çš„è·ç¦»å…¬å¼æ¨å¹¿åˆ°é«˜ç»´å¯æ±‚å¾—ä¸Šå›¾ä¸­marginçš„<spanclass="math inline">\(\rho\)</span>:</p><p><span class="math display">\[margin = \rho =\frac{2}{||W||}\]</span></p><p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä½¿<spanclass="math inline">\(\rho\)</span>æœ€å¤§ï¼Œç­‰ä»·äºä½¿<spanclass="math inline">\(p^2\)</span>æœ€å¤§ï¼š</p><p><span class="math display">\[\max\limits_{W,b} \rho\Longleftrightarrow \max\limits_{W,b}\rho^2 \Longleftrightarrow\min\limits{W,b}\frac{1}{2}||W||^2 \tag{1}\]</span></p><p>ä¸Šå¼çš„<spanclass="math inline">\(\frac{1}{2}\)</span>æ˜¯ä¸ºäº†åç»­æ±‚å¯¼ååˆšå¥½èƒ½æ¶ˆå»ï¼Œæ²¡æœ‰å…¶ä»–ç‰¹æ®Šæ„ä¹‰ã€‚</p><p>åŒæ—¶ä¹Ÿä¸è¦å¿˜äº†æœ‰ä¸€äº›çº¦æŸæ¡ä»¶:</p><p><span class="math display">\[X_i^tW+b\ge +1,y_i=+1 \\ X_i^tW+b\le-1,y_i=-1\]</span></p><p>æ€»ç»“ä¸€ä¸‹ï¼Œé—´éš”æœ€å¤§åŒ–é—®é¢˜çš„æ•°å­¦è¡¨è¾¾å°±æ˜¯</p><p><span class="math display">\[\begin{equation}\min\limits_{W,b} J(W)= \min\limits_{W,b}\frac{1}{2}||W||^2 \\s.t. \quad y_i(X_i^T+b) \ge 1, i = 1,2,...,n    \tag{2}\end{equation}\]</span></p><p>é€šè¿‡æ±‚è§£ä¸Šå¼å³å¯å¾—åˆ°æœ€ä¼˜è¶…å¹³é¢<spanclass="math inline">\(\hat{W}\)</span>å’Œ<spanclass="math inline">\(\hat{b}\)</span>ã€‚</p><h4 id="æ”¯æŒå‘é‡">æ”¯æŒå‘é‡</h4><p>åœ¨çº¿æ€§å¯åˆ†çš„æƒ…å†µä¸‹ï¼Œè®­ç»ƒæ•°æ®é›†çš„æ ·æœ¬ç‚¹ä¸­ä¸åˆ†ç¦»è¶…å¹³é¢è·ç¦»<strong>æœ€è¿‘</strong>çš„æ•°æ®ç‚¹ç§°ä¸ºæ”¯æŒå‘é‡(supportvector)ï¼Œæ”¯æŒå‘é‡æ˜¯ä½¿<spanclass="math inline">\((2)\)</span>ä¸­çš„çº¦æŸæ¡ä»¶å–ç­‰çš„ç‚¹ï¼Œå³æ»¡è¶³</p><p><span class="math display">\[y_i(X_i^TW+b)=1\]</span></p><p>çš„ç‚¹ã€‚ä¹Ÿå³æ‰€æœ‰åœ¨ç›´çº¿<spanclass="math inline">\(X_i^TW+b=1\)</span>æˆ–ç›´çº¿<spanclass="math inline">\(X_i^TW+b=-1\)</span>çš„ç‚¹ã€‚å¦‚ä¸‹å›¾æ‰€ç¤º:</p><p><img src="/img/æœºå™¨å­¦ä¹ /æœŸæœ«å¤ä¹ /æ”¯æŒå‘é‡.jpg" /></p><p><strong>åœ¨å†³å®šæœ€ä½³è¶…å¹³é¢æ—¶åªæœ‰æ”¯æŒå‘é‡èµ·ä½œç”¨ï¼Œè€Œå…¶ä»–æ•°æ®ç‚¹å¹¶ä¸èµ·ä½œç”¨</strong>ã€‚å¦‚æœç§»åŠ¨éæ”¯æŒå‘é‡ï¼Œç”šè‡³åˆ é™¤éæ”¯æŒå‘é‡éƒ½ä¸ä¼šå¯¹æœ€ä¼˜è¶…å¹³é¢äº§ç”Ÿä»»ä½•å½±å“ã€‚ä¹Ÿå³æ”¯æŒå‘é‡å¯¹æ¨¡å‹èµ·ç€å†³å®šæ€§çš„ä½œç”¨ï¼Œè¿™ä¹Ÿæ˜¯â€œæ”¯æŒå‘é‡æœºâ€åç§°çš„ç”±æ¥ã€‚</p><h4 id="å¯¹å¶é—®é¢˜">å¯¹å¶é—®é¢˜</h4><p>å¦‚ä½•æ±‚è§£å¼<span class="math inline">\((2)\)</span>å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬ç§°å¼<spanclass="math inline">\((2)\)</span>æ‰€è¿°é—®é¢˜ä¸ºåŸå§‹é—®é¢˜(primal problem),å¯ä»¥åº”ç”¨æ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•æ„é€ æ‹‰æ ¼æœ—æ—¥å‡½æ•°(Lagrangefunction)å†é€šè¿‡æ±‚è§£å…¶å¯¹å¶é—®é¢˜(dualproblem)å¾—åˆ°åŸå§‹é—®é¢˜çš„æœ€ä¼˜è§£ã€‚è½¬æ¢ä¸ºå¯¹å¶é—®é¢˜æ¥æ±‚è§£çš„åŸå› æ˜¯:</p><ul><li>å¯¹å¶é—®é¢˜æ›´æ˜“æ±‚è§£ï¼Œç”±ä¸‹æ–‡çŸ¥å¯¹å¶é—®é¢˜åªéœ€ä¼˜åŒ–ä¸€ä¸ªå˜é‡<spanclass="math inline">\(\alpha\)</span>ä¸”çº¦æŸæ¡ä»¶æ›´ç®€å•ï¼›</li><li>èƒ½æ›´åŠ è‡ªç„¶åœ°å¼•å…¥æ ¸å‡½æ•°ï¼Œè¿›è€Œæ¨å¹¿åˆ°éçº¿æ€§é—®é¢˜ã€‚</li></ul><p>é¦–å…ˆæ„å»ºæ‹‰æ ¼æœ—æ—¥å‡½æ•°ã€‚ä¸ºæ­¤éœ€è¦å¼•è¿›æ‹‰æ ¼æœ—æ—¥ä¹˜å­(Lagrangemultiplier),<span class="math inline">\(\alpha_i \ge0,i=1,2,...,n\)</span>ã€‚åˆ™æ‹‰æ ¼æœ—æ—¥å‡½æ•°ä¸º:</p><p><span class="math display">\[L(W,b,\alpha)=\frac{1}{2}||w||^2 -\sum\limits_{n}^{i=1}\alpha_i [y_i(X_i^TW+b)-1]\]</span></p><p>å› æ­¤ï¼Œç»™å®šä¸€ä¸ª<span class="math inline">\(W\)</span>å’Œ<spanclass="math inline">\(b\)</span>, è‹¥æ»¡è¶³å¼<spanclass="math inline">\((1)\)</span>çš„çº¦æŸæ¡ä»¶ï¼Œé‚£ä¹ˆæœ‰</p><p><spanclass="math display">\[\max\limits_{\alpha}L(W,b,\alpha)=J(W)=\frac{1}{2}||W||^2\]</span></p><p>åˆ™ç”±ä¸Šå¼å¯çŸ¥ï¼Œä¼˜åŒ–é—®é¢˜</p><p><span class="math display">\[\min\limits_{W,b}\max\limits_{\alpha}L(W,b,\alpha)\]</span></p><p>ä¸å¼<span class="math inline">\((1)\)</span>æ‰€è¿°é—®é¢˜å®Œå…¨ç­‰ä»·ã€‚</p><p>æ ¹æ®æ‹‰æ ¼æœ—æ—¥å¯¹å¶æ€§ï¼Œå¼<spanclass="math inline">\((1)\)</span>æ‰€è¿°é—®é¢˜å³åŸå§‹é—®é¢˜çš„å¯¹å¶é—®é¢˜æ˜¯:</p><p><span class="math display">\[\max\limits_{\alpha} \min\limits_{W,b}L(W,b,\alpha)\]</span></p><p>ä¸ºäº†æ±‚å¾—å¯¹å¶é—®é¢˜çš„è§£ï¼Œéœ€è¦å…ˆæ±‚å¾—<spanclass="math inline">\(L(W,b,\alpha)\)</span>å¯¹<spanclass="math inline">\(W\)</span>å’Œ<spanclass="math inline">\(b\)</span>çš„æå°å†æ±‚å¯¹<spanclass="math inline">\(\alpha\)</span> çš„æå¤§ã€‚</p><ol type="1"><li>æ±‚<span class="math inline">\(\min\limits_{W,b}L(W,b,\alpha)\)</span>:å¯¹æ‹‰æ ¼æœ—æ—¥å‡½æ•°æ±‚å¯¼å¹¶ä»¤å¯¼æ•°ä¸º0ï¼Œæœ‰ï¼š</li></ol><p><span class="math display">\[\begin{equation}\nabla_W L(W, b, \alpha)=W-\sum_{i=1}^n \alpha_i y_i X_i=0\Longrightarrow W=\sum_{i=1}^n \alpha_i y_i X_i \tag{3}\end{equation}\]</span></p><p><span class="math display">\[\begin{equation*}    \nabla_b L(W, b, \alpha)=-\sum_{i=1}^n \alpha_i y_i=0\Longrightarrow \sum_{i=1}^n \alpha_i y_i=0\end{equation*}\]</span></p><p>å°†ä¸Šé¢ä¸¤å¼ä»£å…¥<span class="math inline">\(L(W,b,\alpha)\)</span>:</p><p><span class="math display">\[\begin{aligned}&amp; L(\mathbf{w}, b,\boldsymbol{\alpha})=\frac{1}{2}\|\mathbf{w}\|^2-\sum_{i=1}^n\alpha_i\left[y_i\left(\mathbf{x}_i^T \mathbf{w}+b\right)-1\right] \\&amp; =\frac{1}{2} \sum_{i=1}^n \alpha_i y_i \mathbf{x}_i^T \sum_{j=1}^n\alpha_j y_j \mathbf{x}_j-\sum_{i=1}^n \alpha_i y_i \mathbf{x}_i^T\sum_{j=1}^n \alpha_j y_j \mathbf{x}_j-b \sum_{i=1}^n \alpha_iy_i+\sum_{i=1}^n \alpha_i \\&amp; =\sum_{i=1}^n \alpha_i-\frac{1}{2} \sum_{i=1}^n \alpha_i y_i\mathbf{x}_i^T \sum_{j=1}^n \alpha_j y_j \mathbf{x}_j=\sum_{i=1}^n\alpha_i-\frac{1}{2} \sum_{i, j=1}^n y_i y_j \alpha_{i} \alpha_j\mathbf{x}_i^T \mathbf{x}_{i=1}\end{aligned}\]</span></p><p>æ‰€ä»¥</p><p><span class="math display">\[\begin{equation}    \min _{W, b} L(W, b, \alpha)=-\frac{1}{2} \sum_{i=1}^n \sum_{j=1}^n\alpha_i \alpha_j y_i y_j X_i^T X_j+\sum_{i=1}^n \alpha_i \tag{4}\end{equation}\]</span></p><ol start="2" type="1"><li>æ±‚<spanclass="math inline">\(\min\limits{W,b}L(W,b,\alpha)\)</span>å¯¹<spanclass="math inline">\(\alpha\)</span>çš„æå¤§ï¼š</li></ol><p>ç­‰ä»·äºå¼<span class="math inline">\((4)\)</span>å¯¹<spanclass="math inline">\(\alpha\)</span>æ±‚æå¤§ï¼Œä¹Ÿç­‰ä»·äºå¼<spanclass="math inline">\((4)\)</span>å–è´Ÿæ•°åå¯¹<spanclass="math inline">\(\alpha\)</span>æ±‚æå°ï¼Œå³</p><p><span class="math display">\[\min _\alpha \frac{1}{2} \sum_{i=1}^n\sum_{j=1}^n \alpha_i \alpha_j y_i y_j X_i^T X_j-\sum_{i=1}^n \alpha_i\tag{5}\]</span></p><p>åŒæ—¶æ»¡è¶³çº¦æŸæ¡ä»¶ï¼š</p><p><span class="math display">\[\begin{aligned}&amp; \sum_{i=1}^n \alpha_i y_i=0 \\&amp; \alpha_i \geq 0, i=1,2, \ldots, n\end{aligned} \tag{6}\]</span></p><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å¾—åˆ°äº†åŸå§‹æœ€ä¼˜åŒ–é—®é¢˜<spanclass="math inline">\((2)\)</span>å’Œå¯¹å¶æœ€ä¼˜åŒ–é—®é¢˜<spanclass="math inline">\((5)\)</span>ã€<spanclass="math inline">\((6)\)</span>ã€‚</p><p>å› ä¸ºåŸå§‹ä¼˜åŒ–é—®é¢˜çš„ç›®æ ‡å‡½æ•°å’Œä¸ç­‰å¼çº¦æŸæ¡ä»¶éƒ½æ˜¯å‡¸å‡½æ•°ï¼Œå¹¶ä¸”è¯¥ä¸ç­‰å¼çº¦æŸæ˜¯ä¸¥æ ¼å¯è¡Œçš„(å› ä¸ºæ•°æ®æ˜¯çº¿æ€§å¯åˆ†çš„),æ‰€ä»¥å­˜åœ¨<spanclass="math inline">\(\hat{W},\hat{b},\hat{\alpha}\)</span>ï¼Œä½¿å¾—<spanclass="math inline">\(\hat{W},\hat{b}\)</span>æ˜¯åŸå§‹é—®é¢˜çš„è§£ï¼Œ<spanclass="math inline">\(\hat{\alpha}\)</span>æ˜¯å¯¹å¶é—®é¢˜çš„è§£ã€‚è¿™æ„å‘³ç€æ±‚è§£åŸå§‹æœ€ä¼˜åŒ–é—®é¢˜<spanclass="math inline">\((2)\)</span>å¯ä»¥è½¬æ¢ä¸ºæ±‚è§£å¯¹å¶æœ€ä¼˜åŒ–é—®é¢˜<spanclass="math inline">\((5),(6)\)</span>ã€‚</p><p>é‚£ä¹ˆå¦‚ä½•æ±‚è§£ä¼˜åŒ–é—®é¢˜<span class="math inline">\((5)\)</span>ã€<spanclass="math inline">\((6)\)</span>çš„æœ€ä¼˜è§£<spanclass="math inline">\(\hat{\alpha}\)</span>å‘¢ï¼Ÿä¸éš¾å‘ç°è¿™æ˜¯ä¸€ä¸ªäºŒæ¬¡è§„åˆ’é—®é¢˜ï¼Œæœ‰ç°æˆçš„é€šç”¨çš„ç®—æ³•æ¥æ±‚è§£ã€‚</p><p>å‡è®¾æˆ‘ä»¬ç°åœ¨æ±‚å¾—äº†<span class="math inline">\((4)\)</span>ã€<spanclass="math inline">\((5)\)</span>çš„æœ€ä¼˜è§£<spanclass="math inline">\(\hat{\alpha}\)</span>ï¼Œåˆ™æ ¹æ®å¼<spanclass="math inline">\((4)\)</span>å¯æ±‚å¾—æœ€ä¼˜<spanclass="math inline">\(\hat{W}\)</span>ï¼š</p><p><span class="math display">\[\hat{W}=\sum\limits_{i=1}^n\hat{\alpha}_i y_i X_i \tag{5}\]</span></p><p>å› ä¸ºè‡³å°‘å­˜åœ¨ä¸€ä¸ª<span class="math inline">\(\hat{\alpha}_j &gt;0\)</span>(è‹¥ä¸å­˜åœ¨ï¼Œå³<spanclass="math inline">\(\hat{\alpha}\)</span>å…¨ä¸º0ï¼Œåˆ™<spanclass="math inline">\(\hat{W}=0\)</span>, å³<spanclass="math inline">\(margin=\frac{2}{||W||} =\infty\)</span>,æ˜¾ç„¶ä¸è¡Œ), å†æ ¹æ®KKTæ¡ä»¶ï¼Œå³</p><p><span class="math display">\[\left\{\begin{array}{l}\text { ä¹˜å­éè´Ÿ }: \alpha_i \geq 0(i=1,2, \ldots n . \text { ä¸‹åŒ }) \\\text { çº¦æŸæ¡ä»¶ }: y_i\left(X_i^T W+b\right)-1 \geq 0 \\\text { äº’è¡¥æ¡ä»¶ }: \alpha_i\left(y_i\left(X_i^T W+b\right)-1\right)=0\end{array}\right.\]</span></p><p>æ‰€ä»¥è‡³å°‘å­˜åœ¨ä¸€ä¸ª<span class="math inline">\(j\)</span>,ä½¿<spanclass="math inline">\(y_j(X_T\hat{W}+\hat{b})-1=0\)</span>,å³å¯æ±‚å¾—æœ€ä¼˜<spanclass="math inline">\(\hat{b}\)</span>:</p><p><span class="math display">\[\begin{aligned}\hat{b} &amp; =\frac{1}{y_j}-X_j^T \hat{W} \\&amp; =y_j-X_j^T \hat{W} \\&amp; =y_j-\sum_{i=1}^n \hat{\alpha}_i y_i X_j^T X_i\end{aligned}   \tag{7}\]</span></p><p>è‡³æ­¤ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±æ±‚å¾—äº†æ•´ä¸ªçº¿æ€§å¯åˆ†SVMçš„è§£ã€‚æ±‚å¾—çš„åˆ†ç¦»è¶…å¹³é¢ä¸º:</p><p><span class="math display">\[\sum_{i=1}^n \hat{\alpha}_i y_i X^T X_i+\hat{b}=0\]</span></p><p>åˆ™åˆ†ç±»çš„å†³ç­–å‡½æ•°ä¸º</p><p><span class="math display">\[f(X)=\operatorname{sign}\left(\sum_{i=1}^n \hat{\alpha}_i y_i X^TX_i+\hat{b}\right)\]</span></p><p>å†æ¥åˆ†æKKTæ¡ä»¶é‡Œçš„äº’è¡¥æ¡ä»¶ï¼Œå¯¹äºä»»æ„æ ·æœ¬<spanclass="math inline">\((X_i,y_i)\)</span>ï¼Œæ€»ä¼šæœ‰<spanclass="math inline">\(\alpha_i=0\)</span>æˆ–è€…<spanclass="math inline">\(y_if(X_i)=y_i(X^T_i\hat{W}+b)=1\)</span>ã€‚åˆ™æœ‰è‹¥<spanclass="math inline">\(\alpha_i=0\)</span>ï¼Œæ­¤æ ·æœ¬ç‚¹ä¸æ˜¯æ”¯æŒå‘é‡ï¼Œå¯¹æ¨¡å‹æ²¡æœ‰ä»»ä½•ä½œç”¨ï¼›è‹¥<spanclass="math inline">\(\alpha_i &gt;0\)</span>ï¼Œæ­¤æ ·æœ¬ç‚¹ä½äºæœ€å¤§é—´éš”è¾¹ç•Œä¸Šï¼Œæ˜¯ä¸€ä¸ªæ”¯æŒå‘é‡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º:</p><p><img src="/img/æœºå™¨å­¦ä¹ /æœŸæœ«å¤ä¹ /ç¡¬é—´éš”-1.png" /></p><p>æ­¤å¤–ï¼Œå½“æ ·æœ¬ç‚¹æ˜¯éæ”¯æŒå‘é‡æ—¶ï¼Œå› ä¸º<spanclass="math inline">\(\alpha_i=0\)</span>ï¼Œæ‰€ä»¥SVMçš„è§£ä¸­çš„æ±‚å’Œé¡¹ä¸­ç¬¬<spanclass="math inline">\(i\)</span>é¡¹å°±ä¸º0ï¼Œæ‰€ä»¥SVMçš„è§£<spanclass="math inline">\((6)\)</span>ã€<spanclass="math inline">\((7)\)</span>å¯ç®€åŒ–ä¸ºå¦‚ä¸‹å½¢å¼:</p><p><span class="math display">\[\hat{W}=\sum\limits_{i\in S V}\hat{\alpha}_{i}y_{i}X_{i}\\\hat{b}=y_{j}-\sum\limits_{i\in S V}\hat{\alpha}_{i}y_{i}X_{j}^{T}X_{i}\]</span></p><p>ç±»ä¼¼çš„ï¼Œåˆ¤åˆ«å‡½æ•°ä¹Ÿå¯è½¬æ¢æˆå¦‚ä¸‹å½¢å¼:</p><p><span class="math display">\[f(X)=s i g n(\sum\limits_{i\in SV}\hat{\alpha}_{i}y_{i}X^{T}X_{i}+\hat{b})\]</span></p><p>æ‰€ä»¥ï¼Œæ•´ä¸ªSVMçš„è§£åªä¸æ”¯æŒå‘é‡SVæœ‰å…³ï¼Œä¸éæ”¯æŒå‘é‡æ— å…³ã€‚</p><h3 id="çº¿æ€§svmè½¯é—´éš”">çº¿æ€§SVMâ€”â€”è½¯é—´éš”</h3><p>ä¸Šè¿°<strong>ç¡¬é—´éš”</strong>æ˜¯å®Œå…¨åˆ†ç±»å‡†ç¡®ï¼Œå…¶æŸå¤±å‡½æ•°ä¸å­˜åœ¨ï¼›å…¶æŸå¤±å€¼ä¸º0ï¼›åªè¦æ‰¾å‡ºä¸¤ä¸ªå¼‚ç±»æ­£ä¸­é—´çš„é‚£ä¸ªå¹³é¢ï¼Œè€Œ<strong>è½¯é—´éš”</strong>å…è®¸ä¸€å®šé‡çš„æ ·æœ¬åˆ†ç±»é”™è¯¯ï¼Œå³å…è®¸å°‘é‡æ ·æœ¬ä¸æ»¡è¶³çº¦æŸ</p><p><span class="math display">\[y_{i}(X_{i}^{T}W+b)\geq1\]</span></p><p>ä¸ºäº†ä½¿ä¸æ»¡è¶³ä¸Šè¿°æ¡ä»¶çš„æ ·æœ¬ç‚¹å°½å¯èƒ½å°‘ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä¼˜åŒ–çš„ç›®æ ‡å‡½æ•°<spanclass="math inline">\((1)\)</span>é‡Œé¢æ–°å¢ä¸€ä¸ªå¯¹è¿™äº›ç‚¹çš„æƒ©ç½šé¡¹ã€‚æœ€å¸¸ç”¨çš„æ˜¯hingeæŸå¤±:</p><p><span class="math display">\[l_{h i n g e}(z)=m ax(\mathsf{0,1-z})\]</span></p><p>å³è‹¥æ ·æœ¬ç‚¹æ»¡è¶³çº¦æŸæ¡ä»¶æŸå¤±å°±æ˜¯0, å¦åˆ™æŸå¤±å°±æ˜¯,åˆ™ä¼˜åŒ–ç›®æ ‡<spanclass="math inline">\(ï¼ˆ1ï¼‰\)</span>å˜æˆ</p><p><span class="math display">\[\begin{equation}\min\limits_{W,b} \frac{1}{2}||W||^2 + C\sum\limits_{i=1}^n \max{(0, 1 -u_i(X_i^TW + b))}  \tag{8}\end{equation}\]</span></p><p>å…¶ä¸­<span class="math inline">\(C&gt;0\)</span>ç§°ä¸ºæƒ©ç½šå‚æ•°ï¼Œ<spanclass="math inline">\(C\)</span>è¶Šå°æ—¶å¯¹è¯¯åˆ†ç±»æƒ©ç½šè¶Šå°ï¼Œè¶Šå¤§æ—¶å¯¹è¯¯åˆ†ç±»æƒ©ç½šè¶Šå¤§ï¼Œå½“<spanclass="math inline">\(C\)</span>å–æ­£æ— ç©·æ—¶å°±å˜æˆäº†ç¡¬é—´éš”ä¼˜åŒ–ã€‚å®é™…åº”ç”¨æ—¶æˆ‘ä»¬è¦åˆç†é€‰å–<spanclass="math inline">\(C\)</span>,<spanclass="math inline">\(C\)</span>è¶Šå°è¶Šå®¹æ˜“æ¬ æ‹Ÿåˆï¼Œ<spanclass="math inline">\(C\)</span>è¶Šå¤§è¶Šå®¹æ˜“è¿‡æ‹Ÿåˆã€‚</p><p>å¦‚æœæˆ‘ä»¬å¼•å…¥â€œæ¾å¼›å˜é‡â€<span class="math inline">\(\xi_i \ge0\)</span>, é‚£ä¹ˆå¼<span class="math inline">\((8)\)</span>å¯é‡å†™æˆ</p><p><span class="math display">\[\min\limits_{W,b,\xi}{\frac{1}{2}||W||^{2}+C\sum\limits_{i=1}^{n}\xi_{i}} \\ s.t. \quady_i(X_i^TW+b) \ge 1 - \xi_i \\ \xi_i \ge 0, i = 1,2,...,n\]</span></p><p>ä¸Šå¼æ‰€è¿°é—®é¢˜å³è½¯é—´éš”æ”¯æŒå‘é‡æœºã€‚</p><p>è€Œå…¶å¯¹å¶é—®é¢˜ä¸ç¡¬é—´éš”åŒç†ã€‚</p><h3 id="éçº¿æ€§svmæ ¸æŠ€å·§">éçº¿æ€§SVMâ€”â€”æ ¸æŠ€å·§</h3><p>é¦–å…ˆå›é¡¾å‰é¢çš„çº¿æ€§SVMçš„ä¼˜åŒ–ç›®æ ‡</p><p><span class="math display">\[\min _\alpha \frac{1}{2} \sum_{i=1}^n\sum_{j=1}^n \alpha_i \alpha_j y_i y_j X_i^T X_j-\sum_{i=1}^n\alpha_i\]</span></p><p>ä»¥åŠçº¦æŸæ¡ä»¶</p><p><span class="math display">\[\begin{aligned}&amp; \sum_{i=1}^n \alpha_i y_i=0 \\&amp; \alpha_i \geq 0, i=1,2, \ldots, n\end{aligned}\]</span></p><p>å‰é¢ä»‹ç»çš„éƒ½æ˜¯çº¿æ€§é—®é¢˜ï¼Œä½†æ˜¯æˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°éçº¿æ€§çš„é—®é¢˜(ä¾‹å¦‚å¼‚æˆ–é—®é¢˜)ï¼Œæ­¤æ—¶å°±éœ€è¦ç”¨åˆ°æ ¸æŠ€å·§(kerneltrick)å°†çº¿æ€§æ”¯æŒå‘é‡æœºæ¨å¹¿åˆ°éçº¿æ€§æ”¯æŒå‘é‡æœºã€‚å¦‚æœæ ·æœ¬åœ¨ç‰¹å¾ç©ºé—´å†…çº¿æ€§ä¸å¯åˆ†ï¼Œåˆ™éœ€è¦åˆ©ç”¨æ ¸å‡½æ•°å°†å…¶æ˜ å°„åˆ°é«˜ç»´ç©ºé—´ä¸­ï¼Œè®©å…¶åœ¨é«˜ç»´ç©ºé—´ä¸­çº¿æ€§å¯åˆ†ã€‚æ ¹æ®SVMåŸºç¡€å½¢å¼çš„æ±‚è§£ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæƒ³åˆ°ä¸‹é¢çš„æ–¹å¼ï¼š</p><p><span class="math display">\[f(\boldsymbol X)=\sum_{i=1}^{N} w_i\phi_i(\boldsymbol X)+b\]</span></p><p>è¿™é‡Œçš„<spanclass="math inline">\(\phi_i()\)</span>å°±æ˜¯ä»è¾“å…¥çš„ç‰¹å¾ç©ºé—´åˆ°æŸä¸ªæ›´é«˜ç»´çš„ç‰¹å¾ç©ºé—´çš„æ˜ å°„ï¼Œè¿™å°±æ„å‘³ç€å»ºè®®äº†éçº¿æ€§çš„å­¦ä¹ å™¨åˆ†ä¸ºä¸¤æ­¥ï¼š</p><ul><li>ä½¿ç”¨ä¸€ä¸ªå˜æ¢å°†åŸç©ºé—´çš„æ•°æ®æ˜ å°„åˆ°æ–°ç©ºé—´(ä¾‹å¦‚æ›´é«˜ç»´ç”šè‡³æ— ç©·ç»´çš„ç©ºé—´)ï¼›</li><li>ç„¶ååœ¨æ–°ç©ºé—´é‡Œç”¨çº¿æ€§æ–¹æ³•ä»è®­ç»ƒæ•°æ®ä¸­å­¦ä¹ å¾—åˆ°æ¨¡å‹ã€‚</li></ul><p>è¿™ç§åŸºæœ¬å‹çš„æ±‚è§£æ˜¯éå¸¸éš¾çš„ï¼Œå› ä¸ºè¿™ä¸ªæ˜ å°„å‡½æ•°æ˜¯éå¸¸éš¾ä»¥å¯»æ‰¾å’Œæ±‚è§£çš„ï¼ï¼ˆæ®è¯´NPéš¾ï¼‰ï¼Œè€Œäº†è§£äº†SVMçš„å¯¹å¶å½¢å¼ç»™äº†å¦ä¸€ç§æ±‚è§£æ€è·¯ï¼š</p><p><span class="math display">\[f(\boldsymbol X)=\sum_{i=1}^{l} \alpha_iy_i \left \langle \boldsymbol \phi_i(\boldsymbol X_i) \cdot \boldsymbol\phi(\boldsymbol X) \right \rangle + b\]</span></p><p>æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬åœ¨æ±‚è§£çš„æ—¶å€™éœ€è¦è®¡ç®—<spanclass="math inline">\(Ï•i(X_i)â‹…Ï•(X)\)</span>ï¼Œä¹Ÿå°±æ˜¯æ˜ å°„åçš„ä¸¤ä¸ªæ ·æœ¬çš„é«˜ç»´ç‰¹å¾çš„å†…ç§¯å½¢å¼ï¼Œå¦‚æœæœ‰ä¸€ç§æ–¹æ³•å¯ä»¥åœ¨ç‰¹å¾ç©ºé—´ä¸­ç›´æ¥è®¡ç®—è¿™ä¸ªä¸œè¥¿ï¼Œæ˜¯ä¸æ˜¯å°±å¾ˆæ–¹ä¾¿äº†ï¼Ÿå¯¹çš„ï¼Œæ ¸å‡½æ•°å°±æ˜¯åšè¿™ä¸ªçš„ï¼š</p><p><span class="math display">\[K(\boldsymbol X, \boldsymbol X_i) =\boldsymbol \phi(\boldsymbol X) \cdot \boldsymbol \phi(\boldsymbolX_i)\]</span></p><p>é‚£ä¹ˆç°åœ¨çš„ä¼˜åŒ–ç›®æ ‡å°±å˜ä¸º</p><p><span class="math display">\[\min\limits_{\alpha}\frac{1}{2}\sum_{i=1}^{n}\sum_{j=1}^{n}\alpha_{i}\alpha_{j}y_{i}y_{j}K(X_{i},X_{j})\;-\;\sum_{i=1}^{n}\alpha_{i}\\s.t.\,\,\,\,\sum_{i=1}^{n}\alpha_{i}y_{i}=0 \\0\leq\alpha_{i}\leq C,i=1,2,\cdot\cdot,n.\]</span></p><p>ä¸Šè¿°çš„æ€æƒ³å°±æ˜¯SVMæ ¸å‡½æ•°çš„æ ¸å¿ƒæ€æƒ³ã€‚</p><h4 id="å¤šé¡¹å¼æ ¸å‡½æ•°">å¤šé¡¹å¼æ ¸å‡½æ•°</h4><p>å¯¹äºä¸€ä¸ªå¤šé¡¹å¼æ ¸å‡½æ•°</p><p><span class="math display">\[K(\boldsymbol X, \boldsymbol X_i) = [(X\cdot X_i) + c]^q\]</span></p><p>å¯ä»¥å¾—åˆ°qé˜¶å¤šé¡¹å¼åˆ†ç±»å™¨</p><h4 id="é«˜æ–¯å¾„å‘åŸºæ ¸rbf">é«˜æ–¯å¾„å‘åŸºæ ¸RBF</h4><p><span class="math display">\[K(\boldsymbol X, \boldsymbol X_i)=  exp(-\frac{|X-X_i|^2}{\sigma^2})\]</span></p><p>æ¯ä¸ªåŸºå‡½æ•°ä¸­å¿ƒå¯¹åº”ä¸€ä¸ªæ”¯æŒå‘é‡ï¼Œå®ƒä»¬åŠè¾“å‡ºæƒå€¼ç”±ç®—æ³•è‡ªåŠ¨ç¡®å®šã€‚</p><h4 id="sigmodæ ¸">Sigmodæ ¸</h4><p><span class="math display">\[K(X, X_i)=tanh(\nu(X,X_)+c)\]</span></p><p>åŒ…å«ä¸€ä¸ªéšå±‚çš„å¤šå±‚æ„ŸçŸ¥å™¨ï¼Œéšå±‚èŠ‚ç‚¹æ•°æ˜¯ç”±ç®—æ³•è‡ªåŠ¨ç¡®å®šã€‚</p><p>æ³¨ï¼šä¸Šè¿°SVMå†…å®¹è½¬è½½äº<ahref="https://zhuanlan.zhihu.com/p/49331510">çœ‹äº†è¿™ç¯‡æ–‡ç« ä½ è¿˜ä¸æ‡‚SVMä½ å°±æ¥æ‰“æˆ‘</a></p><h2 id="ç¬¬ä¸ƒç« -æ··åˆæ¨¡å‹ä¸æœŸæœ›æœ€å¤§">ç¬¬ä¸ƒç«  æ··åˆæ¨¡å‹ä¸æœŸæœ›æœ€å¤§</h2><p><strong>èšç±»åŸºæœ¬æ€æƒ³</strong>ï¼šå°†ç›¸ä¼¼çš„å®ä¾‹åˆ†ç»„åœ¨ä¸€èµ·ã€‚èšç±»ç»“æœåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºå¾…èšç±»ç‚¹ä¹‹é—´çš„ç›¸ä¼¼æ€§ï¼ˆæˆ–è·ç¦»ï¼‰åº¦é‡</p><p><strong>èšç±»ç®—æ³•</strong></p><ul><li>åŸå‹èšç±»ï¼šå¦‚Kå‡å€¼ç®—æ³•ã€é«˜æ–¯æ··åˆæ¨¡å‹</li><li>å¯†åº¦èšç±»ï¼šå¦‚DBSCANç®—æ³•ã€Mean-Shift ç®—æ³•</li><li>å±‚æ¬¡èšç±»ï¼šå¦‚Agglomerative ç®—æ³•ã€Divisiveç®—æ³•ã€BIRCH ç®—æ³•</li><li>è°±èšç±»</li></ul><h3 id="k-means-èšç±»">K-means èšç±»</h3><p>K-Meansç®—æ³•çš„æ€æƒ³å¾ˆç®€å•ï¼Œå¯¹äºç»™å®šçš„æ ·æœ¬é›†ï¼ŒæŒ‰ç…§æ ·æœ¬ä¹‹é—´çš„è·ç¦»å¤§å°ï¼Œå°†æ ·æœ¬é›†åˆ’åˆ†ä¸ºKä¸ªç°‡ã€‚è®©ç°‡å†…çš„ç‚¹å°½é‡ç´§å¯†çš„è¿åœ¨ä¸€èµ·ï¼Œè€Œè®©ç°‡é—´çš„è·ç¦»å°½é‡çš„å¤§ã€‚</p><p>å¦‚æœç”¨æ•°æ®è¡¨è¾¾å¼è¡¨ç¤ºï¼Œå‡è®¾ç°‡åˆ’åˆ†ä¸º<spanclass="math inline">\((C_1,C_2,...C_k)\)</span>ï¼Œåˆ™æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æœ€å°åŒ–å¹³æ–¹è¯¯å·®<spanclass="math inline">\(E\)</span>ï¼š</p><p><span class="math display">\[E = \sum\limits_{i=1}^k\sum\limits_{x\in C_i} ||x-\mu_i||_2^2\]</span></p><p>å…¶ä¸­<span class="math inline">\(Î¼_i\)</span>æ˜¯ç°‡<spanclass="math inline">\(C_i\)</span>çš„å‡å€¼å‘é‡ï¼Œæœ‰æ—¶ä¹Ÿç§°ä¸ºè´¨å¿ƒï¼Œè¡¨è¾¾å¼ä¸ºï¼š</p><p><span class="math display">\[\mu_i = \frac{1}{|C_i|}\sum\limits_{x\in C_i}x\]</span></p><p>å¦‚æœæˆ‘ä»¬æƒ³ç›´æ¥æ±‚ä¸Šå¼çš„æœ€å°å€¼å¹¶ä¸å®¹æ˜“ï¼Œè¿™æ˜¯ä¸€ä¸ªNPéš¾çš„é—®é¢˜ï¼Œå› æ­¤åªèƒ½é‡‡ç”¨å¯å‘å¼çš„è¿­ä»£æ–¹æ³•ã€‚</p><p>K-Meansé‡‡ç”¨çš„å¯å‘å¼æ–¹å¼å¾ˆç®€å•ï¼Œç”¨ä¸‹é¢ä¸€ç»„å›¾å°±å¯ä»¥å½¢è±¡çš„æè¿°ã€‚</p><p><img src="/img/æœºå™¨å­¦ä¹ /æœŸæœ«å¤ä¹ /kmeansè¿‡ç¨‹.png" /></p><p>K-Meansçš„ç®—æ³•æ­¥éª¤ä¸º:</p><ol type="1"><li>é€‰æ‹©åˆå§‹åŒ–çš„ k ä¸ªæ ·æœ¬ä½œä¸ºåˆå§‹èšç±»ä¸­å¿ƒ<spanclass="math inline">\(a=a_1,a_2,...,a_k\)</span></li><li>é’ˆå¯¹æ•°æ®é›†ä¸­æ¯ä¸ªæ ·æœ¬<span class="math inline">\(x_i\)</span>è®¡ç®—å®ƒåˆ°<span class="math inline">\(k\)</span>ä¸ªèšç±»ä¸­å¿ƒçš„è·ç¦»å¹¶å°†å…¶åˆ†åˆ°è·ç¦»æœ€å°çš„èšç±»ä¸­å¿ƒæ‰€å¯¹åº”çš„ç±»ä¸­ï¼›</li><li>é’ˆå¯¹æ¯ä¸ªç±»åˆ« <spanclass="math inline">\(a_j\)</span>ï¼Œé‡æ–°è®¡ç®—å®ƒçš„èšç±»ä¸­å¿ƒ<spanclass="math inline">\(a_{j}=\frac{1}{|c_{i}|}\sum\limits_{x\inc_{i}}x\)</span>ï¼ˆå³å±äºè¯¥ç±»çš„æ‰€æœ‰æ ·æœ¬çš„è´¨å¿ƒï¼‰;</li><li>é‡å¤ä¸Šé¢ 2 3ä¸¤æ­¥æ“ä½œï¼Œç›´åˆ°è¾¾åˆ°æŸä¸ªä¸­æ­¢æ¡ä»¶ï¼ˆè¿­ä»£æ¬¡æ•°ã€æœ€å°è¯¯å·®å˜åŒ–ç­‰ï¼‰ã€‚</li></ol><h3 id="é«˜æ–¯æ··åˆæ¨¡å‹gmm">é«˜æ–¯æ··åˆæ¨¡å‹ï¼ˆGMMï¼‰</h3><p>é«˜æ–¯æ··åˆæ¨¡å‹ï¼ˆGaussian MixedModelï¼‰æŒ‡çš„æ˜¯å¤šä¸ªé«˜æ–¯åˆ†å¸ƒå‡½æ•°çš„çº¿æ€§ç»„åˆï¼Œç†è®ºä¸ŠGMMå¯ä»¥æ‹Ÿåˆå‡ºä»»æ„ç±»å‹çš„åˆ†å¸ƒï¼Œé€šå¸¸ç”¨äºè§£å†³åŒä¸€é›†åˆä¸‹çš„æ•°æ®åŒ…å«å¤šä¸ªä¸åŒçš„åˆ†å¸ƒçš„æƒ…å†µï¼ˆæˆ–è€…æ˜¯åŒä¸€ç±»åˆ†å¸ƒä½†å‚æ•°ä¸ä¸€æ ·ï¼Œæˆ–è€…æ˜¯ä¸åŒç±»å‹çš„åˆ†å¸ƒï¼Œæ¯”å¦‚æ­£æ€åˆ†å¸ƒå’Œä¼¯åŠªåˆ©åˆ†å¸ƒï¼‰ã€‚</p><!-- ![](/img/æœºå™¨å­¦ä¹ /æœŸæœ«å¤ä¹ /GMM.jpg) --><p><span class="math display">\[p(\alpha)=\sum_{k=1}^{K}\pi_{k}\mathcal{N}(x \mid\mu_{k},\Sigma_{k})\]</span></p><p>å…¶ä¸­<span class="math inline">\(\mathcal{N}(x\mid\mu_{k},\Sigma_{k})\)</span>ç§°ä¸ºæ··åˆæ¨¡å‹ä¸­çš„ç¬¬<spanclass="math inline">\(k\)</span>ä¸ªåˆ†é‡ï¼ˆcomponentï¼‰ã€‚æ··åˆç³»æ•°<spanclass="math inline">\(\pi_k\)</span>æ»¡è¶³<spanclass="math inline">\(\sum\limits^{K}_{k=1}\pi_k =1 \quad0\le \pi \le1\)</span>ã€‚å¯ä»¥è®¤ä¸º<spanclass="math inline">\(\pi_k\)</span>å°±æ˜¯æ¯ä¸ªåˆ†é‡<spanclass="math inline">\(\mathcal{N}(x | \mu_k,\Sigma_k)\)</span>çš„æƒé‡ã€‚</p><h3 id="emç®—æ³•">EMç®—æ³•</h3><p>EM ç®—æ³•ï¼Œå…¨ç§° Expectation MaximizationAlgorithmã€‚æœŸæœ›æœ€å¤§ç®—æ³•æ˜¯ä¸€ç§è¿­ä»£ç®—æ³•ï¼Œç”¨äºå«æœ‰éšå˜é‡ï¼ˆHiddenVariableï¼‰çš„æ¦‚ç‡å‚æ•°æ¨¡å‹çš„æœ€å¤§ä¼¼ç„¶ä¼°è®¡æˆ–æå¤§åéªŒæ¦‚ç‡ä¼°è®¡ã€‚</p><h4 id="emç®—æ³•æ€æƒ³">EMç®—æ³•æ€æƒ³</h4><p>EM ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³éå¸¸ç®€å•ï¼Œåˆ†ä¸ºä¸¤æ­¥ï¼šExpection-Step å’ŒMaximization-Stepã€‚</p><ul><li>E-Stepä¸»è¦é€šè¿‡è§‚å¯Ÿæ•°æ®å’Œç°æœ‰æ¨¡å‹æ¥ä¼°è®¡å‚æ•°ï¼Œç„¶åç”¨è¿™ä¸ªä¼°è®¡çš„å‚æ•°å€¼æ¥è®¡ç®—ä¼¼ç„¶å‡½æ•°çš„æœŸæœ›å€¼ï¼›</li><li>è€Œ M-Stepæ˜¯å¯»æ‰¾ä¼¼ç„¶å‡½æ•°æœ€å¤§åŒ–æ—¶å¯¹åº”çš„å‚æ•°ã€‚ç”±äºç®—æ³•ä¼šä¿è¯åœ¨æ¯æ¬¡è¿­ä»£ä¹‹åä¼¼ç„¶å‡½æ•°éƒ½ä¼šå¢åŠ ï¼Œæ‰€ä»¥å‡½æ•°æœ€ç»ˆä¼šæ”¶æ•›ã€‚</li></ul><p>EMç®—æ³•ä¾‹å­çš„æ‰§è¡Œè¿‡ç¨‹<ahref="https://www.jianshu.com/p/1121509ac1dc">å¦‚ä½•æ„Ÿæ€§åœ°ç†è§£EMç®—æ³•ï¼Ÿ</a></p><p>äº‹å®ä¸Šéšå˜é‡ä¼°è®¡ä¹Ÿå¯ä»¥é€šè¿‡æ¢¯åº¦ä¸‹é™ç­‰ä¼˜åŒ–æ–¹æ³•æ±‚è§£ï¼Œä½†ç”±äºæ±‚å’Œçš„é¡¹æ•°å°†éšç€éšå˜é‡çš„æ•°ç›®ä»¥æŒ‡æ•°çº§åˆ«ä¸Šå‡ï¼Œä¼šç»™æ¢¯åº¦è®¡ç®—å¸¦æ¥éº»çƒ¦ï¼›è€ŒEMç®—æ³•å¯ä»¥çœ‹ä½œä¸€ç§éæ¢¯åº¦ä¼˜åŒ–æ–¹æ³•ã€‚</p><h2 id="ç¬¬å…«ç« -é«˜æ–¯è¿‡ç¨‹">ç¬¬å…«ç«  é«˜æ–¯è¿‡ç¨‹</h2><p>é«˜æ–¯è¿‡ç¨‹ Gaussian Processesæ˜¯æ¦‚ç‡è®ºå’Œæ•°ç†ç»Ÿè®¡ä¸­éšæœºè¿‡ç¨‹çš„ä¸€ç§ï¼Œæ˜¯å¤šå…ƒé«˜æ–¯åˆ†å¸ƒçš„æ‰©å±•ï¼Œè¢«åº”ç”¨äºæœºå™¨å­¦ä¹ ã€ä¿¡å·å¤„ç†ç­‰é¢†åŸŸã€‚æœ¬æ–‡å¯¹é«˜æ–¯è¿‡ç¨‹è¿›è¡Œå…¬å¼æ¨å¯¼ã€åŸç†é˜è¿°ã€å¯è§†åŒ–ä»¥åŠä»£ç å®ç°ï¼Œä»‹ç»äº†ä»¥é«˜æ–¯è¿‡ç¨‹ä¸ºåŸºç¡€çš„é«˜æ–¯è¿‡ç¨‹å›å½’Gaussian Process Regression åŸºæœ¬åŸç†ã€è¶…å‚ä¼˜åŒ–ã€é«˜ç»´è¾“å…¥ç­‰é—®é¢˜ã€‚</p><p><a href="https://zhuanlan.zhihu.com/p/75589452">é«˜æ–¯è¿‡ç¨‹ GaussianProcesses åŸç†ã€å¯è§†åŒ–åŠä»£ç å®ç°</a></p><h2 id="ç¬¬ä¹ç« -é›†æˆå­¦ä¹ ">ç¬¬ä¹ç«  é›†æˆå­¦ä¹ </h2><h3 id="bagging">Bagging</h3><p>Baggingï¼ˆè£…è¢‹ç®—æ³•ï¼‰çš„é›†æˆå­¦ä¹ æ–¹æ³•éå¸¸ç®€å•ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ•°æ®é›†<spanclass="math inline">\(D\)</span>ï¼Œä½¿ç”¨Bootstrapsampleï¼ˆæœ‰æ”¾å›çš„éšæœºé‡‡æ ·ï¼Œè¿™é‡Œè¯´æ˜ä¸€ä¸‹ï¼Œæœ‰æ”¾å›æŠ½æ ·æ˜¯æŠ½ä¸€ä¸ªå°±æ”¾å›ä¸€ä¸ªï¼Œç„¶åå†æŠ½ï¼Œè€Œä¸æ˜¯è¿™ä¸ªäººæŠ½<spanclass="math inline">\(10\)</span>ä¸ªï¼Œå†æ”¾å›ï¼Œä¸‹ä¸€ä¸ªç»§ç»­æŠ½ï¼Œå®ƒæ˜¯æ¯ä¸€ä¸ªæ ·æœ¬è¢«æŠ½ä¸­æ¦‚ç‡ç¬¦åˆå‡åŒ€åˆ†å¸ƒï¼‰çš„æ–¹æ³•å–äº†<spanclass="math inline">\(k\)</span>ä¸ªæ•°æ®å­é›†ï¼ˆå­é›†æ ·æœ¬æ•°éƒ½ç›¸ç­‰ï¼‰ï¼š<spanclass="math inline">\(D_1ï¼ŒD_2ï¼Œâ€¦ï¼ŒD_k\)</span>ï¼Œä½œä¸ºæ–°çš„è®­ç»ƒé›†ï¼Œæˆ‘ä»¬ä½¿ç”¨è¿™<spanclass="math inline">\(k\)</span>ä¸ªå­é›†åˆ†åˆ«è®­ç»ƒä¸€ä¸ªåˆ†ç±»å™¨ï¼ˆä½¿ç”¨åˆ†ç±»ã€å›å½’ç­‰ç®—æ³•ï¼‰ï¼Œæœ€åä¼šå¾—åˆ°<spanclass="math inline">\(k\)</span>ä¸ªåˆ†ç±»æ¨¡å‹ã€‚æˆ‘ä»¬å°†æµ‹è¯•æ•°æ®è¾“å…¥åˆ°è¿™<spanclass="math inline">\(k\)</span>ä¸ªåˆ†ç±»å™¨ï¼Œä¼šå¾—åˆ°<spanclass="math inline">\(k\)</span>ä¸ªåˆ†ç±»ç»“æœï¼Œæ¯”å¦‚åˆ†ç±»ç»“æœæ˜¯<spanclass="math inline">\(0\)</span>å’Œ<spanclass="math inline">\(1\)</span>ï¼Œé‚£ä¹ˆè¿™<spanclass="math inline">\(k\)</span>ä¸ªç»“æœä¸­è°å æ¯”æœ€å¤šï¼Œé‚£ä¹ˆé¢„æµ‹ç»“æœå°±æ˜¯è°ã€‚</p><p><strong>ç®—æ³•æµç¨‹</strong>ï¼š</p><ul><li>ä»åŸå§‹æ ·æœ¬é›†ä¸­æŠ½å–è®­ç»ƒé›†ã€‚æ¯è½®ä»åŸå§‹æ ·æœ¬é›†ä¸­ä½¿ç”¨Bootstrapingçš„æ–¹æ³•æŠ½å–nä¸ªè®­ç»ƒæ ·æœ¬ï¼ˆåœ¨è®­ç»ƒé›†ä¸­ï¼Œæœ‰äº›æ ·æœ¬å¯èƒ½è¢«å¤šæ¬¡æŠ½å–åˆ°ï¼Œè€Œæœ‰äº›æ ·æœ¬å¯èƒ½ä¸€æ¬¡éƒ½æ²¡æœ‰è¢«æŠ½ä¸­ï¼‰ã€‚å…±è¿›è¡Œkè½®æŠ½å–ï¼Œå¾—åˆ°kä¸ªè®­ç»ƒé›†ã€‚ï¼ˆkä¸ªè®­ç»ƒé›†ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼‰</li><li>æ¯æ¬¡ä½¿ç”¨ä¸€ä¸ªè®­ç»ƒé›†å¾—åˆ°ä¸€ä¸ªæ¨¡å‹ï¼Œkä¸ªè®­ç»ƒé›†å…±å¾—åˆ°kä¸ªæ¨¡å‹ã€‚ï¼ˆæ³¨ï¼šè¿™é‡Œå¹¶æ²¡æœ‰å…·ä½“çš„åˆ†ç±»ç®—æ³•æˆ–å›å½’æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®å…·ä½“é—®é¢˜é‡‡ç”¨ä¸åŒçš„åˆ†ç±»æˆ–å›å½’æ–¹æ³•ï¼Œå¦‚å†³ç­–æ ‘ã€æ„ŸçŸ¥æœºç­‰ï¼‰</li><li>å¯¹åˆ†ç±»é—®é¢˜ï¼šå°†ä¸Šæ­¥å¾—åˆ°çš„kä¸ªæ¨¡å‹é‡‡ç”¨æŠ•ç¥¨çš„æ–¹å¼å¾—åˆ°åˆ†ç±»ç»“æœï¼›å¯¹å›å½’é—®é¢˜ï¼Œè®¡ç®—ä¸Šè¿°æ¨¡å‹çš„å‡å€¼ä½œä¸ºæœ€åçš„ç»“æœã€‚ï¼ˆæ‰€æœ‰æ¨¡å‹çš„é‡è¦æ€§ç›¸åŒï¼‰</li></ul><p><strong>ç‰¹ç‚¹</strong>ï¼š</p><ul><li>å…³äºbaggingæ‰€é‡‡ç”¨çš„æŠ½æ ·æ–¹å¼ä¸ºæœ‰æ”¾å›æŠ½æ ·ï¼ŒæŠ½æ ·çš„æ ·æœ¬æ•°é‡ç­‰äºæ€»ä½“æ ·æœ¬æ•°é‡ï¼›</li><li>ç”±äºæŸäº›æ ·æœ¬åœ¨æœ‰æ”¾å›çš„æƒ…å†µä¸‹ä¸æ­¢è¢«æŠ½åˆ°ä¸€æ¬¡ï¼Œæœ‰äº›æ ·æœ¬ä¸€æ¬¡ä¹Ÿä¸ä¼šè¢«æŠ½åˆ°ï¼›</li><li>å¯ä»¥å¹¶è¡Œäº§ç”Ÿæ‰€éœ€è¦çš„æ ·æœ¬å­é›†ä¸ªæ•°ä»¥åŠå¹¶è¡Œè®­ç»ƒå­æ¨¡å‹</li><li>å¯¹äºäºŒåˆ†ç±»é—®é¢˜ï¼Œä¸€èˆ¬é€‰å–æ ·æœ¬å­é›†ä¸ªæ•°ä¸ºå¥‡æ•°ï¼ˆé¿å…å‡ºç°ä¸¤ä¸ªç±»åˆ«æŠ•ç¥¨æ•°ç›¸åŒï¼‰</li></ul><h3 id="adaboost">AdaBoost</h3><p><strong>Boosting</strong>æŒ‡çš„æ˜¯ä¸€ç±»é›†æˆæ–¹æ³•ï¼Œå…¶ä¸»è¦æ€æƒ³å°±æ˜¯å°†å¼±çš„åŸºå­¦ä¹ å™¨æå‡(boost)ä¸ºå¼ºå­¦ä¹ å™¨ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹:</p><ol type="1"><li>å…ˆç”¨æ¯ä¸ªæ ·æœ¬æƒé‡ç›¸ç­‰çš„è®­ç»ƒé›†è®­ç»ƒä¸€ä¸ªåˆå§‹çš„åŸºå­¦ä¹ å™¨ï¼›</li><li>æ ¹æ®ä¸Šè½®å¾—åˆ°çš„å­¦ä¹ å™¨å¯¹è®­ç»ƒé›†çš„é¢„æµ‹è¡¨ç°æƒ…å†µè°ƒæ•´è®­ç»ƒé›†ä¸­çš„æ ·æœ¬æƒé‡(ä¾‹å¦‚æé«˜è¢«é”™åˆ†ç±»çš„æ ·æœ¬çš„æƒé‡ä½¿ä¹‹åœ¨ä¸‹è½®è®­ç»ƒä¸­å¾—åˆ°æ›´å¤šçš„å…³æ³¨),ç„¶åæ®æ­¤è®­ç»ƒä¸€ä¸ªæ–°çš„åŸºå­¦ä¹ å™¨ï¼›</li><li>é‡å¤2ç›´åˆ°å¾—åˆ°<spanclass="math inline">\(M\)</span>ä¸ªåŸºå­¦ä¹ å™¨ï¼Œæœ€ç»ˆçš„é›†æˆç»“æœæ˜¯<spanclass="math inline">\(M\)</span>ä¸ªåŸºå­¦ä¹ å™¨çš„ç»„åˆã€‚</li></ol><p><strong>Boostingç®—æ³•ç°‡ä¸­æœ€è‘—åçš„å°±æ˜¯AdaBoost</strong>ã€‚</p><h4 id="åŸºæœ¬æ€æƒ³">åŸºæœ¬æ€æƒ³</h4><p>å¯¹äºä¸Šè¿°çš„Boostingç®—æ³•æ­¥éª¤ï¼Œéœ€è¦å›ç­”ä¸¤ä¸ªé—®é¢˜:</p><ol type="1"><li>å¦‚ä½•è°ƒæ•´æ¯ä¸€è½®çš„è®­ç»ƒé›†ä¸­çš„æ ·æœ¬æƒé‡ï¼Ÿ</li><li>å¦‚ä½•å°†å¾—åˆ°çš„[å…¬å¼]ä¸ªç»„åˆæˆæœ€ç»ˆçš„å­¦ä¹ å™¨ï¼Ÿ</li></ol><p>AdaBoost(Adaptive Boosting, è‡ªé€‚åº”å¢å¼º)ç®—æ³•é‡‡å–çš„æ–¹æ³•æ˜¯:</p><ol type="1"><li><strong>æé«˜ä¸Šä¸€è½®è¢«é”™è¯¯åˆ†ç±»çš„æ ·æœ¬çš„æƒå€¼ï¼Œé™ä½è¢«æ­£ç¡®åˆ†ç±»çš„æ ·æœ¬çš„æƒå€¼</strong>ï¼›</li><li><strong>çº¿æ€§åŠ æƒæ±‚å’Œ</strong>ã€‚è¯¯å·®ç‡å°çš„åŸºå­¦ä¹ å™¨æ‹¥æœ‰è¾ƒå¤§çš„æƒå€¼ï¼Œè¯¯å·®ç‡å¤§çš„åŸºå­¦ä¹ å™¨æ‹¥æœ‰è¾ƒå°çš„æƒå€¼ã€‚</li></ol><p>AdaBoostç®—æ³•çš„æµç¨‹å¦‚ä¸‹ï¼š</p><p>è¾“å…¥ï¼šè®­ç»ƒæ•°æ®é›†<spanclass="math inline">\(T={(x1,y1),(x2,y2),(xN,yN)}\)</span>ï¼Œå…¶ä¸­ï¼Œ<spanclass="math inline">\(xiâˆˆXâŠ†R^n\)</span>ï¼Œ<spanclass="math inline">\(yiâˆˆY=âˆ’1,1\)</span>ï¼Œè¿­ä»£æ¬¡æ•°<spanclass="math inline">\(M\)</span></p><ol type="1"><li><p>åˆå§‹åŒ–è®­ç»ƒæ ·æœ¬çš„æƒå€¼åˆ†å¸ƒ: <spanclass="math display">\[D_1=(w_{1,1},w_{1,2},â€¦,w_{1,i}),w_{1,i}=\frac{1}{N},i=1,2,â€¦,N\]</span></p></li><li><p>å¯¹äº<span class="math inline">\(m=1,2,â€¦,M\)</span></p><ol type="1"><li><p>ä½¿ç”¨å…·æœ‰æƒå€¼åˆ†å¸ƒ<spanclass="math inline">\(D_m\)</span>çš„è®­ç»ƒæ•°æ®é›†è¿›è¡Œå­¦ä¹ ï¼Œå¾—åˆ°å¼±åˆ†ç±»å™¨<spanclass="math inline">\(Gm(x)\)</span></p></li><li><p>è®¡ç®—<spanclass="math inline">\(Gm(x)\)</span>åœ¨è®­ç»ƒæ•°æ®é›†ä¸Šçš„åˆ†ç±»è¯¯å·®ç‡: <spanclass="math display">\[e_m=\sum_{i=1}^Nw_{m,i}  I(G_m (x_i )â‰ y_i)\]</span></p></li><li><p>è®¡ç®—<spanclass="math inline">\(Gm(x)\)</span>åœ¨å¼ºåˆ†ç±»å™¨ä¸­æ‰€å çš„æƒé‡ï¼š <spanclass="math display">\[Î±_m=\frac{1}{2}log\frac{1-e_m}{e_m}\]</span></p></li><li><p>æ›´æ–°è®­ç»ƒæ•°æ®é›†çš„æƒå€¼åˆ†å¸ƒï¼ˆè¿™é‡Œï¼Œ<spanclass="math inline">\(z_m\)</span>æ˜¯å½’ä¸€åŒ–å› å­ï¼Œä¸ºäº†ä½¿æ ·æœ¬çš„æ¦‚ç‡åˆ†å¸ƒå’Œä¸º<spanclass="math inline">\(1\)</span>ï¼‰ï¼š</p></li></ol><p><span class="math display">\[w_{m+1,i}=\frac{w_{m,i}}{z_m}expâ¡(-Î±_my_i G_m (x_i ))ï¼Œi=1,2,â€¦,10\]</span></p><p><span class="math display">\[z_m=\sum_{i=1}^Nw_{m,i}expâ¡(-Î±_m y_i G_m(x_i ))\]</span></p></li><li><p>å¾—åˆ°æœ€ç»ˆåˆ†ç±»å™¨:</p><p><span class="math display">\[F(x)=sign(\sum_{i=1}^NÎ±_m G_m(x))\]</span></p></li></ol><h3 id="baggingå’Œboostingçš„åŒºåˆ«">Baggingå’ŒBoostingçš„åŒºåˆ«</h3><ol type="1"><li>æ ·æœ¬é€‰æ‹©ä¸Š</li></ol><p>Baggingï¼šè®­ç»ƒé›†æ˜¯åœ¨åŸå§‹é›†ä¸­æœ‰æ”¾å›é€‰å–çš„ï¼Œä»åŸå§‹é›†ä¸­é€‰å‡ºçš„å„è½®è®­ç»ƒé›†ä¹‹é—´æ˜¯ç‹¬ç«‹çš„ã€‚</p><p>Boostingï¼šæ¯ä¸€è½®çš„è®­ç»ƒé›†ä¸å˜ï¼Œåªæ˜¯è®­ç»ƒé›†ä¸­æ¯ä¸ªæ ·ä¾‹åœ¨åˆ†ç±»å™¨ä¸­çš„æƒé‡å‘ç”Ÿå˜åŒ–ã€‚è€Œæƒå€¼æ˜¯æ ¹æ®ä¸Šä¸€è½®çš„åˆ†ç±»ç»“æœè¿›è¡Œè°ƒæ•´ã€‚</p><ol start="2" type="1"><li>æ ·ä¾‹æƒé‡</li></ol><p>Baggingï¼šä½¿ç”¨å‡åŒ€å–æ ·ï¼Œæ¯ä¸ªæ ·ä¾‹çš„æƒé‡ç›¸ç­‰</p><p>Boostingï¼šæ ¹æ®é”™è¯¯ç‡ä¸æ–­è°ƒæ•´æ ·ä¾‹çš„æƒå€¼ï¼Œé”™è¯¯ç‡è¶Šå¤§åˆ™æƒé‡è¶Šå¤§ã€‚</p><ol start="3" type="1"><li>é¢„æµ‹å‡½æ•°</li></ol><p>Baggingï¼šæ‰€æœ‰é¢„æµ‹å‡½æ•°çš„æƒé‡ç›¸ç­‰ã€‚</p><p>Boostingï¼šæ¯ä¸ªå¼±åˆ†ç±»å™¨éƒ½æœ‰ç›¸åº”çš„æƒé‡ï¼Œå¯¹äºåˆ†ç±»è¯¯å·®å°çš„åˆ†ç±»å™¨ä¼šæœ‰æ›´å¤§çš„æƒé‡ã€‚</p><ol start="4" type="1"><li>å¹¶è¡Œè®¡ç®—</li></ol><p>Baggingï¼šå„ä¸ªé¢„æµ‹å‡½æ•°å¯ä»¥å¹¶è¡Œç”Ÿæˆ</p><p>Boostingï¼šå„ä¸ªé¢„æµ‹å‡½æ•°åªèƒ½é¡ºåºç”Ÿæˆï¼Œå› ä¸ºåä¸€ä¸ªæ¨¡å‹å‚æ•°éœ€è¦å‰ä¸€è½®æ¨¡å‹çš„ç»“æœã€‚</p><h2 id="ç¬¬åç« -åŠç›‘ç£å­¦ä¹ ">ç¬¬åç«  åŠç›‘ç£å­¦ä¹ </h2><h3 id="åŸºäºå›¾çš„åŠç›‘ç£å­¦ä¹ ">åŸºäºå›¾çš„åŠç›‘ç£å­¦ä¹ </h3><h4 id="å›¾çš„æ¦‚å¿µ">å›¾çš„æ¦‚å¿µ</h4><p>æˆ‘ä»¬é¦–å…ˆæ¥çœ‹çœ‹å¦‚ä½•ä»è®­ç»ƒæ•°æ®ä¸­æ„å»ºå‡ºå›¾ï¼Œç»™å®šåŠç›‘ç£æ•°æ®é›†<spanclass="math inline">\(\{(ğ‘¥_ğ‘–,ğ‘¦_ğ‘– )\}_{ğ‘–=1}^ğ‘™\)</span>å’Œ<spanclass="math inline">\(\{ğ‘¥_ğ‘—\}_{ğ‘—=ğ‘™+1}^{ğ‘™+ğ‘¢}\)</span>ï¼Œæ¯ä¸ªæ•°æ®æ ·æœ¬ï¼ˆæœ‰æ ‡ç­¾&amp;æ— æ ‡ç­¾ï¼‰æ˜¯å›¾ä¸Šçš„ä¸€ä¸ªé¡¶ç‚¹ï¼Œæ˜¾ç„¶ï¼Œå›¾ä¼šéå¸¸å¤§ï¼Œå› ä¸ºæ— æ ‡ç­¾æ•°æ®å¾ˆå¤šï¼Œä¸€æ—¦å›¾æ„å»ºå®Œæˆï¼Œå­¦ä¹ çš„è¿‡ç¨‹å°±åŒ…æ‹¬ç»™å›¾ä¸­çš„æ¯ä¸€ä¸ªå®šç‚¹è®¾ç½®æ ‡ç­¾yå€¼ã€‚åœ¨å›¾ä¸­å¯ä»¥é€šè¿‡è¾¹å°†æœ‰æ ‡ç­¾å’Œæ— æ ‡ç­¾æ•°æ®ç‚¹ç›¸è¿ï¼Œè¾¹é€šå¸¸æ˜¯æ— å‘çš„ï¼Œè¡¨ç¤ºçš„æ˜¯ä¸¤ä¸ªèŠ‚ç‚¹ï¼ˆæ ·æœ¬ï¼‰ä¹‹é—´çš„ç›¸ä¼¼æ€§ã€‚å°†è¾¹æƒé‡è®°ä½œ<spanclass="math inline">\(w_{ij}\)</span>ï¼Œ<spanclass="math inline">\(w_{ij}\)</span>è¶Šå¤§ï¼Œ<spanclass="math inline">\(x_i\)</span>å’Œ<spanclass="math inline">\(x_j\)</span>è¶Šç›¸ä¼¼ï¼Œä¸¤è€…çš„æ ‡ç­¾è¶Šå¯èƒ½ç›¸åŒã€‚æ‰€ä»¥è¾¹æƒé‡éå¸¸é‡è¦ï¼Œäººä»¬å¸¸å¸¸å°†è¾¹çš„æƒå€¼å®šä¹‰ä¸ºå¦‚ä¸‹å½¢å¼ï¼š</p><ul><li>å…¨è¿æ¥å›¾ï¼š</li></ul><p>æ¯ä¸€å¯¹å®šç‚¹ä¹‹é—´éƒ½æœ‰è¾¹ç›¸è¿ï¼Œè¾¹çš„æƒé‡éšæ¬§å¼è·ç¦»<spanclass="math inline">\(||x_i-x_j||\)</span>çš„å¢åŠ è€Œé™ä½ï¼Œå¸¸ç”¨çš„æƒé‡æ–¹ç¨‹å¦‚ä¸‹ï¼š</p><p><span class="math display">\[w_{ij}=\exp(-\frac{||x_i-x_j||^2}{2\sigma^2})\]</span></p><p><spanclass="math inline">\(Ïƒ\)</span>å«åšå¸¦å®½å‚æ•°ç”¨æ¥æ§åˆ¶æƒé‡è¡°å‡çš„é€Ÿåº¦ã€‚è¿™ä¸ªæƒé‡æ–¹ç¨‹å’Œé«˜æ–¯æ–¹ç¨‹çš„å½¢å¼ç›¸åŒï¼Œä¹Ÿå«åšé«˜æ–¯æ ¸æˆ–è€…å¾„å‘åŸºå‡½æ•°ï¼›</p><ul><li>KNNå›¾ï¼š</li></ul><p>æ¯ä¸€ä¸ªå®šç‚¹å®šä¹‰å®ƒçš„æ¬§å¼è·ç¦»ä¸Šçš„æœ€è¿‘é‚»ï¼Œæ³¨æ„ï¼Œå¦‚æœ<spanclass="math inline">\(x_i\)</span>åœ¨<spanclass="math inline">\(x_j\)</span>çš„<spanclass="math inline">\(k\)</span>è¿‘é‚»å†…ï¼Œ<spanclass="math inline">\(x_j\)</span>ä¸ä¸€å®šåœ¨<spanclass="math inline">\(x_i\)</span>çš„<spanclass="math inline">\(k\)</span>è¿‘é‚»å†…ï¼Œå¦‚æœ<spanclass="math inline">\(x_i\)</span>,<spanclass="math inline">\(x_j\)</span>ä¸­æœ‰ä¸€ä¸ªåœ¨å¯¹æ–¹çš„<spanclass="math inline">\(k\)</span>è¿‘é‚»å†…æˆ‘ä»¬å°±ç”¨è¾¹å°†å®ƒä»¬è¿æ¥ï¼Œè¿™å°±æ„å‘³ç€ä¸€ä¸ªå®šç‚¹å¯èƒ½ä¼šæœ‰è¶…è¿‡<spanclass="math inline">\(k\)</span>æ¡è¾¹ï¼Œå¦‚æœ<spanclass="math inline">\(x_i,x_j\)</span>æœ‰è¾¹ç›¸è¿ï¼Œè¾¹çš„æƒé‡<spanclass="math inline">\(w_{ij}\)</span>å°±æ˜¯<spanclass="math inline">\(1\)</span>ï¼Œå¦åˆ™ä¸º<spanclass="math inline">\(0\)</span>ã€‚KNNå›¾å¯ä»¥è‡ªé€‚åº”åœ°é€‚åº”æ ·æœ¬åœ¨ç‰¹å¾ç©ºé—´çš„å¯†åº¦ï¼ˆå¯†é›†åŒºKNNèŒƒå›´çš„åŠå¾„å°ï¼‰ï¼›</p><ul><li><span class="math inline">\(Îµ\)</span>NNå›¾ï¼š</li></ul><p>å°†è·ç¦»å°äº<span class="math inline">\(Îµ\)</span>çš„é¡¶ç‚¹è¿ä¸€æ¡è¾¹ã€‚</p><h4 id="mincut">MINCUT</h4><p>æˆ‘ä»¬å°†å¸¦æœ‰æ­£æ ‡ç­¾çš„æ ·æœ¬ä½œä¸ºæºç‚¹ï¼ˆå°±å¥½åƒæµä»è¿™é‡Œå‡ºå‘æµç»è¾¹ï¼‰ï¼Œç›¸ä¼¼çš„ï¼Œè´Ÿæ ‡ç­¾æ ·æœ¬ä½œä¸ºç»ˆç‚¹ï¼ˆæµæ¶ˆå¤±çš„ç‚¹ï¼‰ï¼Œç›®æ ‡æ˜¯æ‰¾åˆ°ä¸€ä¸ªæœ€å°çš„è¾¹é›†ï¼Œä½¿å¾—åˆ é™¤è¿™äº›è¾¹å¯ä»¥é˜»æ­¢æ‰€æœ‰ä»æºç‚¹åˆ°ç»ˆç‚¹çš„æµï¼Œæˆ‘ä»¬å®šä¹‰è¿™æ ·çš„ä¸€ç»„è¾¹é›†å«åšâ€œcutâ€ï¼Œå‰²çš„å¤§å°ç”¨è¿™äº›è¾¹çš„æƒé‡å’Œæ¥å®šä¹‰ã€‚ä¸€æ—¦å›¾è¢«â€œå‰²â€å¼€ï¼Œä¸æºç‚¹ç›¸è¿çš„ç‚¹éƒ½è¢«æ ‡è®°ä¸ºæ­£ï¼Œåä¹‹ä¸ºè´Ÿã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬æƒ³è¦æ‰¾åˆ°è¿™æ ·çš„ä¸€ä¸ªä½œç”¨åœ¨é¡¶ç‚¹ä¸Šçš„å‡½æ•°<spanclass="math inline">\(f(x)\in\{0,1\}\)</span>ç”¨æ¥æ ‡è®°xçš„æ ‡ç­¾ï¼Œä½¿å¾—å¯¹äºæœ‰æ ‡ç­¾æ ·æœ¬æ¥è¯´<spanclass="math inline">\(f(x_i)=y_i\)</span>ï¼Œè€Œä¸”cutæœ€å°:</p><p><span class="math display">\[\sum_{i,j\geq f(x_{i})\neq f(x_{j})}w_{ij}\]</span></p><p>æˆ‘ä»¬å°†æœ€å°å‰²é—®é¢˜å½¢å¼åŒ–ä¸ºæ­£åˆ™åŒ–é£é™©æœ€å°åŒ–é—®é¢˜ï¼ˆåˆé€‚çš„æŸå¤±å‡½æ•°å’Œæ­£åˆ™åŒ–å™¨ï¼‰ã€‚å¯¹ä»»ä½•æœ‰æ ‡ç­¾çš„é¡¶ç‚¹<spanclass="math inline">\(x_i\)</span>ï¼Œ<spanclass="math inline">\(f(x_i)\)</span>å°±æ˜¯<spanclass="math inline">\(x_i\)</span>å¯¹åº”çš„æ ‡ç­¾<spanclass="math inline">\(y_i\)</span>ï¼Œå¯ä»¥ç”¨è¿™æ ·ä¸€ä¸ªæŸå¤±å‡½æ•°æ¥è¡¨ç¤ºï¼š<spanclass="math inline">\(c(\mathbf{x},\mathbf{y},f(\mathbf{x}))=\infty\cdot(\mathbf{y}-f(\mathbf{x}))^{2}\)</span>,è€Œæ­£åˆ™åŒ–é¡¹åˆ™å¯¹åº”cutçš„å¤§å°ï¼Œè€ƒè™‘åˆ°æ‰€æœ‰æ— æ ‡ç­¾æ ·æœ¬çš„ç±»åˆ«éè´Ÿå³æ­£ï¼Œcutçš„å¤§å°å¯ä»¥é‡å†™ä¸º<spanclass="math inline">\(\Omega(f)=\sum\limits_{i,\,i=1}^{i=n}w_{ij}(f(\mathbf{x}_{i})-f(\mathbf{x}_{j}))^{2}/4\)</span>ã€‚æ³¨æ„ï¼Œå½“å‰çš„å’Œæ˜¯é’ˆå¯¹æ‰€æœ‰ç‚¹å¯¹çš„ï¼Œå¦‚æœ<spanclass="math inline">\(x_i\)</span>,<spanclass="math inline">\(x_j\)</span>ä¸ç›¸è¿ï¼Œ<spanclass="math inline">\(w_{ij}=0\)</span>ã€‚é‚£ä¹ˆæœ€å°å‰²çš„æ­£åˆ™åŒ–é£é™©æœ€å°åŒ–é—®é¢˜å¯ä»¥å†™ä½œ</p><p><span class="math display">\[\min\limits_{f:f(x) \in \{-1,1\}} \infty\sum_{i=1}^{l}(y_{i}-f(\mathbf{x}_{i}))^{2}+\sum_{i,j=1}^{l+u}w_{ij}(f(\mathbf{x}_{i})-f(\mathbf{x}_{j}))^{2}\]</span></p><p>è¿™æ˜¯ä¸€ä¸ªæ•´æ•°è§„åˆ’é—®é¢˜ï¼Œå› æ­¤ï¼Œæœ€å°å‰²é—®é¢˜å¯ä»¥æœ‰è®¸å¤šå¤šé¡¹å¼æ—¶é—´ç®—æ³•å¯ä»¥è§£å†³ã€‚è¿™ç§å½¢å¼çš„æœ€å°å‰²é—®é¢˜å¯èƒ½å­˜åœ¨å¤šä¸ªæœ€ä¼˜è§£ï¼Œæ¯”å¦‚ä¸‹å›¾æœ‰ä¸¤ä¸ªå¸¦æ ‡ç­¾ç‚¹ä¸€æ­£ä¸€è´Ÿï¼Œæ¯æ¡è¾¹æœ‰ç›¸åŒçš„æƒé‡ï¼Œæœ‰6ç§æœ€å°å‰²è§£å†³æ–¹æ¡ˆï¼ˆç§»é™¤ä»»æ„ä¸€æ¡è¾¹å³å¯ï¼‰ã€‚</p><h4 id="è°ƒå’Œå‡½æ•°harmonic-function">è°ƒå’Œå‡½æ•°ï¼ˆHARMONIC FUNCTIONï¼‰</h4><p>å¯¹äºæœ‰æ ‡ç­¾æ•°æ®ï¼Œè°ƒå’Œå‡½æ•°çš„å€¼ä¸ºæ ‡ç­¾å€¼ï¼›å¯¹äºæ— æ ‡ç­¾æ•°æ®ï¼Œæ ‡ç­¾å€¼æ˜¯å…¶é‚»å±…é¡¶ç‚¹æ ‡ç­¾å€¼çš„æƒé‡å¹³å‡</p><p><span class="math display">\[\begin{array}{r cl}{f(\mathbf{x}_{i})}&amp;{=}&amp;{y_{i},}&amp;{i=1,\cdot\cdot,l}\end{array}\]</span></p><p><span class="math display">\[f(x_j) = \frac{\sum\limits_{k=1}^{l+u}w_{jk}f(x_k)}{\sum\limits_{k=1}^{l+u} w_{jk}}, j =l+1,\cdots,l+u\]</span></p><p>ç„¶åæŠŠå®ƒä»£å…¥ä¸Šé¢æåˆ°è¿‡çš„ç›®æ ‡å‡½æ•°ï¼Œå¹¶æ¾å¼›<spanclass="math inline">\(f\)</span>ä½¿å®ƒçš„å€¼åŸŸä¸ºå®æ•°ï¼š</p><p><span class="math display">\[\min\limits_{f:f(x)\in\mathbb{R}} \infty\sum\limits_{i=1}^{l}(y_{i}-f({\bfx}_{i}))^{2}+\sum\limits_{i=1}^{l+u}w_{i j}(f({\bf x}_{i})-f({\bfx}_{j}))^{2}\]</span></p><p>ç›¸å½“äºæ±‚è§£ï¼š</p><p><spanclass="math display">\[\min\limits_{f:f(x)\in\mathbb{R}}\sum\limits_{i=1}^{l+u}w_{ij}(f({\bf x}_{i})-f({\bf x}_{j}))^{2}\]</span></p><p>å¯¹<span class="math inline">\(f\)</span>è¿›è¡Œæ¾å¼›ä½¿å¾—<spanclass="math inline">\(f\)</span>æœ‰ä¸€ä¸ªé—­å¼è§£ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸Šè¿°ç›®æ ‡æ–¹ç¨‹æœ‰å…¨å±€æœ€ä¼˜è§£ï¼Œç¼ºç‚¹æ˜¯<spanclass="math inline">\(f(x)\)</span>ç°åœ¨æ˜¯ä¸€ä¸ª<spanclass="math inline">\([0,1]\)</span>çš„å®æ•°ï¼Œå¹¶ä¸èƒ½ç›´æ¥ä½œä¸ºä¸€ä¸ªæ ‡ç­¾ã€‚è¿™å¯ä»¥é€šè¿‡è®¾å®šé˜ˆå€¼è¿›è¡Œå¤„ç†ï¼ˆå¦‚ï¼Œè‹¥<spanclass="math inline">\(f(x)&gt;=0.5\)</span>ï¼Œé¢„æµ‹æ ‡ç­¾<spanclass="math inline">\(y=1\)</span>ï¼Œå¦åˆ™ä¸º<spanclass="math inline">\(0\)</span>ï¼‰.</p><p>è°ƒå’Œå‡½æ•°æœ‰è®¸å¤šæœ‰è¶£çš„è§£é‡Šï¼Œæ¯”å¦‚ï¼Œå°†å›¾çœ‹ä½œä¸€å¼ ç”µç½‘ï¼Œæ¯ä¸€æ¡è¾¹çš„ç”µé˜»ä¸º<spanclass="math inline">\(1/w_{ij}\)</span>ï¼Œæœ‰æ ‡ç­¾çš„ç‚¹è¿æ¥åˆ°<spanclass="math inline">\(1v\)</span>çš„ç”µæ± ï¼Œæ­£æ ‡ç­¾é¡¶ç‚¹è¿æ¥ç”µæ± æ­£æï¼Œé›¶æ ‡ç­¾é¡¶ç‚¹è¿æ¥ç”µæ± è´Ÿæï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¸¤ç«¯çš„ç”µå‹å°±æ˜¯è°ƒå’Œå‡½æ•°å€¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/img/æœºå™¨å­¦ä¹ /æœŸæœ«å¤ä¹ /è°ƒå’Œå‡½æ•°ç”µç½‘è§£é‡Š.png" /></p><p>ä¹Ÿå¯ä»¥è§£é‡Šä¸ºå›¾ä¸Šçš„éšæœºæ¸¸èµ°ï¼Œæƒ³è±¡ä¸€ä¸ªç²’å­åœ¨é¡¶ç‚¹<spanclass="math inline">\(i\)</span>ä¸Šï¼Œé‚£ä¹ˆè¿™ä¸ªç²’å­ä¼šéšæœºèµ°åˆ°ä¸‹ä¸€ä¸ªé¡¶ç‚¹<spanclass="math inline">\(j\)</span>çš„æ¦‚ç‡æ˜¯ï¼Œéšæœºæ¸¸èµ°ä»¥è¿™ç§æ–¹å¼ç»§ç»­ï¼Œç›´åˆ°ç²’å­åˆ°è¾¾ä¸€ä¸ªæœ‰æ ‡è®°çš„é¡¶ç‚¹ã€‚é‚£ä¹ˆé¡¶ç‚¹<spanclass="math inline">\(i\)</span>çš„è°ƒå’Œå‡½æ•°å€¼<spanclass="math inline">\(f(x_i)\)</span>å°±æ˜¯ç²’å­ä»<spanclass="math inline">\(i\)</span>é¡¶ç‚¹å‡ºå‘æœ€ç»ˆèµ°åˆ°ä¸€ä¸ªæ­£æ ‡ç­¾çš„é¡¶ç‚¹çš„æ¦‚ç‡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/img/æœºå™¨å­¦ä¹ /æœŸæœ«å¤ä¹ /è°ƒå’Œå‡½æ•°éšæœºæ¸¸èµ°è§£é‡Š.png" /></p><h5 id="è°ƒå’Œå‡½æ•°çš„æ±‚è§£">è°ƒå’Œå‡½æ•°çš„æ±‚è§£</h5><p>æ±‚è§£è°ƒå’Œå‡½æ•°çš„è¿‡ç¨‹æ˜¯è¿­ä»£çš„ï¼Œåˆå§‹çš„ï¼Œæˆ‘ä»¬è®¾å®šï¼šå¯¹äºæœ‰æ ‡ç­¾é¡¶ç‚¹ï¼Œ<spanclass="math inline">\(f(x_i)=y_i\)</span>ï¼Œå¯¹äºæ— æ ‡ç­¾é¡¶ç‚¹ï¼Œ<spanclass="math inline">\(f\)</span>ä¸ºä»»æ„å€¼ã€‚æ¯ä¸€è½®è¿­ä»£éƒ½ç”¨æ— æ ‡ç­¾é¡¶ç‚¹é‚»å±…çš„æƒé‡å¹³å‡æ›´æ–°è¯¥æ— æ ‡ç­¾é¡¶ç‚¹çš„æ ‡ç­¾å€¼ï¼š</p><p><spanclass="math display">\[f(\mathbf{x}_{i})={\frac{\sum\limits_{j=1}^{l+u}w_{ij}f(\mathbf{x}_{j})}{\sum\limits_{j=1}^{l+u}w_{i j}}}\]</span></p><h4 id="åŠç›‘ç£æ”¯æŒå‘é‡æœºs3vmstsvms">åŠç›‘ç£æ”¯æŒå‘é‡æœº(S3VMs/TSVMs)</h4><p>Semi-Supervised Support VectorMachines(S3VMs)æœ€åˆè¢«ç§°ä¸ºç›´æ¨å¼æ”¯æŒå‘é‡æœº(Transductive Support VectorMachines(TSVMs))ï¼Œå› ä¸ºå®ƒçš„ç†è®ºæ˜¯ä¸ºäº†ç»™æ— æ ‡è®°æ ·æœ¬æä¾›æ€§èƒ½ç•Œé™(ç†è®ºä¿è¯)ã€‚ä½†æ˜¯ç”±äºå­¦ä¹ åˆ°çš„å‡½æ•°<spanclass="math inline">\(f\)</span>åº”ç”¨åˆ°äº†æ— æ ‡è®°çš„æ ·æœ¬ä¸­ï¼Œæ‰€ä»¥è¢«ç§°ä¸ºåŠç›‘ç£æ”¯æŒå‘é‡æœºS3VMsã€‚</p><p>å¯¹äºS3VMsçš„ç›´è§‚ç†è§£æ˜¯ä½¿å¾—æœ‰æ ‡è®°å’Œæ— æ ‡è®°æ ·æœ¬å¤„äºé—´éš”è¾¹ç•Œä¹‹å¤–ã€‚ä½†æ˜¯ï¼Œå¯¹äºæ— æ ‡è®°æ ·æœ¬ï¼Œæˆ‘ä»¬æ— æ³•å¾—çŸ¥å…¶æ˜¯å¦å¤„äºå¤„äºæ­£ç¡®çš„åˆ†ç±»ã€‚è¿™é‡Œç»™å‡ºä¸€ç§æ–¹æ³•å°†æ— æ ‡è®°æ ·æœ¬ç”¨åˆ°å­¦ä¹ ä¸­ã€‚</p><p>å¯¹äºæ ·æœ¬<span class="math inline">\(x\)</span>,å®ƒçš„é¢„æµ‹å€¼<spanclass="math inline">\(\hat{y} =sign(f(x))\)</span>ï¼Œå°†è¯¥é¢„æµ‹å€¼å‡å®šä¸ºè¯¥æ ·æœ¬çš„çœŸå®æ ‡ç­¾ï¼Œåˆ™<spanclass="math inline">\(x\)</span>çš„hingeæŸå¤±å‡½æ•°ä¸º</p><p><span class="math display">\[\begin{align}c(x, \hat{y}, f(x)) &amp; = \max(1-\hat{y}(w^Tx+b), 0) \\&amp; = \max(1-sign(w^Tx+b)(w^Tx+b), 0) \\&amp; = \max(1- |w^Tx+b|, 0)\end{align}\]</span></p><p>è¯¥æŸå¤±å‡½æ•°ä¸hingeæŸå¤±çš„ä¸åŒä¹‹å¤„åœ¨äºå®ƒä¸éœ€è¦æ ·æœ¬çœŸå®çš„æ ‡ç­¾ï¼Œè€Œæ˜¯ç”±<spanclass="math inline">\(f(x)\)</span>æ›¿ä»£ã€‚è¯¥æŸå¤±å‡½æ•°ç”±ä¸Šå›¾ä¸­çš„å³å›¾æ‰€ç¤ºã€‚åŸºäºè¯¥æŸå¤±å‡½æ•°çš„å›¾å½¢çš„å½¢çŠ¶ï¼Œå°†å…¶å‘½åä¸ºhatlossã€‚</p><p>è™½ç„¶å‡è®¾é¢„æµ‹çš„åˆ†ç±»ç»“æœéƒ½æ˜¯æ­£ç¡®çš„ï¼Œä½†æ˜¯åŸºäºhatlossï¼Œæœ‰äº›æ ·æœ¬è¿˜æ˜¯ä¼šå­˜åœ¨æƒ©ç½šã€‚å¯¹äº<span class="math inline">\(f(x) \le-1\)</span>æˆ–<span class="math inline">\(f(x) \ge1\)</span>çš„æ ·æœ¬ï¼Œå®ƒä»¬å¤„åœ¨é—´éš”è¾¹ç•Œä¹‹å¤–ï¼Œè¿œç¦»å†³ç­–è¾¹ç•Œï¼Œæ˜¯ä¸å­˜åœ¨æƒ©ç½šçš„ã€‚ä½†æ˜¯å¯¹äº<spanclass="math inline">\(-1 \le f(x) \le 1\)</span>çš„æ ·æœ¬ï¼Œå°¤å…¶æ˜¯<spanclass="math inline">\(f(x) \approx0\)</span>çš„æ ·æœ¬ï¼Œå®ƒä»¬åœ¨å†³ç­–è¾¹ç•Œå†…ï¼Œå¯¹äºé¢„æµ‹å€¼<spanclass="math inline">\(f(x)\)</span>æ˜¯å­˜åœ¨ä¸ç¡®å®šæ€§çš„ï¼Œæ‰€ä»¥å­˜åœ¨æƒ©ç½šã€‚</p><p>å°†æ— æ ‡è®°æ ·æœ¬<spanclass="math inline">\(\{x_j\}_{j=l+1}^{l+u}\)</span>çš„hatlossåŠ åˆ°SVMçš„æŸå¤±å‡½æ•°ä¸­ï¼Œå®šä¹‰S3VMsçš„æŸå¤±å‡½æ•°</p><p><span class="math display">\[\min_{w,b} \sum_{i=1}^{l} \max(1 -y_i(w^Tx_i+b), 0) + \lambda_1 ||w||^2  + \lambda_2\sum_{j=l+1}^{l+u}\max(1 - |w^Tx_i+b|, 0)\]</span></p><p>ç”±ä¸Šå¼å¯ä»¥çœ‹å‡ºï¼ŒS3VMsæ›´å¸Œæœ›æ— æ ‡è®°æ•°æ®èƒ½å¤Ÿåœ¨å†³ç­–è¾¹ç•Œçš„å¤–è¾¹ï¼Œä¹Ÿå°±æ˜¯å†³ç­–è¾¹ç•Œæ›´å¸Œæœ›å‡ºç°åœ¨æ•°æ®çš„ä½å¯†åº¦åŒºåŸŸã€‚æ­¤æ—¶ï¼Œå¯ä»¥å°†hatlossçœ‹åšæ­£åˆ™åŒ–é¡¹</p><p><span class="math display">\[\Omega(f) = \lambda_1 ||w||^2  +\lambda_2\sum_{j=l+1}^{l+u} \max(1 - |w^Tx_i+b|, 0)\]</span></p><p>æ³¨æ„ï¼Œæœ‰äº›æ—¶å€™ï¼Œæ— æ ‡è®°æ•°æ®çš„é¢„æµ‹å€¼åªå­˜åœ¨ä¸€ä¸ªç±»ï¼Œä¹Ÿå°±æ˜¯æ— æ ‡è®°æ•°æ®éƒ½è¢«é¢„æµ‹æˆäº†åŒä¸€ä¸ªç±»ã€‚ä¸ºäº†çº æ­£è¿™ç§ä¸å¹³è¡¡æ€§ï¼Œä¸€ç§ç›´æ¥çš„æƒ³æ³•å°±æ˜¯é™åˆ¶é¢„æµ‹å€¼ä¸­å„ä¸ªç±»çš„æ¯”ä¾‹ã€‚å‡è®¾æ— æ ‡è®°æ•°æ®çš„é¢„æµ‹å€¼ä¸­å„ä¸ªç±»çš„æ¯”ä¾‹ä¸æœ‰æ ‡è®°æ•°æ®ä¸­å„ä¸ªç±»çš„æ¯”ä¾‹ç›¸åŒï¼Œå³</p><p><span class="math display">\[\frac{1}{u}\sum_{j=l+1}^{l+u} \hat{y}_j= \frac{1}{l}\sum_{i=1}^{l} y_i\]</span></p><p>å› ä¸º<span class="math inline">\(\hat{y}_j =sign(f(x_j))\)</span>ä¸æ˜¯ä¸€ä¸ªè¿ç»­å‡½æ•°ï¼Œæ‰€ä»¥å¾ˆéš¾æ»¡è¶³ä¸Šè¿°çº¦æŸæ¡ä»¶ã€‚å› æ­¤æ”¾æ¾è¯¥çº¦æŸæ¡ä»¶ä¸º</p><p><span class="math display">\[\frac{1}{u}\sum_{j=l+1}^{l+u} f(x_j) =\frac{1}{l}\sum_{i=1}^{l} y_i\]</span></p><p>è¯¥çº¦æŸè¢«ç§°ä¸ºç±»åˆ«çš„å¹³è¡¡çº¦æŸã€‚</p><p>æ‰€ä»¥ï¼Œå¸¦ç±»åˆ«å¹³è¡¡çº¦æŸçš„S3VMså¯ä»¥è¡¨ç¤ºä¸º</p><p><span class="math display">\[\begin{align}\min_{w,b}  &amp;  \sum_{i=1}^{l} \max(1 - y_i(w^Tx_i+b), 0) + \lambda_1||w||^2  + \lambda_2\sum_{j=l+1}^{l+u} \max(1 - |w^Tx_i+b|, 0)    \\s.t. &amp; \frac{1}{u}\sum_{j=l+1}^{l+u} f(x_j) =\frac{1}{l}\sum_{i=1}^{l} y_i  \tag{4}\end{align}\]</span></p><p>S3VMsçš„è§£æ˜¯å¾ˆéš¾è®¡ç®—çš„ï¼Œå› ä¸ºå®ƒçš„ç›®æ ‡å‡½æ•°æ˜¯<strong>éå‡¸</strong>çš„ã€‚</p><p>ä¸Šè¿°S3VMséƒ¨åˆ†è½¬è½½è‡ª<ahref="https://blog.csdn.net/extremebingo/article/details/79020907">Semi-SupervisedSupport Vector Machines(S3VMs)</a></p><h2 id="ç¬¬åäºŒç« -å¼ºåŒ–å­¦ä¹ ">ç¬¬åäºŒç«  å¼ºåŒ–å­¦ä¹ </h2><p>å¼ºåŒ–å­¦ä¹ ï¼ˆReinforcement Learning, ç®€ç§°RLï¼‰æ˜¯æœºå™¨å­¦ä¹ çš„èŒƒå¼å’Œæ–¹æ³•è®ºä¹‹ä¸€ï¼Œç”¨äºæè¿°å’Œè§£å†³æ™ºèƒ½ä½“ï¼ˆAgentï¼‰åœ¨ä¸ç¯å¢ƒï¼ˆEnvironmentï¼‰çš„äº¤äº’è¿‡ç¨‹ä¸­é€šè¿‡å­¦ä¹ ç­–ç•¥ï¼ˆPolicyï¼‰ä»¥è¾¾æˆå¥–åŠ±æˆ–å›æŠ¥ï¼ˆRewardï¼‰æœ€å¤§åŒ–æˆ–å®ç°ç‰¹å®šç›®æ ‡çš„é—®é¢˜ã€‚</p><p>å¼ºåŒ–å­¦ä¹ ä¸»è¦æ¶‰åŠ<strong>æ— æ¨¡å‹ï¼ˆModel-Freeï¼‰</strong>å’Œ<strong>æœ‰æ¨¡å‹ï¼ˆModel-basedï¼‰</strong>ä¸¤å¤§ç±»ç®—æ³•ã€‚Model-Freeç®—æ³•å¯åˆ†ä¸º<strong>Q-Learning</strong>å’Œ<strong>åŸºäºç­–ç•¥ä¼˜åŒ–ï¼ˆPolicyOptimizationï¼‰</strong>ä¸¤å¤§ç±»ã€‚Model-basedç®—æ³•å¯åˆ†ä¸º<strong>æ¨¡å‹å­¦ä¹ ï¼ˆLearnthe Modelï¼‰</strong>å’Œ<strong>ç»™å®šæ¨¡å‹ï¼ˆGiven theModelï¼‰</strong>ä¸¤å¤§ç±»ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>æœºå™¨å­¦ä¹ </category>
      
    </categories>
    
    
    <tags>
      
      <tag>æœºå™¨å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>WSL2ä¸‹linux headerçš„å®‰è£…</title>
    <link href="/2023/05/09/WSL2%E4%B8%8Blinux_header%E5%AE%89%E8%A3%85/"/>
    <url>/2023/05/09/WSL2%E4%B8%8Blinux_header%E5%AE%89%E8%A3%85/</url>
    
    <content type="html"><![CDATA[<h1 id="wsl2ä¸‹linux-headerçš„å®‰è£…">WSL2ä¸‹linux headerçš„å®‰è£…</h1><p>æ­£å¸¸çš„linuxå‘è¡Œç‰ˆæ‰§è¡Œ<code>linux-headers-$(uname -r)</code>å‘½ä»¤å°±èƒ½è£…ä¸Šå†…æ ¸å¤´æ–‡ä»¶ï¼Œä½†WSL2ä½œä¸ºä¸€ä¸ªä¸ä¸€èˆ¬çš„linuxå‘è¡Œç‰ˆï¼Œå¹¶æ²¡æœ‰ç›´æ¥ç»™å‡ºå®‰è£…åŒ…ï¼Œè¦æ‰‹åŠ¨å®‰è£…æ‰èƒ½æ­£å¸¸ä½¿ç”¨ã€‚</p><h2 id="å®‰è£…æ­¥éª¤">å®‰è£…æ­¥éª¤</h2><h3 id="ç¡®è®¤kernelç‰ˆæœ¬">ç¡®è®¤Kernelç‰ˆæœ¬</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">uname -r<br></code></pre></td></tr></table></figure><h3 id="å®‰è£…ç›¸åº”ä¾èµ–">å®‰è£…ç›¸åº”ä¾èµ–</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt install libelf-dev build-essential pkg-config<br>sudo apt install bison build-essential flex libssl-dev libelf-dev bc<br></code></pre></td></tr></table></figure><h3 id="ä¸‹è½½ç›¸åº”ç‰ˆæœ¬æºç ">ä¸‹è½½ç›¸åº”ç‰ˆæœ¬æºç </h3><p>ä»<ahref="https://github.com/microsoft/WSL2-Linux-Kernel/releases">https://github.com/microsoft/WSL2-Linux-Kernel/releases</a>ä¸‹è½½åˆšæ‰å¾—åˆ°å¯¹åº”ç‰ˆæœ¬çš„æºç ã€‚</p><h3 id="è§£å‹åˆšä¸‹è½½çš„åŒ…å¹¶ç¼–è¯‘">è§£å‹åˆšä¸‹è½½çš„åŒ…å¹¶ç¼–è¯‘</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">tar -zvxf linux-msft-wsl-5.15.90.1.tar.gz<br>cd WSL2-Linux-Kernel-linux-msft-wsl-5.15.90.1<br>zcat /proc/config.gz &gt; .config<br>sudo make -j $(nproc) <br>sudo make -j $(nproc) modules_install<br></code></pre></td></tr></table></figure><p>å®‰è£…è¿‡ç¨‹ä¸­å‡ºç°ä¸€ä¸‹é”™è¯¯ï¼š</p><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs vbnet"><span class="hljs-symbol">BTF:</span> .tmp_vmlinux.btf: pahole (pahole) <span class="hljs-built_in">is</span> <span class="hljs-built_in">not</span> available<br>Failed <span class="hljs-keyword">to</span> generate BTF <span class="hljs-keyword">for</span> vmlinux<br><span class="hljs-keyword">Try</span> <span class="hljs-keyword">to</span> disable CONFIG_DEBUG_INFO_BTF<br><span class="hljs-symbol">make:</span> *** [Makefile:<span class="hljs-number">1218</span>: vmlinux] <span class="hljs-keyword">Error</span> <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p>åŸå› æ˜¯ç³»ç»Ÿç¼ºå°‘dwarvesè½¯ä»¶åŒ…ï¼Œæ•…æˆ‘ä»¬éœ€è¦å®‰è£…ç›¸åº”çš„è½¯ä»¶åŒ…</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo apt-get install dwarves<br></code></pre></td></tr></table></figure><h3 id="è½¯é“¾æ¥">è½¯é“¾æ¥</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">sudo ln -s ~/Kernel/WSL2-Linux-Kernel-linux-msft-wsl-5.15.90.1 usr/src/linux-<br>headers-5.15.90.1-microsoft-standard-WSL2<br></code></pre></td></tr></table></figure><p>å‚è€ƒï¼š<ahref="https://blog.csdn.net/qq_53928256/article/details/129737658">WSL2ä¸‹kernelheaderçš„å®‰è£…</a></p>]]></content>
    
    
    <categories>
      
      <category>linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pair tuple ä½œä¸º unordered_map unordered_set çš„é”®å€¼</title>
    <link href="/2023/05/06/Cpp-pair%E6%88%96tuple%E4%BD%9C%E4%B8%BA%E5%93%88%E5%B8%8C%E8%A1%A8%E7%9A%84%E9%94%AE%E5%80%BC/"/>
    <url>/2023/05/06/Cpp-pair%E6%88%96tuple%E4%BD%9C%E4%B8%BA%E5%93%88%E5%B8%8C%E8%A1%A8%E7%9A%84%E9%94%AE%E5%80%BC/</url>
    
    <content type="html"><![CDATA[<h1 id="pair-tuple-ä½œä¸º-unordered_map-unordered_set-çš„é”®å€¼">pair tupleä½œä¸º unordered_map unordered_set çš„é”®å€¼</h1><p>C++STLä¸­å¹¶æ²¡æœ‰pairçš„hashç‰¹åŒ–ï¼Œæ‰€ä»¥å¦‚æœæƒ³æŠŠpairå½“ä½œé”®ç”¨åœ¨unordered_mapä¸­çš„è¯ï¼Œå°±éœ€è¦è‡ªå·±å®ç°hashå‡½æ•°ã€‚ç½‘ä¸Šçš„å¤§éƒ¨åˆ†å®ç°çš„hashå‡½æ•°è™½ç„¶å¯ä»¥ç”¨ï¼Œä½†æ˜¯å…¶æ•ˆç‡å…¶å®ç›¸å½“ç³Ÿç³•ï¼Œä»–ä¼šå¯¼è‡´ç¢°æ’ä¸¥é‡ï¼Œä»è€Œæ€§èƒ½ä½ä¸‹ã€‚</p><p>è¿™é‡Œè´´å‡ºä¸€ä¸ªã€ŠC++ æ ‡å‡†åº“ï¼ˆç¬¬äºŒç‰ˆï¼‰ã€‹ä¸­ä½œè€…ç»™å‡ºçš„ç»ä½³æ–¹æ¡ˆï¼Œâ€œ7.9.2Creating and Controlling UnorderedContainerâ€ï¼ŒæŠŠä»»æ„ç»“æ„hashåŒ–çš„ä»£ç æ¬å‡ºæ¥ï¼Œæ¨¡ç‰ˆå¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;functional&gt;</span></span><br><span class="hljs-comment">// from boost (functional/hash):</span><br><span class="hljs-comment">// see http://www.boost.org/doc/libs/1_35_0/doc/html/hash/combine.html template</span><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">hash_combine</span><span class="hljs-params">(std::<span class="hljs-type">size_t</span> &amp;seed, <span class="hljs-type">const</span> T &amp;val)</span> </span><br><span class="hljs-function"></span>&#123;<br>    seed ^= std::<span class="hljs-built_in">hash</span>&lt;T&gt;()(val) + <span class="hljs-number">0x9e3779b9</span> + (seed &lt;&lt; <span class="hljs-number">6</span>) + (seed &gt;&gt; <span class="hljs-number">2</span>);<br>&#125;<br><span class="hljs-comment">// auxiliary generic functions to create a hash value using a seed</span><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt; <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">hash_val</span><span class="hljs-params">(std::<span class="hljs-type">size_t</span> &amp;seed, <span class="hljs-type">const</span> T &amp;val)</span> </span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">hash_combine</span>(seed, val);<br>&#125;<br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span>... Types&gt;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">hash_val</span><span class="hljs-params">(std::<span class="hljs-type">size_t</span> &amp;seed, <span class="hljs-type">const</span> T &amp;val, <span class="hljs-type">const</span> Types &amp;... args)</span> </span>&#123;<br>    <span class="hljs-built_in">hash_combine</span>(seed, val);<br>    <span class="hljs-built_in">hash_val</span>(seed, args...);<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span>... Types&gt;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> std::<span class="hljs-type">size_t</span> <span class="hljs-title">hash_val</span><span class="hljs-params">(<span class="hljs-type">const</span> Types &amp;... args)</span> </span><br><span class="hljs-function"></span>&#123;<br>    std::<span class="hljs-type">size_t</span> seed = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">hash_val</span>(seed, args...);<br>    <span class="hljs-keyword">return</span> seed;<br>&#125;<br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">pair_hash</span> &#123;<br>    <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T1</span>, <span class="hljs-keyword">class</span> <span class="hljs-title class_">T2</span>&gt;<br>    <span class="hljs-function">std::<span class="hljs-type">size_t</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(<span class="hljs-type">const</span> std::pair&lt;T1, T2&gt; &amp;p)</span> <span class="hljs-type">const</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">hash_val</span>(p.first, p.second);<br>    &#125;<br>&#125;;<br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">using</span> ll = <span class="hljs-type">long</span> <span class="hljs-type">long</span>;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    unordered_map&lt;pair&lt;ll, ll&gt;, ll, pair_hash&gt; slopeCount;<br>    unordered_set&lt;pair&lt;ll, ll&gt;, pair_hash&gt; seen;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>tupleç‰ˆæœ¬çš„å®ç°å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;functional&gt;</span></span><br><br><span class="hljs-keyword">namespace</span> hash_tuple &#123;<br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> TT&gt; <span class="hljs-keyword">struct</span> <span class="hljs-title class_">hash</span> &#123;<br>    <span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(TT <span class="hljs-type">const</span> &amp;tt)</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> std::<span class="hljs-built_in">hash</span>&lt;TT&gt;()(tt); &#125;<br>&#125;;<br><br><span class="hljs-comment">// from boost (functional/hash):</span><br><span class="hljs-comment">// see http://www.boost.org/doc/libs/1_35_0/doc/html/hash/combine.html template</span><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt; <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">hash_combine</span><span class="hljs-params">(std::<span class="hljs-type">size_t</span> &amp;seed, T <span class="hljs-type">const</span> &amp;v)</span> </span>&#123;<br>    seed ^= hash_tuple::<span class="hljs-built_in">hash</span>&lt;T&gt;()(v) + <span class="hljs-number">0x9e3779b9</span> + (seed &lt;&lt; <span class="hljs-number">6</span>) + (seed &gt;&gt; <span class="hljs-number">2</span>);<br>&#125;<br><br><span class="hljs-comment">// Recursive template code derived from Matthieu M.</span><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">Tuple</span>, <span class="hljs-type">size_t</span> Index = std::tuple_size&lt;Tuple&gt;::value - <span class="hljs-number">1</span>&gt;<br><span class="hljs-keyword">struct</span> HashValueImpl &#123;<br>    <span class="hljs-type">void</span> <span class="hljs-built_in">operator</span>()(<span class="hljs-type">size_t</span> &amp;seed, Tuple <span class="hljs-type">const</span> &amp;tuple) <span class="hljs-type">const</span> &#123;<br>        HashValueImpl&lt;Tuple, Index - <span class="hljs-number">1</span>&gt;&#123;&#125;(seed, tuple);<br>        <span class="hljs-built_in">hash_combine</span>(seed, std::<span class="hljs-built_in">get</span>&lt;Index&gt;(tuple));<br>    &#125;<br>&#125;;<br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">Tuple</span>&gt; <span class="hljs-keyword">struct</span> <span class="hljs-title class_">HashValueImpl</span>&lt;Tuple, <span class="hljs-number">0</span>&gt; &#123;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(<span class="hljs-type">size_t</span> &amp;seed, Tuple <span class="hljs-type">const</span> &amp;tuple)</span> <span class="hljs-type">const</span> </span>&#123;<br>        <span class="hljs-built_in">hash_combine</span>(seed, std::<span class="hljs-built_in">get</span>&lt;<span class="hljs-number">0</span>&gt;(tuple));<br>    &#125;<br>&#125;;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span>... TT&gt; <span class="hljs-keyword">struct</span> <span class="hljs-title class_">hash</span>&lt;std::tuple&lt;TT...&gt;&gt; &#123;<br>    <span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(std::tuple&lt;TT...&gt; <span class="hljs-type">const</span> &amp;tt)</span> <span class="hljs-type">const</span> </span>&#123;<br>        <span class="hljs-type">size_t</span> seed = <span class="hljs-number">0</span>;<br>        HashValueImpl&lt;std::tuple&lt;TT...&gt;&gt;&#123;&#125;(seed, tt);<br>        <span class="hljs-keyword">return</span> seed;<br>    &#125;<br>&#125;;<br><span class="hljs-comment">// auxiliary generic functions to create a hash value using a seed</span><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T&gt; <span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">hash_val</span><span class="hljs-params">(std::<span class="hljs-type">size_t</span> &amp;seed, <span class="hljs-type">const</span> T &amp;val)</span> </span>&#123;<br>    <span class="hljs-built_in">hash_combine</span>(seed, val);<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span>... Types&gt;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-type">void</span> <span class="hljs-title">hash_val</span><span class="hljs-params">(std::<span class="hljs-type">size_t</span> &amp;seed, <span class="hljs-type">const</span> T &amp;val, <span class="hljs-type">const</span> Types &amp;... args)</span> </span>&#123;<br>    <span class="hljs-built_in">hash_combine</span>(seed, val);<br>    <span class="hljs-built_in">hash_val</span>(seed, args...);<br>&#125;<br><br><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">typename</span>... Types&gt;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> std::<span class="hljs-type">size_t</span> <span class="hljs-title">hash_val</span><span class="hljs-params">(<span class="hljs-type">const</span> Types &amp;... args)</span> </span>&#123;<br>    std::<span class="hljs-type">size_t</span> seed = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">hash_val</span>(seed, args...);<br>    <span class="hljs-keyword">return</span> seed;<br>&#125;<br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">pair_hash</span> &#123;<br>    <span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T1</span>, <span class="hljs-keyword">class</span> <span class="hljs-title class_">T2</span>&gt;<br>    <span class="hljs-function">std::<span class="hljs-type">size_t</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(<span class="hljs-type">const</span> std::pair&lt;T1, T2&gt; &amp;p)</span> <span class="hljs-type">const</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">hash_val</span>(p.first, p.second);<br>    &#125;<br>&#125;;<br>&#125; <span class="hljs-comment">// namespace hash_tuple</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">using</span> ll = <span class="hljs-type">long</span> <span class="hljs-type">long</span>;<br>    <span class="hljs-comment">// std::unordered_map&lt;std::pair&lt;ll, ll&gt;, ll, hash_tuple::pair_hash&gt;</span><br>    <span class="hljs-comment">// hashmapPair; std::unordered_set&lt;std::pair&lt;ll, ll&gt;, hash_tuple::pair_hash&gt;</span><br>    <span class="hljs-comment">// hashsetPair;</span><br><br>    std::unordered_map&lt;std::pair&lt;ll, ll&gt;, ll, hash_tuple::pair_hash&gt;<br>        hashmapPair;<br>    hashmapPair[&#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>&#125;] = <span class="hljs-number">10</span>;<br>    std::unordered_set&lt;std::pair&lt;ll, ll&gt;, hash_tuple::pair_hash&gt; hashsetPair;<br>    hashsetPair.<span class="hljs-built_in">insert</span>(&#123;<span class="hljs-number">1</span>, <span class="hljs-number">1</span>&#125;);<br><br>    <span class="hljs-keyword">using</span> TI = std::tuple&lt;ll, ll, ll, ll&gt;;<br>    std::unordered_map&lt;TI, ll, hash_tuple::hash&lt;TI&gt;&gt; hashmapTuple;<br>    hashmapTuple[&#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>&#125;] = <span class="hljs-number">10</span>;<br>    std::unordered_set&lt;TI, hash_tuple::hash&lt;TI&gt;&gt; hashsetTuple;<br>    hashsetTuple.<span class="hljs-built_in">emplace</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Bellman-Fordå•æºæœ€çŸ­è·¯å¾„ç®—æ³•</title>
    <link href="/2023/04/22/Bellman-Ford%E5%8D%95%E6%BA%90%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84%E7%AE%97%E6%B3%95/"/>
    <url>/2023/04/22/Bellman-Ford%E5%8D%95%E6%BA%90%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84%E7%AE%97%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="bellman-fordå•æºæœ€çŸ­è·¯å¾„ç®—æ³•">Bellman-Fordå•æºæœ€çŸ­è·¯å¾„ç®—æ³•</h1><p>Bellman-Fordç®—æ³•æ˜¯ä¸€ç§ç”¨äºè®¡ç®—å¸¦æƒæœ‰å‘å›¾ä¸­å•æºæœ€çŸ­è·¯å¾„ï¼ˆSSSPï¼šSingle-Source ShortestPathï¼‰çš„ç®—æ³•ã€‚è¯¥ç®—æ³•ç”± Richard Bellman å’Œ Lester Ford åˆ†åˆ«å‘è¡¨äº 1958å¹´å’Œ 1956 å¹´ï¼Œè€Œå®é™…ä¸Š Edward F. Moore ä¹Ÿåœ¨ 1957å¹´å‘å¸ƒäº†ç›¸åŒçš„ç®—æ³•ï¼Œå› æ­¤ï¼Œæ­¤ç®—æ³•ä¹Ÿå¸¸è¢«ç§°ä¸º Bellman-Ford-Moore ç®—æ³•ã€‚</p><p>Bellman-Ford ç®—æ³•å’Œ Dijkstraç®—æ³•åŒä¸ºè§£å†³å•æºæœ€çŸ­è·¯å¾„çš„ç®—æ³•ã€‚å¯¹äºå¸¦æƒæœ‰å‘å›¾ <spanclass="math inline">\(G = (V, E)\)</span>ï¼ŒDijkstra ç®—æ³•è¦æ±‚å›¾ Gä¸­è¾¹çš„æƒå€¼å‡ä¸ºéè´Ÿï¼Œè€Œ Bellman-Fordç®—æ³•èƒ½é€‚åº”ä¸€èˆ¬çš„æƒ…å†µï¼ˆå³å­˜åœ¨è´Ÿæƒè¾¹çš„æƒ…å†µï¼‰ã€‚ä¸€ä¸ªå®ç°çš„å¾ˆå¥½çš„ Dijkstraç®—æ³•æ¯” Bellman-Ford ç®—æ³•çš„è¿è¡Œæ—¶é—´è¦ä½ã€‚</p><p>Bellman-Ford ç®—æ³•é‡‡ç”¨åŠ¨æ€è§„åˆ’ï¼ˆDynamicProgrammingï¼‰è¿›è¡Œè®¾è®¡ï¼Œå®ç°çš„æ—¶é—´å¤æ‚åº¦ä¸º<spanclass="math inline">\(O(V*E)\)</span>ï¼Œå…¶ä¸­ <spanclass="math inline">\(V\)</span> ä¸ºé¡¶ç‚¹æ•°é‡ï¼Œ<spanclass="math inline">\(E\)</span> ä¸ºè¾¹çš„æ•°é‡ã€‚Dijkstraç®—æ³•é‡‡ç”¨è´ªå¿ƒç®—æ³•ï¼ˆGreedy Algorithmï¼‰èŒƒå¼è¿›è¡Œè®¾è®¡ï¼Œæ™®é€šå®ç°çš„æ—¶é—´å¤æ‚åº¦ä¸º<span class="math inline">\(O(V^2)\)</span>ï¼Œè‹¥åŸºäº Fibonacci heapçš„æœ€å°ä¼˜å…ˆé˜Ÿåˆ—å®ç°ç‰ˆæœ¬åˆ™æ—¶é—´å¤æ‚åº¦ä¸º <span class="math inline">\(O(E +VlogV)\)</span>ã€‚</p><p>Bellman-Ford ç®—æ³•æè¿°ï¼š</p><ol type="1"><li>åˆ›å»ºæºé¡¶ç‚¹ v åˆ°å›¾ä¸­æ‰€æœ‰é¡¶ç‚¹çš„è·ç¦»çš„é›†åˆdistSetï¼Œä¸ºå›¾ä¸­çš„æ‰€æœ‰é¡¶ç‚¹æŒ‡å®šä¸€ä¸ªè·ç¦»å€¼ï¼Œåˆå§‹å‡ä¸º Infiniteï¼Œæºé¡¶ç‚¹è·ç¦»ä¸º0ï¼›</li><li>è®¡ç®—æœ€çŸ­è·¯å¾„ï¼Œæ‰§è¡Œ V - 1 æ¬¡éå†ï¼›<ul><li>å¯¹äºå›¾ä¸­çš„æ¯æ¡è¾¹ï¼šå¦‚æœèµ·ç‚¹ u çš„è·ç¦» d åŠ ä¸Šè¾¹çš„æƒå€¼ w å°äºç»ˆç‚¹ vçš„è·ç¦» dï¼Œåˆ™æ›´æ–°ç»ˆç‚¹ v çš„è·ç¦»å€¼ dï¼›</li></ul></li><li>æ£€æµ‹å›¾ä¸­æ˜¯å¦æœ‰è´Ÿæƒè¾¹å½¢æˆäº†ç¯ï¼Œéå†å›¾ä¸­çš„æ‰€æœ‰è¾¹ï¼Œè®¡ç®— u è‡³ vçš„è·ç¦»ï¼Œå¦‚æœå¯¹äº v å­˜åœ¨æ›´å°çš„è·ç¦»ï¼Œåˆ™è¯´æ˜å­˜åœ¨ç¯ï¼›</li></ol><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">edge</span><span class="hljs-comment">//ç”¨æ¥å­˜è¾¹</span><br>&#123;<br>    <span class="hljs-type">int</span> from;<br>    <span class="hljs-type">int</span> to;<br>    <span class="hljs-type">int</span> cost;<br>&#125;Edge[M];<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">Bellman_Ford</span><span class="hljs-params">(<span class="hljs-type">int</span> src, <span class="hljs-type">int</span> destination)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// næ˜¯èŠ‚ç‚¹ä¸ªæ•°</span><br>    vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; dist = <span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;(k + <span class="hljs-number">1</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;(n, INT_MAX));<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;i &lt; n; ++i)<br>        dist[i][<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span> ; i &lt; k ; i++)          <span class="hljs-comment">// æŸ¥æ‰¾ä»æºç‚¹å¼€å§‹ï¼Œç»è¿‡kä¸ªèŠ‚ç‚¹å¯ä»¥</span><br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span> ; j &lt; m ; j++)      <span class="hljs-comment">// m æ¡è¾¹</span><br>        &#123;<br>            <span class="hljs-type">int</span> from = Edge[j].from, to = Edge[j].to, cost = Edge[j].cost;<br>            dist[b] = <span class="hljs-built_in">min</span>(dist[i][to], dist[i - <span class="hljs-number">1</span>][from]);<br>        &#125;                          <br>    &#125;<br>    <span class="hljs-comment">// dist[k][n]æ˜¯åˆšå¥½ç»è¿‡kæ­¥åˆ°è¾¾èŠ‚ç‚¹nçš„æœ€çŸ­è·¯å¾„ï¼Œè‹¥ä¸ºINT_MAXåˆ™è¡¨ç¤ºä¸èƒ½åˆ°è¾¾</span><br>    <span class="hljs-type">int</span> res = INT_MAX;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt;= k; ++i)<br>    &#123;<br>        res = <span class="hljs-built_in">min</span>(res, dist[k][destination]);       <span class="hljs-comment">// æŸ¥æ‰¾kæ­¥å†…åˆ°è¾¾destinationçš„æœ€çŸ­è·¯å¾„</span><br>    &#125;<br>    <span class="hljs-comment">// æœªè€ƒè™‘è´Ÿç¯çš„å­˜åœ¨</span><br>    <span class="hljs-keyword">return</span> res == INT_MAX ? <span class="hljs-number">-1</span> : res;    <br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•°æ®ç»“æ„ä¸ç®—æ³•</tag>
      
      <tag>leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>EffectiveCpp-41ï¼šäº†è§£éšå¼æ¥å£å’Œç¼–è¯‘æœŸå¤šæ€</title>
    <link href="/2023/04/20/EffectiveCpp-41/"/>
    <url>/2023/04/20/EffectiveCpp-41/</url>
    
    <content type="html"><![CDATA[<h1 id="effective-c-item-41-äº†è§£éšå¼æ¥å£å’Œç¼–è¯‘æœŸå¤šæ€">Effective C++ Item41 äº†è§£éšå¼æ¥å£å’Œç¼–è¯‘æœŸå¤šæ€</h1><h2 id="æ˜¾å¼æ¥å£å’Œè¿è¡Œæ—¶å¤šæ€">æ˜¾å¼æ¥å£å’Œè¿è¡Œæ—¶å¤šæ€</h2><p>é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸–ç•Œå›´ç»•ç€æ˜¾å¼æ¥å£å’Œè¿è¡Œæ—¶å¤šæ€ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œè€ƒè™‘ä¸‹é¢çš„ç±»ï¼ˆæ— æ„ä¹‰çš„ç±»ï¼‰ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Widget</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Widget</span>();<br>    <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">Widget</span>();<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> std::<span class="hljs-type">size_t</span> <span class="hljs-title">size</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">normalize</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">swap</span><span class="hljs-params">(Widget&amp; other)</span></span>;                          <span class="hljs-comment">// Item 25</span><br>&#125;;<br></code></pre></td></tr></table></figure><p>è€ƒè™‘ä¸‹é¢çš„å‡½æ•°ï¼ˆåŒæ ·æ²¡æœ‰æ„ä¹‰ï¼‰:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">doProcessing</span><span class="hljs-params">(Widget&amp; w)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (w.<span class="hljs-built_in">size</span>() &gt; <span class="hljs-number">10</span> &amp;&amp; w != someNastyWidget) <br>    &#123;<br>        <span class="hljs-function">Widget <span class="hljs-title">temp</span><span class="hljs-params">(w)</span></span>;<br>        temp.<span class="hljs-built_in">normalize</span>();<br>        temp.<span class="hljs-built_in">swap</span>(w);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¯¹äº<code>doProcessing</code>ä¸­çš„<code>w</code>ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·è¯´ï¼š</p><ul><li>å› ä¸ºwè¢«å£°æ˜ä¸º<code>Widget</code>ç±»å‹ï¼Œ<code>w</code>å¿…é¡»æ”¯æŒ<code>Widget</code>æ¥å£ã€‚æˆ‘ä»¬å¯ä»¥åœ¨æºç ä¸­æœå¯»è¿™ä¸ªæ¥å£ï¼ˆä¾‹å¦‚ï¼Œåœ¨<code>Widget</code>çš„å¤´æ–‡ä»¶ä¸­ï¼‰ï¼Œä»¥ä¾¿èƒ½å¤Ÿç¡®åˆ‡çš„çŸ¥é“å®ƒé•¿æˆä»€ä¹ˆæ ·å­ï¼Œæ‰€ä»¥æˆ‘å°†å…¶å«åšä¸€ä¸ªæ˜¾å¼çš„æ¥å£ï¼ˆexplicitinterfaceï¼‰â€”â€”å¯ä»¥æ˜¾å¼çš„åœ¨æºç ä¸­çœ‹åˆ°çš„æ¥å£ã€‚</li><li>å› ä¸º<code>Widget</code>ä¸­çš„ä¸€äº›æˆå‘˜å‡½æ•°æ˜¯è™šçš„ï¼Œ<code>w</code>å¯¹è¿™äº›å‡½æ•°çš„è°ƒç”¨ä¼šå±•ç¤ºå‡ºè¿è¡Œæ—¶å¤šæ€ï¼š<code>w</code>å…·ä½“è°ƒç”¨å“ªä¸ªå‡½æ•°ä¼šæ ¹æ®è¿è¡Œæ—¶<code>w</code>çš„åŠ¨æ€ç±»å‹æ¥å†³å®šã€‚</li></ul><h2 id="éšå¼æ¥å£å’Œç¼–è¯‘æœŸå¤šæ€">éšå¼æ¥å£å’Œç¼–è¯‘æœŸå¤šæ€</h2><p>æ¨¡æ¿ï¼ˆtemplateï¼‰å’Œæ³›å‹ç¼–ç¨‹ï¼ˆgenericprogrammingï¼‰çš„ä¸–ç•Œä»æ ¹æœ¬ä¸Šå‘ç”Ÿäº†å˜åŒ–ã€‚åœ¨è¿™ä¸ªä¸–ç•Œä¸­ï¼Œæ˜¾å¼æ¥å£å’Œè¿è¡Œæ—¶å¤šæ€ç»§ç»­å­˜åœ¨ï¼Œä½†æ˜¯å®ƒä»¬ä¸å†åƒä»¥å‰é‚£ä¹ˆé‡è¦ã€‚ç›¸åï¼Œéšå¼æ¥å£å’Œç¼–è¯‘æ—¶å¤šæ€è¢«æŒªåˆ°äº†å‰å°ã€‚ä¸ºäº†äº†è§£è¿™æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Œæˆ‘ä»¬å°†<code>doProcessing</code>ä»å‡½æ•°è½¬æ¢ä¸ºä¸€ä¸ªå‡½æ•°æ¨¡æ¿ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="hljs-function"></span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">doProcessing</span><span class="hljs-params">(T&amp; w)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (w.<span class="hljs-built_in">size</span>() &gt; <span class="hljs-number">10</span> &amp;&amp; w != someNastyWidget) <br>    &#123;<br>        <span class="hljs-function">T <span class="hljs-title">temp</span><span class="hljs-params">(w)</span></span>;<br>        temp.<span class="hljs-built_in">normalize</span>();<br>        temp.<span class="hljs-built_in">swap</span>(w);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘ä»¬èƒ½å¯¹<code>doProcessing</code>ä¸­çš„<code>w</code>è¯´äº›ä»€ä¹ˆå‘¢ï¼Ÿ</p><ul><li><code>w</code>å¿…é¡»æ”¯æŒçš„æ¥å£ç”±æ¨¡æ¿ä¸­wéœ€è¦æ‰§è¡Œçš„æ“ä½œæ‰€å†³å®šã€‚ä¾‹å¦‚ï¼Œ<code>w</code>çš„ç±»å‹<code>T</code>å¿…é¡»æ”¯æŒ<code>size</code>ï¼Œ<code>normalize</code>å’Œ<code>swap</code>æˆå‘˜å‡½æ•°ï¼›æ‹·è´æ„é€ å‡½æ•°ï¼ˆæ¥åˆ›å»º<code>temp</code>ï¼‰ï¼›å’Œä¸ç­‰æ¯”è¾ƒï¼ˆåŒ<code>someNastyWidget</code>è¿›è¡Œæ¯”è¾ƒï¼‰ã€‚æˆ‘ä»¬å¾ˆå¿«å°±èƒ½å‘ç°è¿™ä¹Ÿä¸æ˜¯å¾ˆç²¾ç¡®çš„ï¼Œä½†æ˜¯å¯¹äºç°åœ¨æ¥è¯´è¶³å¤Ÿäº†ã€‚é‡è¦çš„æ˜¯ï¼Œè¿™äº›è¡¨è¾¾å¼å¿…é¡»æ˜¯<code>T</code>æ‰€æ”¯æŒçš„éšå¼æ¥å£ï¼Œå®ƒä»¬å¯¹äºæ¨¡æ¿æ¥è¯´å¿…é¡»æ˜¯æœ‰æ•ˆçš„ä»¥ä¾¿èƒ½å¤Ÿé€šè¿‡ç¼–è¯‘ã€‚</li><li>å¯¹äºæ¶‰åŠåˆ°<code>w</code>çš„åƒ<code>operator&gt;</code>å’Œ<code>operator!=</code>è¿™æ ·çš„å‡½æ•°è°ƒç”¨ï¼Œå¯èƒ½æ¶‰åŠåˆ°æ¨¡æ¿çš„å®ä¾‹åŒ–æ¥è®©è¿™äº›è°ƒç”¨æˆåŠŸã€‚è¿™äº›å®ä¾‹åŒ–åœ¨ç¼–è¯‘æœŸå‘ç”Ÿã€‚å› ä¸ºç”¨ä¸åŒçš„æ¨¡æ¿å‚æ•°å®ä¾‹åŒ–å‡ºæ¥çš„å‡½æ•°æ¨¡æ¿ä¼šå¯¼è‡´ä¸åŒçš„å‡½æ•°è¢«è°ƒç”¨ï¼Œè¿™å«åšâ€œç¼–è¯‘æœŸå¤šæ€â€ã€‚</li></ul><h2 id="æ˜¾ç¤ºæ¥å£å’Œéšå¼æ¥å£çš„åŒºåˆ«">æ˜¾ç¤ºæ¥å£å’Œéšå¼æ¥å£çš„åŒºåˆ«</h2><h3 id="æ˜¾ç¤ºæ¥å£çš„ç‰¹ç‚¹">æ˜¾ç¤ºæ¥å£çš„ç‰¹ç‚¹</h3><p>å³ä½¿ä½ æ°¸è¿œä¸ä½¿ç”¨æ¨¡æ¿ï¼Œä½ ä¹Ÿåº”è¯¥ç†Ÿæ‚‰è¿è¡Œæ—¶å¤šæ€å’Œç¼–è¯‘æœŸå¤šæ€çš„åŒºåˆ«ï¼Œå› ä¸ºè¿™åŒç¼–è¯‘æœŸå†³å®šè°ƒç”¨å“ªä¸ªé‡è½½å‡½æ•°ä»¥åŠè¿è¡ŒæœŸå†³å®šç»‘å®šå“ªä¸ªè™šå‡½æ•°æ˜¯ç±»ä¼¼çš„ã€‚éšå¼å’Œæ˜¾å¼æ¥å£çš„åŒºåˆ«å¯¹äºæ¨¡æ¿æ¥è¯´æ˜¯æ–°çš„æ¦‚å¿µï¼Œç„¶è€Œï¼Œä¸€ä¸ªæ˜¾å¼çš„æ¥å£ç”±å‡½æ•°ç­¾åç»„æˆï¼Œä¹Ÿå³æ˜¯å‡½æ•°åå­—ï¼Œå‚æ•°ç±»å‹ï¼Œè¿”å›å€¼ç±»å‹ç­‰ç­‰ã€‚<code>Widget</code>ç±»çš„å…¬å…±æ¥å£ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Widget</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Widget</span>();<br>    <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">Widget</span>();<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> std::<span class="hljs-type">size_t</span> <span class="hljs-title">size</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">normalize</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">swap</span><span class="hljs-params">(Widget&amp; other)</span></span>;<br>&#125;;<br></code></pre></td></tr></table></figure><p>ç”±ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œä¸€ä¸ªææ„å‡½æ•°ï¼Œå’Œå‡½æ•°<code>size</code>ï¼Œ<code>normalize</code>å’Œ<code>swap</code>ä»¥åŠå‚æ•°ç±»å‹ï¼Œè¿”å›å€¼ç±»å‹å’Œè¿™äº›å‡½æ•°çš„å¸¸é‡æ€§ç»„æˆã€‚ï¼ˆåŒæ ·åŒ…å«ç¼–è¯‘å™¨ç”Ÿæˆçš„æ‹·è´æ„é€ å‡½æ•°å’Œæ‹·è´èµ‹å€¼è¿ç®—ç¬¦â€”â€”çœ‹Item5ï¼‰ã€‚å®ƒåŒæ ·å¯ä»¥åŒ…å«<code>typedef</code>å’Œæ•°æ®æˆå‘˜ï¼Œå¦‚æœä½ å¤Ÿå¤§èƒ†è¿åItem22çš„å»ºè®®çš„è¯ï¼ˆå°†æ•°æ®æˆå‘˜å£°æ˜ä¸º<code>private</code>ï¼‰ã€‚è™½ç„¶åœ¨è¿™ä¸ªä¾‹å­ä¸­æ²¡æœ‰è¿™ä¹ˆåšã€‚</p><h3 id="éšå¼æ¥å£çš„ç‰¹ç‚¹">éšå¼æ¥å£çš„ç‰¹ç‚¹</h3><p>ä¸€ä¸ªéšå¼çš„æ¥å£ä¼šæœ‰å¾ˆå¤§çš„ä¸åŒã€‚å®ƒä¸æ˜¯åŸºäºå‡½æ•°ç­¾åã€‚è€Œæ˜¯ç”±æœ‰æ•ˆè¡¨è¾¾å¼ç»„æˆã€‚å†çœ‹ä¸€ä¸‹<code>doProcessing</code>æ¨¡æ¿å¼€å§‹éƒ¨åˆ†çš„æ¡ä»¶è¡¨è¾¾å¼ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">doProcessing</span><span class="hljs-params">(T &amp;w)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(w.<span class="hljs-built_in">size</span>() &gt; <span class="hljs-number">10</span> &amp;&amp; w != someNastyWidget)<br>    &#123;<br>        ...<br>&#125;<br></code></pre></td></tr></table></figure><p>Tï¼ˆ<code>w</code>çš„ç±»å‹ï¼‰çš„éšå¼æ¥å£çœ‹ä¸Šå»ä¼šæœ‰å¦‚ä¸‹é™åˆ¶ï¼š</p><ul><li>å®ƒå¿…é¡»æä¾›ä¸€ä¸ªåå­—ä¸º<code>size</code>çš„æˆå‘˜å‡½æ•°å¹¶ä¸”è¿”å›ä¸€ä¸ªæ•´å‹å€¼ã€‚</li><li>å®ƒå¿…é¡»æ”¯æŒ<code>!=</code>æ“ä½œç¬¦å‡½æ•°ï¼Œèƒ½å¤Ÿå¯¹ä¸¤ä¸ª<code>T</code>ç±»å‹çš„å¯¹è±¡è¿›è¡Œæ¯”è¾ƒã€‚ï¼ˆè¿™é‡Œï¼Œæˆ‘ä»¬å‡è®¾<code>someNastWidget</code>çš„ç±»å‹ä¸º<code>T</code>ã€‚ï¼‰</li></ul><p>å¤šäºäº†æ“ä½œç¬¦é‡è½½ï¼Œä¸Šé¢çš„ä¸¤ä¸ªé™åˆ¶éƒ½ä¸éœ€è¦æ»¡è¶³ã€‚<code>T</code>å¿…é¡»æ”¯æŒä¸€ä¸ª<code>size</code>æˆå‘˜å‡½æ•°ï¼Œå€¼å¾—æåŠçš„æ˜¯è¿™ä¸ªå‡½æ•°å¯èƒ½ç»§æ‰¿è‡ªä¸€ä¸ªåŸºç±»ã€‚ä½†æ˜¯è¿™ä¸ªæˆå‘˜å‡½æ•°æ²¡æœ‰å¿…è¦è¿”å›ä¸€ä¸ªæ•´å‹å€¼ã€‚ç”šè‡³ä¸éœ€è¦è¿”å›ä¸€ä¸ªæ•°å­—ç±»å‹å€¼ã€‚å¦‚æœè¿™ä¹ˆè¯´çš„è¯ï¼Œå®ƒç”šè‡³ä¸éœ€è¦è¿”å›<code>operator&gt;</code>å®šä¹‰ä¸­æ‰€éœ€è¦çš„å€¼ã€‚ä»–éœ€è¦çš„æ˜¯è¿”å›ä¸€ä¸ªç±»å‹<code>X</code>çš„å¯¹è±¡ï¼Œäºæ˜¯å¯ä»¥åœ¨ä¸€ä¸ªç±»å‹<code>X</code>å¯¹è±¡å’Œ<code>int</code>ï¼ˆå› ä¸º<code>10</code>æ˜¯<code>int</code>å‹çš„ï¼‰å‹å¯¹è±¡ä¸Šè°ƒç”¨<code>operator&gt;</code>ã€‚ä½†æ˜¯<code>Operator&gt;</code>æ²¡æœ‰å¿…è¦å¸¦ä¸€ä¸ªç±»å‹<code>X</code>çš„å‚æ•°ï¼Œå› ä¸ºå®ƒä¹Ÿå¯ä»¥å¸¦ä¸€ä¸ªç±»å‹<code>Y</code>çš„å‚æ•°ï¼Œåªè¦<code>Y</code>å¯ä»¥éšå¼çš„è½¬æˆ<code>X</code>å°±å¯ä»¥äº†ã€‚</p><p>ç±»ä¼¼çš„ï¼Œ<code>T</code>ä¹Ÿæ²¡æœ‰å¿…è¦æ”¯æŒ<code>operator!=</code>ï¼Œå› ä¸º<code>operator!=</code>å¸¦ä¸€ä¸ªç±»å‹<code>X</code>çš„å‚æ•°å’Œä¸€ä¸ªç±»å‹<code>Y</code>çš„å‚æ•°ä¹Ÿèƒ½æ¥å—ã€‚åªè¦<code>T</code>èƒ½è½¬æˆ<code>X</code>å¹¶ä¸”<code>someNastyWidget</code>çš„ç±»å‹å¯ä»¥è½¬æ¢æˆ<code>Y</code>ï¼Œé‚£ä¹ˆå‡½æ•°è°ƒç”¨å°±æ˜¯æœ‰æ•ˆçš„ã€‚</p><p>å¤§å¤šæ•°äººå½“ç¬¬ä¸€æ¬¡å¼€å§‹è€ƒè™‘è¿™ç§éšå¼è½¬æ¢å°±å¤´ç–¼ï¼Œä½ ä¸éœ€è¦åƒé˜¿å¸åŒ¹æ—ã€‚éšå¼æ¥å£åªæ˜¯ç®€å•çš„ç”±ä¸€äº›æœ‰æ•ˆè¡¨è¾¾å¼ç»„æˆã€‚è¡¨è¾¾å¼æœ¬èº«çœ‹èµ·æ¥å¤æ‚ï¼Œä½†æ˜¯åŠ åœ¨ä¸Šé¢çš„é™åˆ¶ä¸€èˆ¬æ¥è¯´æ˜¯ç®€å•ç›´æ¥çš„ã€‚ä¾‹å¦‚ï¼Œè€ƒè™‘ä¸‹é¢çš„æ¡ä»¶è¡¨è¾¾å¼ï¼Œ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">if</span> (w.<span class="hljs-built_in">size</span>() &gt; <span class="hljs-number">10</span> &amp;&amp; w != someNastyWidget) <br>    ...<br></code></pre></td></tr></table></figure><p>å¾ˆéš¾è¯´è¦å¯¹å‡½æ•°<code>size</code>ï¼Œ<code>operator&gt;</code>,<code>operator&amp;&amp;</code>æˆ–è€…<code>operator!=</code>åšä»€ä¹ˆé™åˆ¶ï¼Œä½†æ˜¯å¾ˆå®¹æ˜“è¾¨è®¤å‡ºéœ€è¦å¯¹æ•´ä¸ªè¡¨è¾¾å¼åšå‡ºçš„é™åˆ¶ã€‚Ifå£°æ˜çš„æ¡ä»¶éƒ¨åˆ†å¿…é¡»æ˜¯ä¸€ä¸ªbooleanè¡¨è¾¾å¼ï¼Œæ‰€ä»¥ä¸ç®¡æ¶‰åŠåˆ°ä»€ä¹ˆç±»å‹ï¼Œä¹Ÿä¸ç®¡<code>w.size() &gt; 10 &amp;&amp; w != someNastyWidget</code>äº§ç”Ÿä»€ä¹ˆï¼Œå®ƒå¿…é¡»åŒ<code>bool</code>æ˜¯å…¼å®¹çš„ã€‚è¿™æ˜¯æ¨¡æ¿<code>doProcessing</code>å¼ºåŠ åœ¨ç±»å‹å‚æ•°<code>T</code>ä¸Šçš„éšå¼æ¥å£çš„ä¸€éƒ¨åˆ†ã€‚å‰©ä¸‹çš„<code>doProcessing</code>æ‰€éœ€è¦çš„æ¥å£å°±æ˜¯å¯¹æ‹·è´æ„é€ å‡½æ•°çš„è°ƒç”¨ï¼Œè¿˜æœ‰<code>swap</code>å¯¹äºç±»å‹Tæ¥è¯´å¿…é¡»æ˜¯æœ‰æ•ˆçš„ã€‚</p><p>å¼ºåŠ åœ¨æ¨¡æ¿å‚æ•°ä¸Šçš„éšå¼æ¥å£åŒå¼ºåŠ åœ¨ç±»å¯¹è±¡ä¸Šçš„æ˜¾ç¤ºæ¥å£ä¸€æ ·çœŸå®ï¼Œä¸¤è€…éƒ½æ˜¯åœ¨ç¼–è¯‘é˜¶æ®µæ£€æŸ¥ã€‚ä½ ä¸èƒ½åŒä¸€ä¸ªç±»æä¾›çš„æ˜¾ç¤ºæ¥å£ç›¸çŸ›ç›¾çš„æ–¹å¼ä½¿ç”¨ä¸€ä¸ªç±»å¯¹è±¡ï¼ˆä¸ä¼šç¼–è¯‘é€šè¿‡ï¼‰ï¼Œä½ ä¹Ÿä¸èƒ½éšä¾¿åœ¨ä¸€ä¸ªæ¨¡æ¿ä¸­å°è¯•ä½¿ç”¨ä¸€ä¸ªå¯¹è±¡ï¼Œé™¤éè¿™ä¸ªå¯¹è±¡æ”¯æŒæ¨¡æ¿éœ€è¦çš„éšå¼è½¬æ¢ï¼ˆå¦åˆ™ä¹Ÿä¸èƒ½é€šè¿‡ç¼–è¯‘ï¼‰</p><h2 id="æ€»ç»“">æ€»ç»“</h2><ul><li>ç±»å’Œæ¨¡æ¿éƒ½æ”¯æŒæ¥å£å’Œå¤šæ€ã€‚</li><li>å¯¹äºç±»æ¥è¯´ï¼Œæ¥å£æ˜¯æ˜¾å¼çš„ï¼Œä»¥å‡½æ•°ç­¾åä¸ºä¸­å¿ƒã€‚å¤šæ€å‘ç”Ÿåœ¨è¿è¡Œæ—¶ï¼Œé€šè¿‡è™šå‡½æ•°æ¥å®ç°ã€‚</li><li>å¯¹äºæ¨¡æ¿å‚æ•°æ¥è¯´ï¼Œæ¥å£æ˜¯éšå¼çš„ï¼ŒåŸºäºæœ‰æ•ˆè¡¨è¾¾å¼ã€‚æ¨¡æ¿å¤šæ€é€šè¿‡æ¨¡æ¿å®ä¾‹åŒ–å’Œå‡½æ•°é‡è½½æ¥å®ç°ï¼Œå®ƒå‘ç”Ÿåœ¨ç¼–è¯‘æœŸã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
      <category>Effective C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
      <tag>Effective C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>EffectiveCpp-21ï¼šå¿…é¡»è¿”å›å¯¹è±¡æ—¶ï¼Œä¸è¦è¿”å›reference</title>
    <link href="/2023/04/20/EffectiveCpp-21/"/>
    <url>/2023/04/20/EffectiveCpp-21/</url>
    
    <content type="html"><![CDATA[<h1 id="effective-c-item-21å¿…é¡»è¿”å›å¯¹è±¡æ—¶ä¸è¦è¿”å›reference">EffectiveC++ Item 21ï¼šå¿…é¡»è¿”å›å¯¹è±¡æ—¶ï¼Œä¸è¦è¿”å›reference</h1><p>ä¼—æ‰€å‘¨çŸ¥ï¼ŒC++ä¸­å‡½æ•°ä¼ å‚<em>pass-by-value</em>çš„æ•ˆç‡æ˜¯è¦ä½äº<em>pass-by-reference</em>çš„ï¼Œæ‰€ä»¥å‡½æ•°ä¼ å‚å°½é‡ä»¥<strong><em>pass-by-reference-to-const</em>æ›¿æ¢<em>pass-by-value</em></strong>,ä½†æ˜¯åœ¨å‡½æ•°è¿”å›çš„æ—¶å€™ï¼Œè¿”å›ä¸€ä¸ª<em>reference</em>å¹¶ä¸ä¸€å®šæ˜¯ä¸€ä»¶å¥½äº‹ï¼Œå› ä¸ºè¿™å¯èƒ½ä¼šå¯¼è‡´æˆ‘ä»¬<strong>ä¼ é€’ä¸€äº›<em>reference</em>å¹¶ä¸å­˜åœ¨çš„å¯¹è±¡</strong>ã€‚</p><p>è€ƒè™‘ä¸€ä¸ªç”¨äºè¡¨ç°æœ‰ç†æ•°çš„class,å†…å«ä¸€ä¸ªå‡½æ•°ç”¨æ¥è®¡ç®—ä¸¤ä¸ªæœ‰ç†æ•°çš„ä¹˜ç§¯ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Rational</span>&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Rational</span>(<span class="hljs-type">int</span> numerator = <span class="hljs-number">0</span>, <span class="hljs-type">int</span> denominator = <span class="hljs-number">1</span>);<br><br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> n, d;   <span class="hljs-comment">// åˆ†å­numerator å’Œ åˆ†æ¯denominator</span><br>    <span class="hljs-keyword">friend</span> <span class="hljs-type">const</span> Rational <span class="hljs-keyword">operator</span>*(<span class="hljs-type">const</span> Rational &amp;lhs, <span class="hljs-type">const</span> Rational &amp;rhs);<br>&#125;;<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªç±»çš„<code>operator*</code>æ˜¯ä»¥<em>by-value</em>è¿”å›å…¶è®¡ç®—ç»“æœã€‚å¦‚æœç°åœ¨ä½ æƒ³èŠ‚çœæ‰è¯¥å¯¹è±¡çš„æ„é€ å’Œææ„å‡½æ•°æˆæœ¬ï¼Œè€Œæ”¹ç”¨ä¼ é€’referenceï¼Œé‚£ä¹ˆè¯·å…ˆå›æƒ³ä¸€ä¸‹ï¼Œ<strong>æ‰€è°“referenceåªæ˜¯ä¸€ä¸ªåç§°ï¼Œä»£è¡¨æŸä¸ªæ—¢æœ‰å¯¹è±¡ã€‚ä»»ä½•æ—¶å€™çœ‹åˆ°ä¸€ä¸ªreferenceå¯¹è±¡å£°æ˜å¼ï¼Œéƒ½è¦ç«‹åˆ»æé†’è‡ªå·±ï¼Œå®ƒçš„å¦ä¸€ä¸ªåç§°æ˜¯ä»€ä¹ˆï¼Ÿå› ä¸ºå®ƒä¸€å®šæ˜¯æŸç‰©çš„å¦ä¸€ä¸ªåç§°</strong>ã€‚å¦‚æœä¸Šé¢<code>operator*</code>è¿”å›referenceï¼Œé‚£ä¹ˆå®ƒä¸€å®šæŒ‡å‘ä¸€ä¸ªæ—¢æœ‰çš„<code>Rational</code>å¯¹è±¡,å†…å«ä¸¤ä¸ª<code>Rational</code>å¯¹è±¡çš„ä¹˜ç§¯ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function">Rational <span class="hljs-title">a</span><span class="hljs-params">(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)</span></span>;   <span class="hljs-comment">// a = 1/2</span><br><span class="hljs-function">Rational <span class="hljs-title">b</span><span class="hljs-params">(<span class="hljs-number">3</span>, <span class="hljs-number">5</span>)</span></span>;   <span class="hljs-comment">// b = 3/5</span><br>Rational c = a * b; <span class="hljs-comment">// c åº”è¯¥æ˜¯ 3/10</span><br></code></pre></td></tr></table></figure><p>ä»¥ä¸Šé¢çš„ä»£ç ä¸ºä¾‹ï¼ŒæœŸæœ›ä¸€ä¸ªå€¼ä¸º<code>3/10</code>çš„Rationalå¯¹è±¡å·²ç»å­˜åœ¨å¹¶ä¸åˆç†ï¼Œå¦‚æœ<code>operator*</code>è¿”å›ä¸€ä¸ªreferenceæŒ‡å‘å¦‚æ­¤æ•°å€¼ï¼Œå®ƒå¿…é¡»è‡ªå·±åˆ›å»ºé‚£ä¸ªRationalå¯¹è±¡ã€‚</p><p>åˆ›å»ºæ–°å¯¹è±¡çš„æ–¹å¼æœ‰ä¸¤ç§ï¼šåœ¨stackç©ºé—´æˆ–è€…åœ¨heapç©ºé—´åˆ›å»ºã€‚å¦‚æœè¦å®šä¹‰ä¸€ä¸ªlocalå˜é‡ï¼Œå°±æ˜¯åœ¨stackç©ºé—´ä¸Šåˆ›å»ºå¯¹è±¡ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">const</span> Rational&amp; <span class="hljs-keyword">operator</span>* (<span class="hljs-type">const</span> Rational &amp;lhs, <span class="hljs-type">const</span> Rational &amp;rhs)<br>&#123;<br>    <span class="hljs-function">Rational <span class="hljs-title">result</span><span class="hljs-params">(lhs.n * rhs.n, lhs.d * rhs.d)</span></span>;<br>    <span class="hljs-keyword">return</span> result;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç„¶åè¿™æ ·åšæœ‰ä¸€ä¸ªå¾ˆæ˜æ˜¾çš„æ¼æ´ï¼šå‡½æ•°è¿”å›ä¸€ä¸ªreferenceæŒ‡å‘resultï¼Œä½†resultæ˜¯ä¸€ä¸ªlocalå¯¹è±¡ï¼Œè€Œlocalå¯¹è±¡åœ¨å‡½æ•°é€€å‡ºä¹‹å‰å°±å·²ç»é”€æ¯äº†ã€‚å› æ­¤è¿™ä¸ªç‰ˆæœ¬çš„<code>operator*</code>å¹¶æœªè¿”å›referenceæŒ‡å‘æŸä¸ªRationalï¼Œå®ƒè¿”å›çš„é¢referenceæŒ‡å‘ä¸€ä¸ªå·²ç»è¢«é”€æ¯çš„â€œä»å‰çš„â€Rationalã€‚è€Œä»»ä½•ä½¿ç”¨åˆ°è¿™ä¸ªè¿”å›å€¼çš„æ“ä½œéƒ½ä¼šå¼•å‘â€œæ— å®šä¹‰è¡Œä¸ºâ€çš„æŠ¥é”™ã€‚æ‰€ä»¥ï¼Œ<strong>ä»»ä½•å‡½æ•°éƒ½ä¸è¦è¿”å›referenceæŒ‡å‘ä¸€ä¸ªlocalå¯¹è±¡</strong>ã€‚</p><p>é‚£ä¹ˆè€ƒè™‘åœ¨heapå†…æ„å»ºå¯¹è±¡ï¼Œå¹¶è¿”å›referenceæŒ‡å‘å®ƒï¼ŒHeap-basedå¯¹è±¡ç”±newåˆ›å»ºï¼Œæ‰€ä»¥å†™ä¸€ä¸ªheap-based<code>operator*</code>å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">const</span> Rational* <span class="hljs-keyword">operator</span>* (<span class="hljs-type">const</span> Rational &amp;lhs, <span class="hljs-type">const</span> Rational &amp;rhs)<br>&#123;<br>    Rational *result = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Rational</span>(lhs.n * rhs.n, lhs.d * rhs.d);<br>    <span class="hljs-keyword">return</span> *result;<br>&#125;<br></code></pre></td></tr></table></figure><p>å³ä¾¿å¦‚æ­¤ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦ä»˜å‡ºä¸€ä¸ªâ€œæ„é€ å‡½æ•°â€çš„ä»£ä»·ï¼Œå› ä¸ºåˆ†é…æ‰€å¾—çš„å†…å­˜å°†ä»¥ä¸€ä¸ªé€‚å½“çš„æ„é€ å‡½æ•°å¹¶å®Œæˆåˆå§‹åŒ–æ“ä½œã€‚ä½†æ­¤å¤–ä½ åˆæœ‰äº†å¦ä¸€ä¸ªé—®é¢˜ï¼šè°è¯¥å¯¹ç€è¿™ä¸ªnewå‡ºæ¥çš„å¯¹è±¡å®æ–½deleteï¼Ÿ</p><p>å³ä¾¿è°ƒç”¨è€…è¯šå®è¯šè°¨ï¼Œå¹¶å‡ºäºè‰¯å¥½æ„è¯†ï¼Œä»–ä»¬è¿˜æ˜¯ä¸å¤ªèƒ½åœ¨è¿™æ ·åˆæƒ…åˆç†çš„ç”¨æ³•ä¸‹é˜»æ­¢å†…å­˜æ³„æ¼ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++">Rational w, x, y, z;<br>w = x * y * z;      <span class="hljs-comment">// ä¸ operator* (operator* (x, y), z)ç›¸åŒ</span><br></code></pre></td></tr></table></figure><p>è¿™é‡ŒåŒä¸€ä¸ªè¯­å¥è°ƒç”¨äº†ä¸¤æ¬¡<code>operator*</code>ï¼Œä¹Ÿå°±éœ€è¦ä½¿ç”¨ä¸¤æ¬¡newï¼Œå¯¹åº”çš„å°±éœ€è¦ä¸¤æ¬¡deleteã€‚ä½†æ˜¯å´æ²¡æœ‰åˆç†çš„æ–¹æ³•è®©<code>operator*</code>çš„ä½¿ç”¨è€…è¿›è¡Œé‚£äº›deleteè°ƒç”¨ï¼Œå› ä¸ºæ²¡æœ‰åˆç†çš„æ–¹æ³•è®©ä»–ä»¬å–å¾—<code>operator*</code>è¿”å›çš„referenceèƒŒåéšè—çš„é‚£ä¸ªæŒ‡é’ˆã€‚è¿™ä¸€å®šä¼šå¯¼è‡´å†…å­˜æ³„éœ²ã€‚</p><p>æ‰€ä»¥ä¸ç®¡æ˜¯on-the-stackæˆ–è€…æ˜¯on-the-heapçš„åšæ³•ï¼Œéƒ½ä¼šå› ä¸º<code>operator*</code>çš„è¿”å›ç»“æœè°ƒç”¨æ„é€ å‡½æ•°è€Œå‡ºé”™æˆ–ä»˜å‡ºä»£ä»·ã€‚è€Œæˆ‘ä»¬æƒ³è¿”å›å¼•ç”¨çš„æœ€åˆç›®çš„æ˜¯<strong>é¿å…æ„é€ å‡½æ•°çš„è°ƒç”¨</strong>ã€‚</p><p>æˆ–è®¸è¿˜æœ‰ä¸€ç§é¿å…ä»»ä½•æ„é€ å‡½æ•°è¢«è°ƒç”¨çš„æ–¹æ³•ï¼Œé‚£å°±æ˜¯â€œè®©<code>operator*</code>è¿”å›çš„referenceæŒ‡å‘ä¸€ä¸ªè¢«å®šä¹‰äºå‡½æ•°å†…éƒ¨çš„staticRationalå¯¹è±¡â€ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">const</span> Rational&amp; <span class="hljs-keyword">operator</span>* (<span class="hljs-type">const</span> Rational &amp;lhs, <span class="hljs-type">const</span> Rational &amp;rhs)<br>&#123;<br>    <span class="hljs-type">static</span> Rational result;<br><br>    result = ...;<br><br>    <span class="hljs-keyword">return</span> result;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç„¶è€Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸ç³Ÿç³•çš„è®¾è®¡ï¼Œçœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>* (<span class="hljs-type">const</span> Rational &amp;lhs, <span class="hljs-type">const</span> Rational &amp;rhs);<br><br>Rational a, b, c, d;<br><br><span class="hljs-keyword">if</span>((a * b) == (c * d))      <span class="hljs-comment">// è¿™ä¸ªè¡¨è¾¾å¼ä¸€å®šä¸ºtrue</span><br>    ...<br><span class="hljs-keyword">else</span><br>    ...<br></code></pre></td></tr></table></figure><p>ä¸ç®¡<code>a</code>,<code>b</code>,<code>c</code>,<code>d</code>çš„å€¼æ˜¯ä»€ä¹ˆï¼Œè¡¨è¾¾å¼<code>(a * b) == (c * d)</code>ä¸€å®šä¸º<code>true</code>ã€‚ä¸Šè¿°çš„<code>if</code>åˆ¤åˆ«å¼å¯ä»¥å†™ä¸ºä¸‹é¢çš„ç­‰ä»·å½¢å¼ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">if</span>(<span class="hljs-keyword">operator</span>== (<span class="hljs-keyword">operator</span>* (a, b), <span class="hljs-keyword">operator</span>* (c, d)))<br></code></pre></td></tr></table></figure><p>åœ¨<code>operator==</code>è¢«è°ƒç”¨ä¹‹å‰ï¼Œä¸¤ä¸ª<code>operator*</code>å·²ç»è¢«è°ƒç”¨ï¼Œæ¯ä¸ªéƒ½è¿”å›referenceæŒ‡å‘<code>operator*</code>å†…éƒ¨å®šä¹‰çš„staticå¯¹è±¡ã€‚å› æ­¤<code>operator==</code>æ¯”è¾ƒçš„ä¸¤ä¸ªå¯¹è±¡éƒ½æ˜¯<code>operator*</code>å†…å®šä¹‰çš„staticå¯¹è±¡ï¼Œæ‰€ä»¥åˆ¤åˆ«å¼ä¸€å®šæ˜¯<code>true</code>ã€‚</p><h2 id="æ€»ç»“">æ€»ç»“</h2><p>ç»ä¸è¦è¿”å›pointeræˆ–referenceæŒ‡å‘ä¸€ä¸ªlocalstackå¯¹è±¡ï¼Œæˆ–è¿”å›æœ‰ä¸€ä¸ªreferenceæŒ‡å‘ä¸€ä¸ªheap-allocatedå¯¹è±¡ï¼Œæˆ–è¿”å›pointeræˆ–referenceæŒ‡å‘ä¸€ä¸ªloaclstaicå¯¹è±¡è€Œåˆå¯èƒ½åŒæ—¶éœ€è¦å¤šä¸ªè¿™æ ·çš„å¯¹è±¡ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
      <category>Effective C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
      <tag>Effective C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ¨æ€è§„åˆ’çš„å‡ ç§å®ç°æ–¹å¼</title>
    <link href="/2023/04/17/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%9A%84%E5%87%A0%E7%A7%8D%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F/"/>
    <url>/2023/04/17/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%9A%84%E5%87%A0%E7%A7%8D%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<h1 id="åŠ¨æ€è§„åˆ’çš„å‡ ç§å®ç°æ–¹å¼">åŠ¨æ€è§„åˆ’çš„å‡ ç§å®ç°æ–¹å¼</h1><p>åŠ¨æ€è§„åˆ’åˆå‡ ç§ä¸åŒçš„å®ç°æ–¹å¼ï¼Œä»¥leetcodeç¬¬<ahref="https://leetcode.cn/problems/longest-common-subsequence/description/">1143</a>é¢˜ä¸ºä¾‹ï¼š</p><p><img src="/img/ç®—æ³•/åŠ¨æ€è§„åˆ’å®ç°æ–¹å¼/leetcode1143.png" /></p><p>å¾ˆæ˜æ˜¾è¿™æ˜¯ä¸€é“åŠ¨æ€è§„åˆ’çš„é¢˜ï¼Œè€ŒåŠ¨æ€è§„åˆ’æœ‰å¤šç§ä¸åŒçš„å®ç°æ–¹å¼ï¼Œæ¯”å¦‚æœ€å¸¸è§çš„ä¸¤ç§æ–¹å¼æ˜¯è¿­ä»£é€’æ¨æ³•å’Œè®°å¿†åŒ–æœç´¢æ³•ï¼Œè¿™ä¸¤ç§æ–¹æ³•çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼Œè¿­ä»£é€’æ¨æ³•æ˜¯è‡ªåº•å‘ä¸Šé€’æ¨ï¼Œè€Œè®°å¿†åŒ–æœç´¢æ˜¯è‡ªé¡¶å‘ä¸‹æœç´¢ï¼Œåœ¨æœç´¢è¿‡ç¨‹ä¸­ä¿å­˜è®¡ç®—ç»“æœï¼Œé¿å…é‡å¤è®¡ç®—ã€‚</p><h2 id="é€’å½’æœç´¢-ä¿å­˜è®¡ç®—ç»“æœ-è®°å¿†åŒ–æœç´¢">é€’å½’æœç´¢ + ä¿å­˜è®¡ç®—ç»“æœ =è®°å¿†åŒ–æœç´¢</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; memo;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">longestCommonSubsequence</span><span class="hljs-params">(string text1, string text2)</span> </span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-type">int</span> len1 = text1.<span class="hljs-built_in">size</span>(), len2 = text2.<span class="hljs-built_in">size</span>();<br>        memo = vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;(len1, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;(len2, <span class="hljs-number">-1</span>));<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">dp</span>(text1, len1 - <span class="hljs-number">1</span>, text2, len2 - <span class="hljs-number">1</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">dp</span><span class="hljs-params">(<span class="hljs-type">const</span> string &amp;text1, <span class="hljs-type">int</span> end1, <span class="hljs-type">const</span> string &amp;text2, <span class="hljs-type">int</span> end2)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">if</span>(end1 == <span class="hljs-number">-1</span> || end2 == <span class="hljs-number">-1</span>)<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">if</span>(memo[end1][end2] != <span class="hljs-number">-1</span>)<br>            <span class="hljs-keyword">return</span> memo[end1][end2];<br><br>        <span class="hljs-keyword">if</span>(text1[end1] == text2[end2])<br>            memo[end1][end2] = <span class="hljs-built_in">dp</span>(text1, end1 - <span class="hljs-number">1</span>, text2, end2 - <span class="hljs-number">1</span>) + <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">else</span><br>            memo[end1][end2] = <span class="hljs-built_in">max</span>(<span class="hljs-built_in">dp</span>(text1, end1 - <span class="hljs-number">1</span>, text2, end2), <span class="hljs-built_in">dp</span>(text1, end1, text2, end2 - <span class="hljs-number">1</span>));<br>        <span class="hljs-keyword">return</span> memo[end1][end2];<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="è¿­ä»£é€’æ¨">è¿­ä»£é€’æ¨</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; memo;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">longestCommonSubsequence</span><span class="hljs-params">(string text1, string text2)</span> </span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-type">int</span> len1 = text1.<span class="hljs-built_in">size</span>(), len2 = text2.<span class="hljs-built_in">size</span>();<br>        memo = vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;(len1 + <span class="hljs-number">1</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;(len2 + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>));<br>        memo[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = memo[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>] = memo[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; len1; ++i)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; len2; ++j)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(text1[i] == text2[j])<br>                    memo[i + <span class="hljs-number">1</span>][j + <span class="hljs-number">1</span>] = memo[i][j] + <span class="hljs-number">1</span>;<br>                <span class="hljs-keyword">else</span>    <br>                    memo[i + <span class="hljs-number">1</span>][j + <span class="hljs-number">1</span>] = <span class="hljs-built_in">max</span>(memo[i][j + <span class="hljs-number">1</span>], memo[i + <span class="hljs-number">1</span>][j]);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> memo[len1][len2];<br>    &#125;<br><br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="ç©ºé—´ä¼˜åŒ–ä¸€ä¸ªæ•°ç»„">ç©ºé—´ä¼˜åŒ–ï¼ˆä¸€ä¸ªæ•°ç»„ï¼‰</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    vector&lt;<span class="hljs-type">int</span>&gt; memo;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">longestCommonSubsequence</span><span class="hljs-params">(string text1, string text2)</span> </span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-type">int</span> len1 = text1.<span class="hljs-built_in">size</span>(), len2 = text2.<span class="hljs-built_in">size</span>();<br>        memo = <span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;(len2 + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>        <span class="hljs-type">int</span> pre = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; len1; ++i)<br>        &#123;   <br>            pre = <span class="hljs-number">0</span>;        <span class="hljs-comment">// æ¯æ¬¡++iä¹‹åjåˆä»0å¼€å§‹ï¼Œpre = memo[j] = äºŒç»´memo[i][0] = 0</span><br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; len2; ++j)<br>            &#123;   <br>                <span class="hljs-type">int</span> tmp = memo[j + <span class="hljs-number">1</span>];      <span class="hljs-comment">// temp == äºŒç»´memo[i][j + 1]</span><br>                <span class="hljs-keyword">if</span>(text1[i] == text2[j])<br>                    memo[j + <span class="hljs-number">1</span>] = pre + <span class="hljs-number">1</span>;   <span class="hljs-comment">// memo[j + 1] == äºŒç»´memo[i + 1][j + 1]</span><br>                <span class="hljs-keyword">else</span>    <br>                    memo[j + <span class="hljs-number">1</span>] = <span class="hljs-built_in">max</span>(tmp, memo[j]);     <span class="hljs-comment">// memo[j + 1] == äºŒç»´memo[i + 1][j + 1]</span><br>                pre = tmp;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> memo[len2];<br>    &#125;<br><br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•°æ®ç»“æ„ä¸ç®—æ³•</tag>
      
      <tag>leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç¼€æ ‘</title>
    <link href="/2023/04/08/%E5%89%8D%E7%BC%80%E6%A0%91/"/>
    <url>/2023/04/08/%E5%89%8D%E7%BC%80%E6%A0%91/</url>
    
    <content type="html"><![CDATA[<h1 id="å‰ç¼€æ ‘">å‰ç¼€æ ‘</h1><p>å‰ç¼€æ ‘ï¼ˆåˆç§°ä¸ºå­—å…¸æ ‘æˆ–è€…ç§°ä¸ºå­—å…¸æ˜ å°„æ ‘ã€æŸ¥æ‰¾æ ‘ï¼‰ï¼Œæ˜¯ä¸€ç§æ ‘å½¢ç»“æ„ã€‚å‰ç¼€æ ‘çš„ä½œç”¨æ˜¯ï¼šå¯¹äºä¸€ç»„å­—ç¬¦ä¸²ï¼Œæ‰¾åˆ°è¿™ç»„å­—ç¬¦ä¸²çš„å…¬å…±å‰ç¼€ï¼Œæˆ–è€…åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦æ˜¯è¿™ç»„å­—ç¬¦ä¸²ä¸­çš„æŸä¸€ä¸ªä¸²çš„å‰ç¼€ã€‚</p><p>å‰ç¼€æ ‘çš„ä¸»è¦æ€§è´¨æ˜¯ï¼šæ ¹èŠ‚ç‚¹ä¸åŒ…å«å­—ç¬¦,æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹åŒ…å«çš„å­—ç¬¦éƒ½ä¸ç›¸åŒã€‚å¦å¤–ï¼Œä»æ ¹èŠ‚ç‚¹åˆ°æŸä¸€ä¸ªèŠ‚ç‚¹ï¼Œè·¯å¾„ä¸Šç»è¿‡çš„å­—ç¬¦è¿æ¥èµ·æ¥ï¼Œå³ä¸ºè¯¥èŠ‚ç‚¹å¯¹åº”çš„å­—ç¬¦ä¸²ã€‚</p><p>ä»¥ä¸‹æ˜¯å‰ç¼€æ ‘çš„æ—¶é—´å¤æ‚åº¦æè¿°ï¼š</p><table><thead><tr class="header"><th>ç©ºé—´å¤æ‚åº¦</th><th>æ—¶é—´å¤æ‚åº¦</th><th>ç©ºé—´å¤æ‚åº¦æè¿°</th><th>æ—¶é—´å¤æ‚åº¦æè¿°</th></tr></thead><tbody><tr class="odd"><td>O(å­—ç¬¦ä¸²æ€»é•¿åº¦)</td><td>O(å­—ç¬¦ä¸²æ€»é•¿åº¦)</td><td>å„å­—ç¬¦ä¸²çš„å­—ç¬¦æ•°ä¹‹å’Œ</td><td>æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤çš„æ—¶é—´å¤æ‚åº¦å‡ä¸ºO(å­—ç¬¦ä¸²é•¿åº¦)</td></tr></tbody></table><p>å­—å…¸æ ‘çš„åº”ç”¨åœºæ™¯éå¸¸å¹¿æ³›ï¼Œæ¯”å¦‚å­—ç¬¦ä¸²çš„åŒ¹é… (Trie),æ’åºã€æ ‘å½¢ç»Ÿè®¡å’Œä¿¡æ¯æ£€ç´¢ (eg. ç´¢å¼•, å…³é”®è¯æ£€ç´¢, æ¨¡ç³ŠæŸ¥è¯¢) ç­‰ç­‰ã€‚</p><p>å‰ç¼€æ ‘çš„å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Trie</span> <br>&#123;<br><span class="hljs-keyword">public</span>:<br>    vector&lt;Trie*&gt; children;<br>    <span class="hljs-type">bool</span> is_end_;<br>    <span class="hljs-built_in">Trie</span>() : <span class="hljs-built_in">children</span>(<span class="hljs-number">26</span>),  <span class="hljs-built_in">is_end_</span>(<span class="hljs-literal">false</span>)<br>    &#123;   <br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(string word)</span>    <span class="hljs-comment">// è¾“å…¥å­—ç¬¦ä¸²</span></span><br><span class="hljs-function">    </span>&#123;<br>        Trie *node = <span class="hljs-keyword">this</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;c : word)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(node -&gt; children[c - <span class="hljs-string">&#x27;a&#x27;</span>] == <span class="hljs-literal">nullptr</span>)<br>                node -&gt; children[c - <span class="hljs-string">&#x27;a&#x27;</span>] = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Trie</span>();<br><br>            node = node -&gt; children[c - <span class="hljs-string">&#x27;a&#x27;</span>];<br>        &#125;<br>        node -&gt; is_end_ = <span class="hljs-literal">true</span>;<br><br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">search</span><span class="hljs-params">(string word)</span>    <span class="hljs-comment">// æŸ¥æ‰¾wordæ˜¯å¦åœ¨å‰ç¼€æ ‘ä¸­æ’å…¥è¿‡</span></span><br><span class="hljs-function">    </span>&#123;<br>        Trie *node = <span class="hljs-built_in">searchPrefix</span>(word);<br>        <span class="hljs-keyword">return</span> node != <span class="hljs-literal">nullptr</span> &amp;&amp; node -&gt; is_end_ == <span class="hljs-literal">true</span>;<br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">startsWith</span><span class="hljs-params">(string prefix)</span>  <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦ä»¥wordä¸ºå‰ç¼€</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">searchPrefix</span>(prefix);<br>    &#125;<br><br>    <span class="hljs-function">Trie* <span class="hljs-title">searchPrefix</span><span class="hljs-params">(string word)</span> </span><br><span class="hljs-function">    </span>&#123;<br>        Trie *node = <span class="hljs-keyword">this</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;c : word)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(node -&gt; children[c - <span class="hljs-string">&#x27;a&#x27;</span>] == <span class="hljs-literal">nullptr</span>)<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;<br>            node = node -&gt; children[c - <span class="hljs-string">&#x27;a&#x27;</span>];<br>        &#125;<br>        <span class="hljs-keyword">return</span> node;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•°æ®ç»“æ„ä¸ç®—æ³•</tag>
      
      <tag>leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å•è°ƒæ ˆ</title>
    <link href="/2023/04/08/%E5%8D%95%E8%B0%83%E6%A0%88/"/>
    <url>/2023/04/08/%E5%8D%95%E8%B0%83%E6%A0%88/</url>
    
    <content type="html"><![CDATA[<h1 id="å•è°ƒæ ˆ">å•è°ƒæ ˆ</h1><p>å•è°ƒæ ˆæ˜¯ä¸€ç§è¿ç”¨æ ˆæ•°æ®ç»“æ„æ¥è§£å†³ä¸€äº›ç‰¹å®šé—®é¢˜çš„è§£é¢˜æŠ€å·§ã€‚å®ƒä¸»è¦ç”¨äºè§£å†³éœ€è¦å¿«é€Ÿå¯»æ‰¾<strong>ä¸€ä¸ªå…ƒç´ å·¦(æˆ–å³)è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§(æˆ–å°)çš„å…ƒç´ </strong>çš„é—®é¢˜ã€‚</p><p>ä½¿ç”¨å•è°ƒæ ˆçš„åŸºæœ¬æ€è·¯æ˜¯ä¿æŒæ ˆå†…çš„å…ƒç´ å•è°ƒé€’å¢æˆ–å•è°ƒé€’å‡ï¼Œæ ˆé¡¶å…ƒç´ æ˜¯å½“å‰æ ˆå†…æœ€å¤§æˆ–æœ€å°çš„å…ƒç´ ï¼ŒåŒæ—¶è®°å½•ä¸‹æ¯ä¸ªå…ƒç´ çš„ç›¸å…³ä¿¡æ¯ï¼Œå¦‚åæ ‡ã€é¢ç§¯ã€æ•°é‡ç­‰ï¼Œæ ¹æ®è¿™äº›ä¿¡æ¯è®¡ç®—å‡ºæ‰€éœ€çš„ç»“æœã€‚</p><p>å•è°ƒæ ˆçš„å®ç°ä¸»è¦æœ‰ä¸¤ç§ï¼Œç¬¬ä¸€ç§æ˜¯ä»å‰å¾€åéå†æ•°ç»„ï¼Œç¬¬äºŒç§æ˜¯ä»åå¾€å‰éå†æ•°ç»„ã€‚</p><p>ä»¥å¯»æ‰¾æ•°ç»„ä¸­å½“å‰å…ƒç´ å³ä¾§ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„æ•°ä¸ºä¾‹,ç¬¬ä¸€ç§å®ç°æ–¹å¼ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// ä»å‰å¾€åéå†</span><br><span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">nextGreaterElement</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt; &amp;nums)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> n = nums.<span class="hljs-built_in">size</span>();<br>    stack&lt;<span class="hljs-type">int</span>&gt; s;<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">res</span><span class="hljs-params">(n, <span class="hljs-number">-1</span>)</span></span>; <span class="hljs-comment">// å³ä¾§æ²¡æœ‰æ¯”å®ƒå¤§çš„æ•°æ—¶å¯¹åº”resä¸º-1ï¼Œæ‰€ä»¥åˆå§‹å€¼å…¨éƒ¨è®¾ç½®ä¸º-1</span><br><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<br>    &#123;<br>        <span class="hljs-comment">// å½“å‰å…ƒç´ å¤§äºæ ˆé¡¶å…ƒç´ æ—¶ï¼Œå½“å‰å…ƒç´ å°±æ˜¯æ ˆé¡¶å…ƒç´ å³ä¾§ç¬¬ä¸€ä¸ªå¤§äºæ ˆé¡¶çš„å…ƒç´ ï¼Œå¹¶å°†æ ˆé¡¶å‡ºæ ˆ</span><br>        <span class="hljs-keyword">while</span>(!s.<span class="hljs-built_in">empty</span>() &amp;&amp; nums[s.<span class="hljs-built_in">top</span>()] &lt; nums[i])    <br>        &#123;<br>            res[s.<span class="hljs-built_in">top</span>()] = nums[i];<br>            s.<span class="hljs-built_in">pop</span>();<br>        &#125;<br>        s.<span class="hljs-built_in">emplace</span>(i);<br>    &#125;<br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç¬¬äºŒç§å®ç°æ–¹å¼ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// ä»åå¾€å‰éå†</span><br><span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">nextGreaterElement</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt; &amp;nums)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> n = nums.<span class="hljs-built_in">size</span>();<br>    stack&lt;<span class="hljs-type">int</span>&gt; s;<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">res</span><span class="hljs-params">(n, <span class="hljs-number">-1</span>)</span></span>; <span class="hljs-comment">// å³ä¾§æ²¡æœ‰æ¯”å®ƒå¤§çš„æ•°æ—¶å¯¹åº”resä¸º-1ï¼Œæ‰€ä»¥åˆå§‹å€¼å…¨éƒ¨è®¾ç½®ä¸º-1</span><br><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = n - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; --i)     <br>    &#123;<br>        <span class="hljs-comment">// æ ˆé¡¶å…ƒç´ åœ¨å½“å‰å…ƒç´ å³ä¾§ï¼Œå½“æ ˆé¡¶å…ƒç´ å°äºæˆ–ç­‰äºå½“å‰å…ƒç´ çš„æ—¶å€™ï¼Œå°†å…¶å‡ºæ ˆï¼Œç»§ç»­å¯»æ‰¾å½“å‰å…ƒç´ å³ä¾§ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„å…ƒç´ </span><br>        <span class="hljs-keyword">while</span>(!s.<span class="hljs-built_in">empty</span>() &amp;&amp; s.<span class="hljs-built_in">top</span>() &lt;= nums[i])  <br>            s.<span class="hljs-built_in">pop</span>();<br>        res[i] = s.<span class="hljs-built_in">empty</span>() ? <span class="hljs-number">-1</span> : s.<span class="hljs-built_in">top</span>();<br>        s.<span class="hljs-built_in">emplace</span>(nums[i]);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•°æ®ç»“æ„ä¸ç®—æ³•</tag>
      
      <tag>leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¿«é€Ÿæ’åº</title>
    <link href="/2023/04/04/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/"/>
    <url>/2023/04/04/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/</url>
    
    <content type="html"><![CDATA[<h1 id="å¿«æ’ç®—æ³•">å¿«æ’ç®—æ³•</h1><p>å¿«é€Ÿæ’åºæ˜¯ä¸€ç§å¸¸è§çš„æ’åºç®—æ³•ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯åˆ†æ²»æ³•ã€‚ä¸‹é¢æ˜¯å¿«é€Ÿæ’åºçš„æ­¥éª¤ï¼š</p><ol type="1"><li>é€‰å–ä¸€ä¸ªåŸºå‡†æ•°ï¼ˆpivotï¼‰</li><li>å°†åºåˆ—ä¸­æ¯”åŸºå‡†æ•°å¤§çš„å…ƒç´ æ”¾åœ¨åŸºå‡†æ•°çš„å³è¾¹ï¼Œæ¯”åŸºå‡†æ•°å°çš„å…ƒç´ æ”¾åœ¨åŸºå‡†æ•°çš„å·¦è¾¹ã€‚</li><li>é€’å½’åœ°å¯¹åŸºå‡†æ•°å·¦å³ä¸¤è¾¹çš„åºåˆ—è¿›è¡Œæ’åºï¼Œç›´åˆ°åºåˆ—é•¿åº¦ä¸º1æˆ–0ã€‚</li></ol><p>å¿«é€Ÿæ’åºä¸­æœ€é‡è¦çš„å°±æ˜¯ç¬¬2æ­¥ï¼Œä¹Ÿå°±æ˜¯<code>partation</code>é˜¶æ®µã€‚å¿«é€Ÿæ’åºæœ‰å¾ˆå¤šä¸åŒçš„å®ç°æ–¹å¼ï¼Œæ¯æ¬¡é€‰æ‹©æœ€å³ä¾§çš„æ•°ä½œä¸º<code>pivot</code>è¿›è¡Œ<code>partation</code>ã€‚<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">partation</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt; &amp;nums, <span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span></span><br><span class="hljs-function"></span>&#123;<br>   <span class="hljs-type">int</span> pvoit = nums[right];     <span class="hljs-comment">// é€‰æ‹©æœ€å³ä¾§çš„æ•°ä½œä¸ºpivot</span><br>   <span class="hljs-type">int</span> i = left - <span class="hljs-number">1</span>;<br>   <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = left; j &lt;= right; ++j)<br>   &#123;<br>      <span class="hljs-keyword">if</span>(nums[j] &lt;= pvoit)<br>      &#123;<br>          ++i;<br>          <span class="hljs-built_in">swap</span>(nums[i], nums[j]);<br>      &#125;<br>   &#125;<br>   <span class="hljs-keyword">return</span> i;<br>&#125;<br></code></pre></td></tr></table></figure></p><p>é€šè¿‡ä¸Šé¢çš„ä»£ç æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œæ¯æ¬¡<code>partation</code>å¿…ç„¶ä¼šå°†ä¸€ä¸ªæ•°æ”¾åˆ°æœ€ç»ˆçš„ä½ç½®ï¼Œç„¶åå†é€’å½’å¤„ç†<code>pivot</code>å·¦å³ä¸¤ä¾§çš„åŒºé—´ï¼Œé‚£ä¹ˆæœ€å¥½çš„æƒ…å†µå°±æ˜¯æ¯æ¬¡<code>partation</code>éƒ½å°†æ•°ç»„ä¸¤ç­‰åˆ†ï¼Œè€Œæœ€åçš„æƒ…å†µæ˜¯æ¯æ¬¡<code>partation</code>åˆ’åˆ†å‡ºçš„åŒºé—´éƒ½åœ¨<code>pivot</code>çš„ä¸€ä¾§ã€‚</p><p>é‚£ä¹ˆå¦‚ä½•é¿å…æœ€åæƒ…å†µçš„å‘ç”Ÿå‘¢ï¼Ÿè¿™é‡Œå¯ä»¥æ¯æ¬¡é€‰æ‹©ä¸€ä¸ªéšæœºæ•°ä½œä¸º<code>pivot</code>ç„¶åè¿›è¡Œåˆ’åˆ†ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">randomPartation</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt; &amp;nums, <span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span></span><br><span class="hljs-function"></span>&#123;<br>   <span class="hljs-type">int</span> p = <span class="hljs-built_in">rand</span>() % (right - left + <span class="hljs-number">1</span>) + left;<br>   <span class="hljs-built_in">swap</span>(nums[p], nums[right]);      <span class="hljs-comment">// å°†éšæœºé€‰å‡ºçš„æ•°ä¸æœ€å³ä¾§æ•°äº¤æ¢</span><br>   <span class="hljs-keyword">return</span> <span class="hljs-built_in">partation</span>(nums, left, right); <br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">partation</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt; &amp;nums, <span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span></span><br><span class="hljs-function"></span>&#123;<br>  <span class="hljs-type">int</span> pvoit = nums[right];<br>  <span class="hljs-type">int</span> i = left - <span class="hljs-number">1</span>;<br>  <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = left; j &lt;= right; ++j)<br>  &#123;<br>      <span class="hljs-keyword">if</span>(nums[j] &lt;= pvoit)<br>      &#123;<br>          ++i;<br>          <span class="hljs-built_in">swap</span>(nums[i], nums[j]);<br>      &#125;<br>  &#125;<br>  <span class="hljs-keyword">return</span> i;<br>&#125;<br></code></pre></td></tr></table></figure><p>å®Œæ•´çš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// å¿«é€Ÿæ’åº</span><br><span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">sortArray</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span><br><span class="hljs-function"></span>&#123;<br>   <span class="hljs-built_in">srand</span>((<span class="hljs-type">unsigned</span>)<span class="hljs-built_in">time</span>(<span class="hljs-literal">NULL</span>));<br>   <span class="hljs-built_in">randomQuickSort</span>(nums, <span class="hljs-number">0</span>, (<span class="hljs-type">int</span>)nums.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>);<br>   <span class="hljs-keyword">return</span> nums;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">randomQuickSort</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt; &amp;nums, <span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span></span><br><span class="hljs-function"></span>&#123;<br>   <span class="hljs-keyword">if</span>(left &gt;= right)<br>      <span class="hljs-keyword">return</span> ;<br>   <span class="hljs-type">int</span> p = <span class="hljs-built_in">randomPartation</span>(nums, left, right);<br>   <span class="hljs-built_in">randomQuickSort</span>(nums, left, p - <span class="hljs-number">1</span>);<br>   <span class="hljs-built_in">randomQuickSort</span>(nums, p + <span class="hljs-number">1</span>, right);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">randomPartation</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt; &amp;nums, <span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span></span><br><span class="hljs-function"></span>&#123;<br>   <span class="hljs-type">int</span> p = <span class="hljs-built_in">rand</span>() % (right - left + <span class="hljs-number">1</span>) + left;<br>   <span class="hljs-built_in">swap</span>(nums[p], nums[right]);      <span class="hljs-comment">// å°†éšæœºé€‰å‡ºçš„æ•°ä¸æœ€å³ä¾§æ•°äº¤æ¢</span><br>   <span class="hljs-keyword">return</span> <span class="hljs-built_in">partation</span>(nums, left, right); <br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">partation</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt; &amp;nums, <span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span></span><br><span class="hljs-function"></span>&#123;<br>  <span class="hljs-type">int</span> pvoit = nums[right];<br>  <span class="hljs-type">int</span> i = left - <span class="hljs-number">1</span>;<br>  <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = left; j &lt;= right; ++j)<br>  &#123;<br>      <span class="hljs-keyword">if</span>(nums[j] &lt;= pvoit)<br>      &#123;<br>          ++i;<br>          <span class="hljs-built_in">swap</span>(nums[i], nums[j]);<br>      &#125;<br>  &#125;<br>  <span class="hljs-keyword">return</span> i;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•°æ®ç»“æ„ä¸ç®—æ³•</tag>
      
      <tag>leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>äºŒåˆ†æ³•</title>
    <link href="/2023/04/04/%E4%BA%8C%E5%88%86%E6%B3%95/"/>
    <url>/2023/04/04/%E4%BA%8C%E5%88%86%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="äºŒåˆ†æ³•">äºŒåˆ†æ³•</h1><p>äºŒåˆ†æ³•ä½œä¸ºä¸€ç§å¸¸è§çš„æŸ¥æ‰¾ç®—æ³•ï¼Œå…¶å®ä¸å•å•å¯ä»¥åªå¯»æ‰¾æŸä¸€ä¸ªæ•°ã€‚</p><h2 id="æœ€åŸºæœ¬çš„äºŒåˆ†æŸ¥æ‰¾">æœ€åŸºæœ¬çš„äºŒåˆ†æŸ¥æ‰¾</h2><p>æœç´¢ä¸€ä¸ªæ•°ï¼Œå¦‚æœå­˜åœ¨ï¼Œè¿”å›å…¶ç´¢å¼•ï¼Œå¦åˆ™è¿”å› -1ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// æœç´¢ä¸€ä¸ªæ•°</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">binarySearch</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums, <span class="hljs-type">int</span> target)</span> </span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> left = <span class="hljs-number">0</span>;<br>    <span class="hljs-type">int</span> right = nums.<span class="hljs-built_in">size</span>(); <span class="hljs-comment">// å®šä¹‰targetåœ¨å·¦é—­å³å¼€çš„åŒºé—´é‡Œï¼Œå³ï¼š[left, right)</span><br>    <span class="hljs-keyword">while</span> (left &lt; right) <br>    &#123;   <span class="hljs-comment">// å› ä¸ºleft == rightçš„æ—¶å€™ï¼Œåœ¨[left, right)æ˜¯æ— æ•ˆçš„ç©ºé—´ï¼Œæ‰€ä»¥ä½¿ç”¨ &lt;</span><br>        <span class="hljs-type">int</span> mid = left + ((right - left) &gt;&gt; <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">if</span> (nums[mid] &gt; target) <br>            right = mid;    <span class="hljs-comment">// target åœ¨å·¦åŒºé—´ï¼Œåœ¨[left, mid)ä¸­</span><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (nums[mid] &lt; target)<br>            left = mid + <span class="hljs-number">1</span>; <span class="hljs-comment">// target åœ¨å³åŒºé—´ï¼Œåœ¨[mid + 1, right)ä¸­</span><br>        <span class="hljs-keyword">else</span>                <span class="hljs-comment">// nums[mid] == target</span><br>            <span class="hljs-keyword">return</span> mid;     <span class="hljs-comment">// æ•°ç»„ä¸­æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œç›´æ¥è¿”å›ä¸‹æ ‡</span><br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;              <span class="hljs-comment">// æœªæ‰¾åˆ°ç›®æ ‡å€¼</span><br>&#125;<br><br><br></code></pre></td></tr></table></figure><h2 id="æœç´¢å·¦ä¾§è¾¹ç•Œ">æœç´¢å·¦ä¾§è¾¹ç•Œ</h2><p><img src="/img/ç®—æ³•/äºŒåˆ†æ³•/äºŒåˆ†æ³•æ‹“å±•.png" /></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒæŸ¥æ‰¾æ•°ç»„ä¸­æœ€å·¦ä¾§å¤§äºæˆ–ç­‰äº3çš„æ•°ä¹Ÿå¯ä»¥ä½¿ç”¨äºŒåˆ†æ³•ã€‚é¦–å…ˆå¯¹æ•´ä¸ªæ•°ç»„äºŒåˆ†ï¼Œçœ‹ä¸­é—´çš„æ•°æ˜¯å¦æ»¡è¶³å¤§äºæˆ–ç­‰äº3ï¼Œè‹¥æ»¡è¶³ç»§ç»­åœ¨å·¦ä¾§äºŒåˆ†ï¼Œå¦åˆ™åœ¨å³åŠä¾§äºŒåˆ†ï¼Œä¸€ç›´åˆ°ç»“æŸï¼Œå¾—åˆ°çš„æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„æœ€å°ä¸‹æ ‡å°±æ˜¯æ±‚å¾—çš„ç»“æœã€‚</p><p><strong>è¿™ä¸ªé—®é¢˜ä¸æ™®é€šäºŒåˆ†æ³•æŸ¥æ‰¾çš„åŒºåˆ«åœ¨äº</strong>ï¼šäºŒåˆ†æ³•æ˜¯ä½¿ç”¨äºŒåˆ†æ‰¾ä¸ªä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„æ•°ä¹‹åå°±ç»“æœæŸ¥æ‰¾ï¼Œä½†æ˜¯è¿™é‡Œéœ€è¦ä¸€ç›´äºŒåˆ†åˆ°æœ€åï¼Œç„¶ååœ¨æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„æ•°ä¸­æ¯”è¾ƒã€‚</p><p><strong>æœç´¢å·¦ä¾§è¾¹ç•Œ</strong>çš„äºŒåˆ†æœç´¢ç®—æ³•çš„å…·ä½“ä»£ç å®ç°å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// æœç´¢å·¦ä¾§è¾¹ç•Œ</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">left_bound</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums, <span class="hljs-type">int</span> target)</span> </span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (nums.<span class="hljs-built_in">size</span>() == <span class="hljs-number">0</span>) <br>        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    <span class="hljs-type">int</span> left = <span class="hljs-number">0</span>, right = nums.<span class="hljs-built_in">size</span>();<br>    <br>    <span class="hljs-keyword">while</span> (left &lt; right) <br>    &#123;<br>        <span class="hljs-type">int</span> mid = left + ((right - left) &gt;&gt; <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">if</span> (nums[mid] == target) <br>            right = mid;    <span class="hljs-comment">// å½“æ‰¾åˆ° target æ—¶ï¼Œæ”¶ç¼©å³ä¾§è¾¹ç•Œ</span><br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (nums[mid] &lt; target) <br>            left = mid + <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (nums[mid] &gt; target) <br>            right = mid;<br><br>    &#125;<br>    <span class="hljs-keyword">if</span>(left == nums.<span class="hljs-built_in">size</span>())     <span class="hljs-comment">// æ²¡æœ‰æœç´¢åˆ°</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">return</span> nums[left] == target ? left : <span class="hljs-number">-1</span>;    <span class="hljs-comment">// nums[left] != targetè¯´æ˜æ²¡æœ‰æœç´¢åˆ°ï¼Œè¿”å›-1</span><br>&#125;<br><br></code></pre></td></tr></table></figure><p>æ³¨æ„åœ¨æœç´¢å·¦ä¾§è¾¹ç•Œçš„æ—¶å€™å¹¶ä¸æ˜¯ä¸€æ—¦å‘ç°<code>nums[mid] == target</code>å°±ç›´æ¥è¿”å›ï¼Œå› ä¸ºè¦å¯»æ‰¾æœ€å·¦ä¾§æ»¡è¶³æ¡ä»¶çš„ä¸‹æ ‡ã€‚</p><p>ç®€åŒ–åçš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// ä¼˜åŒ–ç‰ˆæœç´¢å·¦ä¾§è¾¹ç•Œ</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">left_bound</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums, <span class="hljs-type">int</span> target)</span> </span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (nums.<span class="hljs-built_in">size</span>() == <span class="hljs-number">0</span>) <br>        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    <span class="hljs-type">int</span> left = <span class="hljs-number">0</span>, right = nums.<span class="hljs-built_in">size</span>();<br>    <br>    <span class="hljs-keyword">while</span> (left &lt; right) <br>    &#123;<br>        <span class="hljs-type">int</span> mid = left + ((right - left) &gt;&gt; <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">if</span> (nums[mid] &gt;= target) <br>            right = mid;  <br>        <span class="hljs-keyword">else</span><br>            left = mid + <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(left == nums.<span class="hljs-built_in">size</span>())     <span class="hljs-comment">// æ²¡æœ‰æœç´¢åˆ°</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">return</span> nums[left] == target ? left : <span class="hljs-number">-1</span>;    <span class="hljs-comment">// nums[left] != targetè¯´æ˜æ²¡æœ‰æœç´¢åˆ°ï¼Œè¿”å›-1</span><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æœç´¢å³ä¾§è¾¹ç•Œ">æœç´¢å³ä¾§è¾¹ç•Œ</h2><p>æœç´¢å³ä¾§è¾¹ç•Œå…¶å®å’Œæœç´¢å·¦ä¾§è¾¹ç•ŒåŒç†ï¼Œä¸åŒçš„åœ°æ–¹åœ¨äºï¼Œæœç´¢å·¦ä¾§è¾¹ç•Œæ—¶å‡ºç°<code>nums[mid] == target</code>æ—¶<code>right</code>éœ€è¦å‘å·¦æ”¶ç¼©ï¼Œè€Œåœ¨æœç´¢å³ä¾§è¾¹ç•Œçš„æ—¶å€™å‡ºç°<code>nums[mid] == target</code>æ—¶æ˜¯<code>left</code>éœ€è¦å‘å³æ”¶ç¼©ã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// æœç´¢å³ä¾§è¾¹ç•Œ</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">right_bound</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums, <span class="hljs-type">int</span> target)</span> </span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> left = <span class="hljs-number">0</span>, right = nums.<span class="hljs-built_in">size</span>();<br><br>    <span class="hljs-keyword">while</span> (left &lt; right) <br>    &#123;<br>        <span class="hljs-type">int</span> mid = left + (right - left) / <span class="hljs-number">2</span>;<br>        <span class="hljs-keyword">if</span> (nums[mid] == target)<br>            left = mid + <span class="hljs-number">1</span>;     <br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (nums[mid] &lt; target)<br>            left = mid + <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (nums[mid] &gt; target)<br>            right = mid;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(left - <span class="hljs-number">1</span> &lt; <span class="hljs-number">0</span>)    <span class="hljs-comment">// æ²¡æœ‰æœç´¢åˆ°</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">return</span> nums[left - <span class="hljs-number">1</span>] == target ? left - <span class="hljs-number">1</span> : <span class="hljs-number">-1</span>; <span class="hljs-comment">// nums[left - 1] != targetè¯´æ˜æ²¡æœ‰æœç´¢åˆ°ï¼Œè¿”å›-1</span><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å°†<code>nums[mid] == target</code>å’Œ<code>nums[mid] &lt; target</code>çš„æƒ…å†µåˆå¹¶ä¹‹åçš„ç®€åŒ–ç‰ˆä¸ºï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// æœç´¢å³ä¾§è¾¹ç•Œ</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">right_bound</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums, <span class="hljs-type">int</span> target)</span> </span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> left = <span class="hljs-number">0</span>, right = nums.<span class="hljs-built_in">size</span>();<br><br>    <span class="hljs-keyword">while</span> (left &lt; right) <br>    &#123;<br>        <span class="hljs-type">int</span> mid = left + (right - left) / <span class="hljs-number">2</span>;<br>        <span class="hljs-keyword">if</span> (nums[mid] &lt;&gt;= target)<br>            left = mid + <span class="hljs-number">1</span>;     <br>        <span class="hljs-keyword">else</span><br>            right = mid;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(left - <span class="hljs-number">1</span> &lt; <span class="hljs-number">0</span>)    <span class="hljs-comment">// æ²¡æœ‰æœç´¢åˆ°</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">return</span> nums[left - <span class="hljs-number">1</span>] == target ? left - <span class="hljs-number">1</span> : <span class="hljs-number">-1</span>; <span class="hljs-comment">// nums[left - 1] != targetè¯´æ˜æ²¡æœ‰æœç´¢åˆ°ï¼Œè¿”å›-1</span><br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šä¸ç®¡æ˜¯æœç´¢å•ä¸ªå€¼è¿˜æ˜¯å·¦å³ä¾§è¾¹ç•Œï¼Œæ­¤æ¨¡æ¿ä¸­<code>left</code>å’Œ<code>right</code>æ”¶ç¼©çš„æ¨¡å¼æ˜¯ä¸€æ ·çš„ï¼Œå³<code>left</code>å‘å³æ”¶ç¼©æ—¶æ€»æ˜¯<code>left = mid + 1</code>,è€Œ<code>right</code>æ”¶ç¼©æ—¶æ€»æ˜¯<code>right = mid</code>ã€‚ä¸ºä»€ä¹ˆ<code>left</code> çš„æ›´æ–°å¿…é¡»æ˜¯ <code>left = mid + 1</code>ï¼Œå½“ç„¶æ˜¯ä¸ºäº†æŠŠ<code>nums[mid]</code>æ’é™¤å‡ºæœç´¢åŒºé—´ã€‚è®°ä½è¿™ä¸€ç‚¹ä¾¿å¾ˆå®¹æ˜“è®°ä¸‹ä¸‰ç§ä¸åŒçš„æ¨¡æ¿ã€‚</p><p>å¦å¤–ï¼Œæœç´¢å·¦å³ä¾§è¾¹ç•Œæ—¶çš„è¿”å›ä¹Ÿä¸ä¸€æ ·ï¼Œæœç´¢å·¦ä¾§è¾¹ç•Œçš„æ—¶å€™è¿”å›æ˜¯<code>left</code>ï¼Œè€Œåœ¨æœç´¢å³ä¾§è¾¹ç•Œçš„æ—¶å€™è¿”å›æ˜¯<code>left - 1</code>ï¼Œå› ä¸ºæˆ‘ä»¬å¯¹<code>left</code> çš„æ›´æ–°å¿…é¡»æ˜¯ <code>left = mid + 1</code>ï¼Œå°±æ˜¯è¯´ whileå¾ªç¯ç»“æŸæ—¶ï¼Œ<code>nums[left]</code> ä¸€å®šä¸ç­‰äº <code>target</code>äº†ï¼Œè€Œ <code>nums[left-1]</code> å¯èƒ½æ˜¯ <code>target</code>ã€‚</p><h2 id="å¯»æ‰¾å±€éƒ¨æœ€å°å€¼">å¯»æ‰¾å±€éƒ¨æœ€å°å€¼</h2><p>åœ¨ä¸€ä¸ªæ— åºæ•°ç»„arrä¸­ï¼Œç›¸é‚»çš„æ•°éƒ½ä¸ç›¸åŒï¼Œé‚£ä¹ˆå¦‚ä½•åœ¨è¿™ä¸ªæ•°ç»„arrä¸­æ‰¾åˆ°ä¸€ä¸ªå±€éƒ¨æœ€å°å€¼ï¼Ÿè¿™é‡Œçš„æå°å€¼å®šä¹‰æ˜¯æ¯”å·¦å³ä¸¤ä¾§éƒ½å°çš„æ•°ï¼Œåœ¨æ•°ç»„æœ€å·¦ä¾§åˆ™åªéœ€è¦æ»¡è¶³æ¯”å®ƒå³ä¾§çš„æ•°å°ï¼Œåœ¨æ•°ç»„æœ€å³ä¾§çš„æ•°åªéœ€è¦æ»¡è¶³æ¯”å®ƒå·¦ä¾§çš„æ•°å°å³å¯ã€‚</p><p>é¦–å…ˆåˆ¤æ–­<code>arr[0]</code>å’Œ<code>arr[n - 1]</code>æ˜¯å¦æ˜¯æå°å€¼ï¼Œè‹¥å³æå°å€¼åˆ™ç›´æ¥è¿”å›ã€‚è‹¥éƒ½ä¸æ˜¯æå°å€¼é‚£ä¹ˆå–æœ€ä¸­é—´çš„æ•°<code>arr[m]</code>,åˆ¤æ–­<code>arr[m]</code>æ˜¯å¦ä¸ºå±€éƒ¨æœ€å°å€¼ï¼Œè‹¥ä¸ºå±€éƒ¨æœ€å°å€¼åˆ™ç›´æ¥è¿”å›ã€‚</p><p><img src="/img/ç®—æ³•/äºŒåˆ†æ³•/å±€éƒ¨æœ€å°å€¼-2.png" /></p><p>è‹¥ä¸ä¸ºæå°å€¼é‚£ä¹ˆå®ƒè¦ä¹ˆæ¯”å®ƒå·¦ä¾§çš„æ•°å¤§ï¼Œè¦ä¹ˆæ¯”å®ƒå³ä¾§çš„æ•°å¤§ã€‚å‡è®¾å®ƒæ¯”å·¦ä¾§çš„æ•°å¤§ï¼Œé‚£ä¹ˆå°±åœ¨å·¦åŠè¾¹è¿›è¡ŒäºŒåˆ†ï¼Œå¦‚æ­¤ä¸€æ¥ï¼Œå°±å­˜åœ¨äº†äºŒåˆ†çš„ç‚¹ï¼Œç›´è‡³æ‰¾åˆ°ä¸€ä¸ªå±€éƒ¨æœ€å°å€¼ä¸ºæ­¢ã€‚</p><p><img src="/img/ç®—æ³•/äºŒåˆ†æ³•/å±€éƒ¨æœ€å°å€¼-1.png" /></p><p><strong>è¿™é‡Œå¯ä»¥çœ‹å‡ºæ¥äºŒåˆ†æ³•ä¸åªæ˜¯èƒ½ç”¨åœ¨æœ‰åºæ•°ç»„ï¼Œåœ¨æ— åºçš„æƒ…å†µä¸‹æ»¡è¶³ç‰¹å®šæ¡ä»¶ä¹Ÿå¯ä»¥ç”¨äºŒåˆ†ã€‚</strong></p>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•°æ®ç»“æ„ä¸ç®—æ³•</tag>
      
      <tag>leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¹¶æŸ¥é›†</title>
    <link href="/2023/04/03/%E5%B9%B6%E6%9F%A5%E9%9B%86/"/>
    <url>/2023/04/03/%E5%B9%B6%E6%9F%A5%E9%9B%86/</url>
    
    <content type="html"><![CDATA[<h1 id="å¹¶æŸ¥é›†union-find">å¹¶æŸ¥é›†ï¼ˆUNION-FINDï¼‰</h1><p>å¹¶æŸ¥é›†ï¼ˆUnion-FindSetï¼‰æ˜¯ä¸€ç§ç”¨æ¥ç®¡ç†å’Œè§£å†³é›†åˆåˆ†ç»„é—®é¢˜çš„æ•°æ®ç»“æ„ï¼Œå®ƒæ”¯æŒä¸¤ä¸ªæ“ä½œï¼š</p><ul><li><strong>æŸ¥æ‰¾ï¼ˆFindï¼‰</strong>ï¼šæŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ å±äºå“ªä¸ªé›†åˆï¼Œå³æ‰¾å‡ºå…¶æ‰€åœ¨çš„è¿é€šå—ã€‚</li><li><strong>åˆå¹¶ï¼ˆUnionï¼‰</strong>ï¼šå°†ä¸¤ä¸ªä¸ç›¸äº¤çš„é›†åˆåˆå¹¶æˆä¸€ä¸ªæ–°çš„é›†åˆã€‚</li></ul><h2 id="å¹¶æŸ¥é›†æ¨¡æ¿">å¹¶æŸ¥é›†æ¨¡æ¿</h2><p><strong>æŸ¥æ‰¾ï¼ˆFindï¼‰</strong>ï¼šè¿™é‡Œç”¨æ ‘æ¥è¡¨ç¤ºæ˜¯å¦å±äºåŒä¸€ä¸ªæ•°ç»„ï¼Œä½¿ç”¨<strong>æŸ¥æ‰¾ï¼ˆFindï¼‰</strong>æ“ä½œè¿”å›çš„æ˜¯è¯¥èŠ‚ç‚¹æ‰€åœ¨æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œå¦‚æœä¸€ä¸ªèŠ‚ç‚¹<code>x</code>æ‰€åœ¨æ ‘çš„æ ¹èŠ‚ç‚¹å°±æ˜¯<code>x</code>è‡ªå·±ï¼Œé‚£ä¹ˆ<code>findParent(x)</code>è¿”å›çš„ç»“æœå°±æ˜¯<code>x</code>ã€‚</p><p><strong>åˆå¹¶ï¼ˆUnionï¼‰</strong>ï¼šåˆå¹¶ä¸¤ä¸ªèŠ‚ç‚¹<code>x</code>å’Œ<code>y</code>ä¹‹å‰éœ€è¦å…ˆåˆ¤æ–­<code>x</code>å’Œ<code>y</code>æ˜¯å¦å±äºä¸€ä¸ªé›†åˆï¼Œå¦‚æœå·²ç»åœ¨ä¸€ä¸ªé›†åˆé‡Œï¼Œé‚£ä¹ˆç›´æ¥è¿”å›ï¼Œå¦åˆ™å°†<code>x</code>å’Œ<code>y</code>çš„é›†åˆåˆå¹¶ï¼ˆåœ¨æ­¤å®ç°ä¸ºå°†<code>x</code>å’Œ<code>y</code>çš„æ ‘åˆå¹¶ä¸ºä¸€ä¸ªæ ‘ï¼‰ã€‚</p><p>åˆå¹¶ä¸¤ä¸ªé›†åˆæœ€åŸå§‹çš„æ–¹å¼å°±æ˜¯å°†ä¸€ä¸ªèŠ‚ç‚¹çš„æ ¹èŠ‚ç‚¹æ¥åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹çš„æ ¹èŠ‚ç‚¹ä¸Šï¼š</p><p><img src="/img/ç®—æ³•/å¹¶æŸ¥é›†/åŸå§‹åˆå¹¶.jpg" /></p><p>å…¶å®å°±æ˜¯ä¸€ä¸ªæ ‘ç»“æ„ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„ç¥–å…ˆèŠ‚ç‚¹æ˜¯å…¶æ‰€åœ¨çš„é›†åˆï¼Œé‚£ä¹ˆå°±ä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œæ ‘ä¼šé€€åŒ–ä¸ºä¸€ä¸ªé“¾è¡¨ï¼Œè¿™æ—¶å€™çš„<strong>æŸ¥æ‰¾</strong>æ—¶é—´å¤æ‚åº¦ä¸º<code>O(N)</code>ï¼Œä¸Šé¢çš„<code>findParent</code>å‡½æ•°å¯ä»¥åœ¨æŸ¥æ‰¾è¿‡ç¨‹ä¸­å°†æ ‘ç»“æ„è¿›è¡Œå‹ç¼©ï¼Œå‹ç¼©ä¹‹åçš„ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶äº²èŠ‚ç‚¹ä¸ºæ‰€åœ¨æ ‘çš„æ ¹èŠ‚ç‚¹ï¼š</p><p><img src="/img/ç®—æ³•/å¹¶æŸ¥é›†/è·¯å¾„å‹ç¼©.jpg" /></p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">findParent</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(x != parent[x])<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">findParent</span>(parent[x]);<br>    <span class="hljs-keyword">return</span> parent[x];<br>&#125;<br></code></pre></td></tr></table></figure><p>å…¶æŸ¥æ‰¾è¿‡ç¨‹ä¾¿æ˜¯å‹ç¼©è¿‡ç¨‹ï¼Œè§ä¸‹é¢çš„åŠ¨å›¾ï¼š</p><p><img src="/img/ç®—æ³•/å¹¶æŸ¥é›†/è·¯å¾„å‹ç¼©åŠ¨å›¾.gif" /></p><p>å¹¶æŸ¥é›†çš„æ¨¡æ¿å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">UF</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">UF</span>(<span class="hljs-type">int</span> n)   <span class="hljs-comment">// æ„é€ å‡½æ•°ï¼Œè¾“å…¥nä¸ºèŠ‚ç‚¹ä¸ªæ•°</span><br>    &#123;<br>        parent = <span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;(n);    <span class="hljs-comment">// n + 1æ˜¯å¯ä»¥parent[i]ä¸ºç¬¬iä¸ªèŠ‚ç‚¹çš„ç¥–å…ˆï¼Œè§†æƒ…å†µè€Œå®š</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<br>            parent[i] = i;      <span class="hljs-comment">// åˆå§‹æ—¶æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯å•ç‹¬çš„ç»“åˆ</span><br>        count = n;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">findParent</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">if</span>(x != parent[x])      <span class="hljs-comment">// è·¯å¾„å‹ç¼©</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-built_in">findParent</span>(parent[x]);<br>        <span class="hljs-keyword">return</span> parent[x];<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">connect</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-type">int</span> parent_x = <span class="hljs-built_in">findParent</span>(x);<br>        <span class="hljs-type">int</span> parent_y = <span class="hljs-built_in">findParent</span>(y);<br><br>        <span class="hljs-keyword">if</span>(parent_x == parent_y)  <span class="hljs-comment">// xï¼Œyå·²ç»å±äºåŒä¸€ä¸ªé›†åˆï¼Œç›´æ¥è¿”å›     </span><br>            <span class="hljs-keyword">return</span> ;<br>        --count;<br>        parent[parent_y] = parent_x;   <span class="hljs-comment">// å°†ä¸¤ä¸ªé›†åˆåˆå¹¶</span><br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">isConnected</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span>  <span class="hljs-comment">// åˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦å±äºä¸€ä¸ªé›†åˆ</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">findParent</span>(x) == <span class="hljs-built_in">findParent</span>(y);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getCount</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">return</span> count;<br>    &#125;<br><span class="hljs-keyword">private</span>:<br>    vector&lt;<span class="hljs-type">int</span>&gt; parent;     <span class="hljs-comment">// parent[i]ä¸ºç¬¬iä¸ªèŠ‚ç‚¹çš„ç¥–å…ˆ</span><br>    <span class="hljs-type">int</span> count;<br>&#125;;<br></code></pre></td></tr></table></figure><p>å‚è€ƒï¼šæœ¬æ–‡ä¸­çš„å›¾å¼•ç”¨è‡ª<ahref="https://labuladong.github.io/algo/di-yi-zhan-da78c/shou-ba-sh-03a72/bing-cha-j-323f3/">labuladongçš„ç®—æ³•å°æŠ„</a>,æ¨¡æ¿å®ç°æ˜¯æ ¹æ®å…¶æ¨¡æ¿ä¿®æ”¹è€Œæ¥ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•°æ®ç»“æ„ä¸ç®—æ³•</tag>
      
      <tag>leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å›¾ç®—æ³•</title>
    <link href="/2023/04/03/Dijkstra%E7%AE%97%E6%B3%95/"/>
    <url>/2023/04/03/Dijkstra%E7%AE%97%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="å›¾ç®—æ³•">å›¾ç®—æ³•</h1><h2 id="dijkstraç®—æ³•">Dijkstraç®—æ³•</h2><p>è¾“å…¥æ˜¯ä¸€ä¸ªå›¾<code>graph</code>,è¿”å›æ˜¯ä¸€ä¸ªæœ€çŸ­è·¯å¾„æƒé‡çš„æ•°ç»„ã€‚</p><p>æ€è·¯ï¼šå°†<code>dis</code>çš„åˆå§‹å€¼å‡º<code>start</code>ä¹‹å¤–è®¾ç½®ä¸º<code>INT_MAX</code>ï¼Œ<code>start</code>è®¾ç½®ä¸º<code>0</code>ï¼Œç„¶åå°†<code>start</code>åŠ å…¥åˆ°ä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­ï¼Œä¾æ¬¡å°†ä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­åˆ°<code>start</code>è·ç¦»æœ€å°çš„èŠ‚ç‚¹<code>cur</code>å¼¹å‡ºï¼Œçœ‹æ˜¯å¦å¯ä»¥æ›´æ–°<code>cur</code>ç›¸é‚»èŠ‚ç‚¹<code>next_node</code>çš„diså€¼ï¼Œå¦‚æœå‡ºç°ä¸‹é¢<code>next_cost &lt; dis[edge.first]</code>çš„æƒ…å†µï¼Œé‚£ä¹ˆå°±è¡¨ç¤º<code>next_node</code>çš„å€¼å¯ä»¥è¢«æ›´æ–°ï¼Œä¸”æ–°çš„æœ€çŸ­è·ç¦»æ˜¯ç»è¿‡<code>cur</code>çš„ï¼ŒåŒæ—¶å°†<code>next_node</code>åŠ å…¥åˆ°ä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­ã€‚é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œæœ€ç»ˆå¾—åˆ°çš„<code>dis</code>æ•°ç»„å°±æ˜¯<code>start</code>åˆ°å…¶ä»–èŠ‚ç‚¹çš„è·ç¦»ã€‚<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// graphä¸ºè¾“å…¥çš„å›¾ï¼Œgraph[i]ä¸ºèŠ‚ç‚¹içš„é‚»æ¥è¡¨ï¼Œpair.firstä¸ºç›¸é‚»çš„èŠ‚ç‚¹ç¼–å·,pair.secondä¸ºè¯¥è¾¹çš„æƒé‡</span><br><span class="hljs-comment">// startä¸ºèµ·ç‚¹</span><br><span class="hljs-comment">// nä¸ºå›¾çš„èŠ‚ç‚¹ä¸ªæ•°</span><br><span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">Dijkstra</span><span class="hljs-params">(vector&lt;vector&lt;pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt;&gt;&gt; &amp;graph, <span class="hljs-type">int</span> start, <span class="hljs-type">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">dis</span><span class="hljs-params">(n + <span class="hljs-number">1</span>, INT_MAX)</span></span>;   <span class="hljs-comment">// è·ç¦»èµ·ç‚¹çš„è·ç¦»æ•°ç»„,åˆå§‹è®¾ç½®ä¸ºINT_MAX,æ–¹ä¾¿ä»¥åéå†åˆ°ä¹‹åæ›´æ–°</span><br>    <span class="hljs-keyword">auto</span> cmp = [](pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; &amp;p1, pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; &amp;p2) &#123;<span class="hljs-keyword">return</span> p1.second &lt; p2.second;&#125;;<br>    priority_queue&lt;pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt;, vector&lt;pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt;&gt;, <span class="hljs-keyword">decltype</span>(cmp)&gt; <span class="hljs-built_in">pq</span>(cmp);  <span class="hljs-comment">// ä½¿ç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œpair.firstä¸ºèŠ‚ç‚¹ç¼–å·,pair.secondåˆ°è¯¥èŠ‚ç‚¹çš„æœ€å°è·ç¦»</span><br>    dis[start] = <span class="hljs-number">0</span>;<br>    pq.<span class="hljs-built_in">emplace</span>(<span class="hljs-built_in">make_pair</span>(start, <span class="hljs-number">0</span>));<br>    <span class="hljs-keyword">while</span>(!pq.<span class="hljs-built_in">empty</span>())<br>    &#123;<br>        <span class="hljs-keyword">auto</span> [id, cost] = pq.<span class="hljs-built_in">top</span>();<br>        pq.<span class="hljs-built_in">pop</span>();<br>        <span class="hljs-keyword">if</span>(cost &gt; dis[id])  <br>            <span class="hljs-keyword">continue</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> edge : graph[id])<br>        &#123;<br>            <span class="hljs-type">int</span> next_cost = edge.second + dis[id];<br>            <span class="hljs-keyword">if</span>(next_cost &lt; dis[edge.first])     <span class="hljs-comment">// å¦‚æœä¸‹ä¸€ä¸ªèŠ‚ç‚¹costå°äºdiså­˜å‚¨çš„å€¼ï¼Œæ›´æ–°diså¹¶å°†å…¶åŠ å…¥åˆ°ä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­</span><br>            &#123;<br>                dis[edge.first] = next_cost;<br>                pq.<span class="hljs-built_in">emplace</span>(<span class="hljs-built_in">make_pair</span>(edge.first, next_cost));   <span class="hljs-comment">// è¯¥èŠ‚ç‚¹çš„costæ›´æ–°ä¹‹åï¼Œå…¶ç›¸é‚»èŠ‚ç‚¹çš„costå¯èƒ½ä¹Ÿä¼šå› æ­¤æ›´æ–°</span><br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> dis;<br>&#125;<br></code></pre></td></tr></table></figure></p><h2 id="kruskal-æœ€å°ç”Ÿæˆæ ‘ç®—æ³•">Kruskal æœ€å°ç”Ÿæˆæ ‘ç®—æ³•</h2><p>æ€æƒ³ï¼šä»å›¾<code>graph</code>ä¸­æ¯æ¬¡é€‰æ‹©ä¸€æ¡æœ€çŸ­çš„è¾¹<code>e</code>ï¼Œè‹¥åŠ å…¥<code>e</code>ä¹‹åä¸æ„æˆç¯ï¼Œå°†<code>e</code>åŠ å…¥åˆ°æœ€å°ç”Ÿæˆæ ‘çš„ç»“æœä¸­ï¼›é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œä¸€ç›´åˆ°æœ‰<code>n - 1</code>æ¡è¾¹ä¸ºæ­¢ï¼ˆ<code>n</code>ä¸ºå›¾çš„èŠ‚ç‚¹ä¸ªæ•°ï¼Œå› ä¸º<code>n</code>ä¸ªèŠ‚ç‚¹ä¸å­˜åœ¨ç¯çš„è¿é€šå›¾ä¸­å¿…å®šæœ‰<code>n - 1</code>æ¡è¾¹ï¼‰ã€‚</p><p><strong>Kruskalç®—æ³•æ­¥éª¤</strong>ï¼š</p><ol type="1"><li>å°†æ‰€æœ‰è¾¹æŒ‰ç…§æƒé‡ä»å°åˆ°å¤§æ’åº</li><li>åˆå§‹åŒ–ä¸€ä¸ªé›†åˆï¼Œå¹¶ä¸”æŠŠæ‰€æœ‰èŠ‚ç‚¹åˆ†åˆ«åŠ å…¥é›†åˆï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯å•ç‹¬ä¸€ä¸ªé›†åˆã€‚</li><li>éå†æ’åºåçš„è¾¹ï¼Œå°†å®ƒä»¬åŠ å…¥æ ‘ä¸­(å¦‚æœè¾¹çš„ä¸¤ä¸ªèŠ‚ç‚¹ä¸åœ¨åŒä¸€ä¸ªé›†åˆä¸­)ã€‚</li><li>æœ€åå¾—åˆ°çš„treeå°±æ˜¯æœ€å°ç”Ÿæˆæ ‘ã€‚</li></ol><p>è¿™é‡Œå®ç°KRUSKALä½¿ç”¨äº†å¹¶æŸ¥é›†ï¼Œå¹¶æŸ¥é›†çš„æ¦‚å¿µä¸ä»£ç è§<ahref="https://gstarmin.github.io/2023/04/03/%E5%B9%B6%E6%9F%A5%E9%9B%86/">å¹¶æŸ¥é›†</a>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// graph[i] = [x, y, cost]ï¼Œè¡¨ç¤ºèŠ‚ç‚¹xå’Œyä¹‹é—´æœ‰ä¸€æ¡æƒå€¼ä¸ºcostçš„è¾¹</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">Kruskal</span><span class="hljs-params">(<span class="hljs-type">int</span> n, vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&amp; graph)</span> </span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> count = <span class="hljs-number">0</span>;<br>    vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; res;<br>    <span class="hljs-built_in">sort</span>(graph.<span class="hljs-built_in">begin</span>(), graph.<span class="hljs-built_in">end</span>(), [](<span class="hljs-type">const</span> vector&lt;<span class="hljs-type">int</span>&gt; &amp;v1, <span class="hljs-type">const</span> vector&lt;<span class="hljs-type">int</span>&gt; v2) -&gt; <span class="hljs-type">bool</span> &#123;<span class="hljs-keyword">return</span> v1[<span class="hljs-number">2</span>] &lt; v2[<span class="hljs-number">2</span>];&#125;);<br>    <span class="hljs-function">UF <span class="hljs-title">my_uf</span><span class="hljs-params">(n + <span class="hljs-number">1</span>)</span></span>;      <span class="hljs-comment">// å®šä¹‰å¹¶æŸ¥é›†</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> edge : graph)<br>    &#123;<br>        <span class="hljs-type">int</span> x = edge[<span class="hljs-number">0</span>], y = edge[<span class="hljs-number">1</span>], cost = edge[<span class="hljs-number">2</span>];<br>        <span class="hljs-keyword">if</span>(my_uf.<span class="hljs-built_in">isConnected</span>(x, y))    <span class="hljs-comment">// è‹¥xï¼Œyå·²ç»è¿é€šé‚£ä¹ˆä¸èƒ½æŠŠè¿™æ¡è¾¹åŠ å…¥åˆ°ç»“æœä¸­</span><br>            <span class="hljs-keyword">continue</span>;<br>        ++count;<br>        my_uf.<span class="hljs-built_in">unionNode</span>(x, y);<br>        res.<span class="hljs-built_in">emplace_back</span>(edge);     <span class="hljs-comment">// å°†è¿™æ¡è¾¹æ·»åŠ åˆ°ç»“æœä¸­ï¼Œå¯ä»¥æ ¹æ®å®é™…æƒ…å†µæ‰§è¡Œä¸åŒæ“ä½œ</span><br>        <br>    &#125;<br>    <span class="hljs-keyword">return</span> count == n - <span class="hljs-number">1</span> ? res : <span class="hljs-number">-1</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="prim-æœ€ä¸‹ç”Ÿæˆæ ‘ç®—æ³•">Prim æœ€ä¸‹ç”Ÿæˆæ ‘ç®—æ³•</h2><p><code>Prim</code>ç®—æ³•ä¸<code>Kruskal</code>çš„åŒºåˆ«åœ¨äºï¼Œ<code>Kruskal</code>ç®—æ³•æ˜¯æ¯æ¬¡é€‰æ‹©ä¸€æ¡æœ€çŸ­çš„ä¸”ä¸æ„æˆç¯çš„è¾¹ï¼Œè€Œ<code>Prim</code>ç®—æ³•æ˜¯ä½¿ç”¨<code>BFS</code>ç®—æ³•æ€æƒ³å’Œ<code>visited</code>æ•°ç»„é¿å…æˆç¯ï¼Œä¿è¯é€‰å‡ºæ¥çš„è¾¹ä¸€å®šæ˜¯ä¸€æ£µæ ‘ã€‚</p><p><code>Prim</code>ç®—æ³•æ­¥éª¤ï¼š</p><ol type="1"><li>ä»ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹å¼€å§‹ï¼Œå°†è¯¥èŠ‚ç‚¹åŠ å…¥åˆ°å·²è®¿é—®èŠ‚ç‚¹é›†åˆä¸­ã€‚</li><li>åœ¨æœªè®¿é—®èŠ‚ç‚¹ä¸­æ‰¾åˆ°ä¸å·²è®¿é—®èŠ‚ç‚¹é›†åˆä¸­èŠ‚ç‚¹æƒå€¼æœ€å°çš„è¾¹ï¼ˆä¹Ÿå°±æ˜¯è·¨è¶Šå·²è®¿é—®èŠ‚ç‚¹é›†åˆå’Œæœªè®¿é—®èŠ‚ç‚¹ä¸­æŸä¸ªèŠ‚ç‚¹çš„è¾¹ï¼‰ï¼Œå°†è¯¥è¾¹å’Œå¯¹åº”çš„èŠ‚ç‚¹åŠ å…¥åˆ°å·²è®¿é—®èŠ‚ç‚¹é›†åˆä¸­ã€‚</li><li>é‡å¤ç¬¬äºŒæ­¥æ“ä½œï¼Œç›´åˆ°æ‰€æœ‰èŠ‚ç‚¹éƒ½è¢«åŠ å…¥åˆ°å·²è®¿é—®èŠ‚ç‚¹é›†åˆä¸­ä¸ºæ­¢ã€‚</li></ol><p><code>Prim</code>ç®—æ³•ä¹Ÿæ˜¯ä¸€ç§è´ªå¿ƒç®—æ³•,å®ƒçš„æ—¶é—´å¤æ‚åº¦ä¸º<spanclass="math inline">\(O(n^2)\)</span>ï¼Œå…¶ä¸­<code>n</code>ä¸ºèŠ‚ç‚¹ä¸ªæ•°ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œ<code>Prim</code>ç®—æ³•é€šå¸¸ç”¨äºå¤„ç†<strong>ç¨ å¯†å›¾</strong>ä¸­çš„æœ€å°ç”Ÿæˆæ ‘é—®é¢˜ã€‚</p><p>è¿™é‡Œ<code>Prim</code>ç®—æ³•çš„å®ç°ä½¿ç”¨äº†ä¼˜å…ˆçº§é˜Ÿåˆ—<code>priority_queue</code>,å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// graphä¸ºé‚»æ¥è¡¨graph[i] = [node, cost]ï¼Œstartä¸ºPrimç®—æ³•èµ·å§‹èŠ‚ç‚¹</span><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">Prim</span><span class="hljs-params">(<span class="hljs-type">int</span> n, vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&amp; graph, <span class="hljs-type">int</span> start)</span> </span><br><span class="hljs-function"></span>&#123;   <br>    <span class="hljs-keyword">if</span>(graph[start].<span class="hljs-built_in">empty</span>())<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    visited[start] = <span class="hljs-literal">true</span>;<br><br>    <span class="hljs-keyword">auto</span> cmp = [](pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; &amp;p1, pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; &amp;p2) -&gt; <span class="hljs-type">bool</span> &#123;<span class="hljs-keyword">return</span> p1.second &gt; p2.second;&#125;;<br>    priority_queue&lt;pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt;, vector&lt;pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt;&gt;, <span class="hljs-keyword">decltype</span>(cmp)&gt; <span class="hljs-built_in">pq</span>(cmp);<br>    vector&lt;<span class="hljs-type">bool</span>&gt; visited = <span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">bool</span>&gt;(n + <span class="hljs-number">1</span>, <span class="hljs-literal">false</span>);      <span class="hljs-comment">// visitedæ•°ç»„åˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯å¦è®¿é—®è¿‡</span><br><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;edge : graph[start])<br>    &#123;<br>        pq.<span class="hljs-built_in">emplace</span>(<span class="hljs-built_in">make_pair</span>(edge.first, edge.second));<br>    &#125;<br>    <span class="hljs-type">int</span> res = <span class="hljs-number">0</span>, count = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(!pq.<span class="hljs-built_in">empty</span>())<br>    &#123;<br>        <span class="hljs-keyword">auto</span> cur = pq.<span class="hljs-built_in">top</span>();<br>        pq.<span class="hljs-built_in">pop</span>();<br>        <span class="hljs-keyword">if</span>(visited[cur.first])<br>            <span class="hljs-keyword">continue</span>;<br>        visited[cur.first] = <span class="hljs-literal">true</span>;<br>        res += cur.second;      <span class="hljs-comment">// è¿™é‡Œæ˜¯è®¡ç®—æœ€å°ç”Ÿæˆæ ‘è¾¹çš„æƒå€¼ä¹‹å’Œï¼Œå¯ä»¥æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´</span><br>        ++count;<br>        <span class="hljs-keyword">if</span>(count == n - <span class="hljs-number">1</span>)<br>            <span class="hljs-keyword">return</span> res;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;edge : graph[cur.first])<br>        &#123;<br>            <span class="hljs-keyword">if</span>(!visited[edge.first])        <span class="hljs-comment">// å°†å½“å‰èŠ‚ç‚¹çš„é‚»æ¥èŠ‚ç‚¹åŠ å…¥ä¼˜å…ˆçº§é˜Ÿåˆ—</span><br>                pq.<span class="hljs-built_in">emplace</span>(<span class="hljs-built_in">make_pair</span>(edge.first, edge.second));<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æ‹“æ‰‘æ’åºç®—æ³•">æ‹“æ‰‘æ’åºç®—æ³•</h2><p>Leetcodeä¸Šçš„ <ahref="https://leetcode.cn/problems/course-schedule-ii/description/">210.è¯¾ç¨‹è¡¨ II</a> ä¾¿æ˜¯ä¸€é“å…¸å‹çš„æ‹“æ‰‘æ’åºé¢˜ï¼Œé—®é¢˜å¦‚ä¸‹ï¼š</p><p>ç°åœ¨ä½ æ€»å…±æœ‰ <code>numCourses</code> é—¨è¯¾éœ€è¦é€‰ï¼Œè®°ä¸º <code>0</code>åˆ° <code>numCourses - 1</code>ã€‚ç»™ä½ ä¸€ä¸ªæ•°ç»„ <code>prerequisites</code>ï¼Œå…¶ä¸­ <code>prerequisites[i] = [ai, bi]</code> ï¼Œè¡¨ç¤ºåœ¨é€‰ä¿®è¯¾ç¨‹<code>ai</code> å‰ å¿…é¡» å…ˆé€‰ä¿® <code>bi</code> ã€‚</p><p>ä¾‹å¦‚ï¼Œæƒ³è¦å­¦ä¹ è¯¾ç¨‹ <code>0</code> ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ <code>1</code>ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªåŒ¹é…æ¥è¡¨ç¤ºï¼š<code>[0,1]</code> ã€‚è¿”å›ä½ ä¸ºäº†å­¦å®Œæ‰€æœ‰è¯¾ç¨‹æ‰€å®‰æ’çš„å­¦ä¹ é¡ºåºã€‚å¯èƒ½ä¼šæœ‰å¤šä¸ªæ­£ç¡®çš„é¡ºåºï¼Œä½ åªè¦è¿”å›<strong>ä»»æ„ä¸€ç§</strong>å°±å¯ä»¥äº†ã€‚å¦‚æœä¸å¯èƒ½å®Œæˆæ‰€æœ‰è¯¾ç¨‹ï¼Œè¿”å›<strong>ä¸€ä¸ªç©ºæ•°ç»„</strong>ã€‚</p><p>æ‹“æ‰‘æ’åºåˆ†ä¸º<code>DFS</code>ç‰ˆæœ¬å’Œ<code>BFS</code>ç‰ˆæœ¬ã€‚</p><h3 id="dfsç‰ˆæœ¬">DFSç‰ˆæœ¬</h3><p><strong>æ­¥éª¤</strong>ï¼š</p><ol type="1"><li>é¦–å…ˆï¼Œéœ€è¦å…ˆå»ºç«‹ä¸€ä¸ª DAGï¼ˆæœ‰å‘æ— ç¯å›¾ï¼‰ï¼ŒåŒ…å«é¡¶ç‚¹å’Œè¾¹ã€‚</li><li>åˆå§‹åŒ–å…¥åº¦ä¸º 0 çš„é¡¶ç‚¹é˜Ÿåˆ—ï¼Œå°†åˆå§‹é¡¶ç‚¹åŠ å…¥é˜Ÿåˆ—ä¸­ã€‚</li><li>ä»é˜Ÿåˆ—å¤´éƒ¨å¼€å§‹å¤„ç†ã€‚</li><li>éå†è¯¥é¡¶ç‚¹çš„å‡ºè¾¹ï¼Œå°†å‡ºè¾¹å¯¹åº”çš„é¡¶ç‚¹çš„å…¥åº¦å‡ 1ã€‚</li><li>å¦‚æœå…¥åº¦ä¸º 0ï¼Œåˆ™å°†è¯¥é¡¶ç‚¹åŠ å…¥é˜Ÿåˆ—æœ«å°¾ã€‚</li><li>é‡å¤æ­¥éª¤ <code>3-5</code> ç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºã€‚</li></ol><p><code>DFS</code>ç‰ˆæœ¬å®ç°ç±»ä¼¼äºŒå‰æ ‘çš„å‰åºéå†æˆ–è€…æ ‘çš„<code>DFS</code>éå†ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    vector&lt;<span class="hljs-type">int</span>&gt; visited;    <span class="hljs-comment">// ç”¨äºåˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦å·²ç»è®¿é—®</span><br>    vector&lt;<span class="hljs-type">int</span>&gt; inedges;    <span class="hljs-comment">// å…¥åº¦æ•°ç»„</span><br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">findOrder</span><span class="hljs-params">(<span class="hljs-type">int</span> numCourses, vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&amp; prerequisites)</span> </span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-comment">// DFS</span><br>        vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; <span class="hljs-built_in">graph</span>(numCourses, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;());<br>        visited = <span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;(numCourses, <span class="hljs-number">0</span>);<br>        inedges = <span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;(numCourses, <span class="hljs-number">0</span>);<br>        <span class="hljs-built_in">buildGraph</span>(numCourses, prerequisites, graph, inedges);  <span class="hljs-comment">// å»ºå›¾</span><br>        vector&lt;<span class="hljs-type">int</span>&gt; path;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; numCourses; ++i)     <span class="hljs-comment">// ç¡®ä¿åœ¨å›¾ä¸æ˜¯è¿é€šçš„æƒ…å†µä¸‹ä¹Ÿèƒ½æ­£ç¡®å¾—åˆ°æ‹“æ‰‘æ’åº</span><br>        &#123;<br>            <span class="hljs-keyword">if</span>(inedges[i] == <span class="hljs-number">0</span>)<br>                <span class="hljs-built_in">dfs</span>(graph, path, i, numCourses);<br>        &#125;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-type">int</span>)path.<span class="hljs-built_in">size</span>() == numCourses ? path : <span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;();<br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; &amp;graph, vector&lt;<span class="hljs-type">int</span>&gt; &amp;path,<span class="hljs-type">int</span> s, <span class="hljs-type">int</span> numCourses)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">if</span>(visited[s])<br>            <span class="hljs-keyword">return</span> ;<br>        <br>        visited[s] = <span class="hljs-number">1</span>;<br>        path.<span class="hljs-built_in">emplace_back</span>(s);<br>        <span class="hljs-keyword">if</span>((<span class="hljs-type">int</span>)path.<span class="hljs-built_in">size</span>() == numCourses)<br>        &#123;<br>            <span class="hljs-keyword">return</span> ;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> &amp;i : graph[s])<br>        &#123;<br>            --inedges[i];<br>            <span class="hljs-keyword">if</span>(inedges[i] == <span class="hljs-number">0</span>)<br>                <span class="hljs-built_in">dfs</span>(graph, path, i, numCourses);<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">buildGraph</span><span class="hljs-params">(<span class="hljs-type">int</span> numCourses, vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; &amp;prerequisites, vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; &amp;graph, vector&lt;<span class="hljs-type">int</span>&gt; &amp;inedges)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span> &amp;p : prerequisites)<br>        &#123;<br>            <span class="hljs-type">int</span> from = p[<span class="hljs-number">1</span>], to = p[<span class="hljs-number">0</span>];<br>            graph[from].<span class="hljs-built_in">emplace_back</span>(to);<br>            ++inedges[to];<br>        &#125;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="bfsç‰ˆæœ¬">BFSç‰ˆæœ¬</h3><p><code>BFS</code>ç‰ˆæœ¬å’Œ<code>DFS</code>ç‰ˆæœ¬çš„æ€è·¯å…¶å®æ˜¯ä¸€æ ·çš„ï¼Œ<code>BFS</code>å’Œ<code>DFS</code>çš„åŒºåˆ«ç±»ä¼¼æ ‘çš„éå†ï¼Œæ— éæ˜¯åœ¨éå†èŠ‚ç‚¹çš„æ—¶å€™ä»¥ä¸åŒçš„é¡ºåºè®¿é—®å…¶é‚»æ¥èŠ‚ç‚¹ã€‚<code>DFS</code>çš„å®ç°ç”¨åˆ°äº†é€’å½’è€Œ<code>BFS</code>çš„å®ç°ç”¨åˆ°äº†é˜Ÿåˆ—ï¼Œç±»ä¼¼äºŒå‰æ ‘çš„å±‚åºéå†æˆ–æ ‘çš„<code>BFS</code>éå†ã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">findOrder</span><span class="hljs-params">(<span class="hljs-type">int</span> numCourses, vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&amp; prerequisites)</span> </span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-comment">// BFS</span><br>        vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; <span class="hljs-built_in">graph</span>(numCourses, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;());<br>        <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">visited</span><span class="hljs-params">(numCourses, <span class="hljs-number">0</span>)</span></span>;     <span class="hljs-comment">// åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦å·²ç»è®¿é—®</span><br>        <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">inedges</span><span class="hljs-params">(numCourses, <span class="hljs-number">0</span>)</span></span>;     <span class="hljs-comment">// å…¥åº¦æ•°ç»„</span><br>        <span class="hljs-built_in">buildGraph</span>(numCourses, prerequisites, graph, inedges);      <span class="hljs-comment">// å»ºå›¾</span><br>        queue&lt;<span class="hljs-type">int</span>&gt; q;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; numCourses;++i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(inedges[i] == <span class="hljs-number">0</span>)<br>                q.<span class="hljs-built_in">emplace</span>(i);<br>        &#125;<br>        <span class="hljs-type">int</span> count = <span class="hljs-number">0</span>;<br>        vector&lt;<span class="hljs-type">int</span>&gt; path;<br>        <span class="hljs-keyword">while</span>(!q.<span class="hljs-built_in">empty</span>())<br>        &#123;<br>            <span class="hljs-type">int</span> cur = q.<span class="hljs-built_in">front</span>();<br>            q.<span class="hljs-built_in">pop</span>();<br>            visited[cur] = <span class="hljs-number">1</span>;<br>            path.<span class="hljs-built_in">emplace_back</span>(cur);     <span class="hljs-comment">// å°†å½“å‰èŠ‚ç‚¹åŠ å…¥åˆ°æ‹“æ‰‘æ’åºç»“æœ</span><br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i : graph[cur])<br>            &#123;<br>                --inedges[i];<br>                <span class="hljs-keyword">if</span>(inedges[i] == <span class="hljs-number">0</span>)     <span class="hljs-comment">// è‹¥ç›¸é‚»èŠ‚ç‚¹çš„å…¥åº¦ä¸º0ï¼ŒåŠ å…¥åˆ°é˜Ÿåˆ—ä¸­</span><br>                    q.<span class="hljs-built_in">emplace</span>(i);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-type">int</span>)path.<span class="hljs-built_in">size</span>() == numCourses? path : <span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">buildGraph</span><span class="hljs-params">(<span class="hljs-type">int</span> numCourses, vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; &amp;prerequisites, vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; &amp;graph, vector&lt;<span class="hljs-type">int</span>&gt; &amp;inedges)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span> &amp;p : prerequisites)<br>        &#123;<br>            <span class="hljs-type">int</span> from = p[<span class="hljs-number">1</span>], to = p[<span class="hljs-number">0</span>];<br>            graph[from].<span class="hljs-built_in">emplace_back</span>(to);<br>            ++inedges[to];<br>        &#125;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•°æ®ç»“æ„ä¸ç®—æ³•</tag>
      
      <tag>leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>C++ å³å€¼å¼•ç”¨</title>
    <link href="/2023/03/30/Cpp-%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/"/>
    <url>/2023/03/30/Cpp-%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="c-å³å€¼å¼•ç”¨">C++ å³å€¼å¼•ç”¨</h1><p>C++11ä¸­ä¸€ä¸ªæœ€ä¸»è¦çš„ç‰¹æ€§æ˜¯å¯ä»¥ç§»åŠ¨è€Œéæ‹·è´å¯¹è±¡çš„èƒ½åŠ›ã€‚æˆ‘ä»¬å¾ˆå¤šæƒ…å†µä¸‹éƒ½ä¼šå‘ç”Ÿå¯¹è±¡æ‹·è´ï¼Œè€Œåœ¨å…¶ä¸­æŸäº›æƒ…å†µä¸‹ï¼Œå¯¹è±¡æ‹·è´ä¹‹åå°±ç«‹å³èƒŒé”€æ¯äº†ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œç§»åŠ¨è€Œéæ‹·è´å¯¹è±¡ä¼šå¤§å¹…åº¦æå‡æ€§èƒ½ã€‚</p><p>åœ¨C++11ä¹‹å‰ï¼Œæ²¡æœ‰ç›´æ¥çš„æ–¹æ³•ç§»åŠ¨å¯¹è±¡ã€‚å› æ­¤ï¼Œè®¡æ—¶ä¸å¿…æ‹·è´å¯¹è±¡çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¹Ÿä¸å¾—ä¸æ‹·è´ã€‚å¦‚æœå¯¹è±¡è¾ƒå¤§ï¼Œæˆ–è€…æ˜¯å¯¹è±¡æœ¬èº«è¦æ±‚åˆ†é…å†…å­˜ç©ºé—´ï¼ˆå¦‚stringï¼‰ï¼Œè¿›è¡Œä¸å¿…è¦çš„æ‹·è´ä»£ä»·éå¸¸é«˜ã€‚</p><p>ä¸ºäº†æ”¯æŒç§»åŠ¨æ“ä½œï¼ŒC++11ä¸­å¼•å…¥äº†ä¸€ç§æ–°çš„å¼•ç”¨ç±»å‹â€”â€”â€”â€”<strong>å³å€¼å¼•ç”¨(rvaluereference)</strong>ã€‚æ‰€è°“å³å€¼å¼•ç”¨æ˜¯å°±æ˜¯å¿…é¡»ç»‘å®šåˆ°å³å€¼çš„å¼•ç”¨ã€‚<strong>æˆ‘ä»¬é€šè¿‡<code>&amp;&amp;</code>è€Œä¸æ˜¯<code>&amp;</code>æ¥è·å¾—å³å€¼å¼•ç”¨</strong>ã€‚æ¯”å¦‚æˆ‘ä»¬å°†è¦çœ‹åˆ°çš„ï¼Œå³å€¼å¼•ç”¨æœ‰ä¸€ä¸ªé‡è¦çš„æ€§è´¨â€”â€”â€”â€”<strong>åªèƒ½ç»‘å®šåˆ°ä¸€ä¸ªå°†è¦é”€æ¯çš„å¯¹è±¡ä¸Š</strong>ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªç”±åœ°å°†ä¸€ä¸ªå³å€¼å¼•ç”¨çš„èµ„æºâ€œç§»åŠ¨â€åˆ°å¦ä¸€ä¸ªå¯¹è±¡ä¸­ã€‚</p><p>å¦‚æˆ‘ä»¬æ‰€çŸ¥ï¼Œå¯¹äºå¸¸è§„å¼•ç”¨ï¼ˆä¸ºäº†ä¸å³å€¼å¼•ç”¨åŒºåˆ†å¼€ï¼Œæˆ‘ä»¬å¯ä»¥ç§°ä¹‹ä¸º<strong>å·¦å€¼å¼•ç”¨</strong>ï¼‰ï¼Œæˆ‘ä»¬ä¸èƒ½å°†å…¶ç»‘å®šåˆ°è¦æ±‚è½¬æ¢çš„è¡¨è¾¾å¼ã€å­—é¢å¸¸é‡ã€æˆ–è€…æ˜¯è¿”å›å³å€¼çš„è¡¨è¾¾å¼ã€‚å³å€¼å¼•ç”¨æœ‰å®Œå…¨ç›¸åçš„ç‰¹æ€§ï¼šæˆ‘ä»¬å¯ä»¥å°†ä¸€ä¸ªå³å€¼ç»‘å®šåˆ°ä¸€ä¸ªå·¦å€¼ä¸Šï¼Œä½†ä¸èƒ½å°†ä¸€ä¸ªå³å€¼å¼•ç”¨ç›´æ¥ç»‘å®šåˆ°ä¸€ä¸ªå·¦å€¼ä¸Šã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">int</span> i = <span class="hljs-number">42</span>;<br><span class="hljs-type">int</span> &amp;r = i;         <span class="hljs-comment">// æ­£ç¡®ï¼šrå¼•ç”¨i</span><br><span class="hljs-type">int</span> &amp;&amp;rr = i;       <span class="hljs-comment">// é”™è¯¯:ä¸èƒ½å°†ä¸€ä¸ªå³å€¼å¼•ç”¨ç»‘å®šåˆ°ä¸€ä¸ªå·¦å€¼ä¸Š</span><br><span class="hljs-type">int</span> &amp;r2 = i * <span class="hljs-number">42</span>;   <span class="hljs-comment">// é”™è¯¯ï¼ši * 42æ˜¯ä¸€ä¸ªå³å€¼</span><br><span class="hljs-type">const</span> <span class="hljs-type">int</span> &amp;r3 = i * <span class="hljs-number">42</span>;     <span class="hljs-comment">// æ­£ç¡®:æˆ‘ä»¬å¯ä»¥å°†ä¸€ä¸ªconstçš„å¼•ç”¨ç»‘å®šåˆ°ä¸€ä¸ªå³å€¼ä¸Š</span><br><span class="hljs-type">int</span> &amp;&amp;rr2 = i * <span class="hljs-number">42</span>;         <span class="hljs-comment">// æ­£ç¡®:å°†rr2ç»‘å®šåˆ°ä¹˜æ³•ç»“æœä¸Š</span><br></code></pre></td></tr></table></figure><p>è¿”å›å·¦å€¼å¼•ç”¨çš„å‡½æ•°ï¼Œè¿åŒèµ‹å€¼ã€ä¸‹æ ‡ã€è§£å¼•ç”¨å’Œå‰ç½®é€’å¢/é€’å‡è¿ç®—ç¬¦ï¼Œéƒ½æ˜¯è¿”å›å·¦å€¼çš„è¡¨è¾¾å¼çš„ä¾‹å­ã€‚æˆ‘ä»¬å¯ä»¥å°†ä¸€ä¸ªå·¦å€¼å¼•ç”¨ç»‘å®šåˆ°è¿™ç±»è¡¨è¾¾å¼çš„ç»“æœä¸Šã€‚</p><p>è¿”å›éå¼•ç”¨ç±»å‹çš„å‡½æ•°ï¼Œè¿åŒç®—æ•°ã€å…³ç³»ã€ä½ä»¥åŠåç½®é€’å¢/é€’å‡è¿ç®—ç¬¦ï¼Œéƒ½ç”Ÿæˆå³å€¼ã€‚æˆ‘ä»¬ä¸èƒ½å°†ä¸€ä¸ªå³å€¼å¼•ç”¨ç»‘å®šåˆ°è¿™ç±»è¡¨è¾¾å¼ä¸Šï¼Œä½†æˆ‘ä»¬å¯ä»¥å°†ä¸€ä¸ªconstçš„å·¦å€¼å¼•ç”¨æˆ–ä¸€ä¸ªå³å€¼å¼•ç”¨ç»‘å®šåˆ°è¿™ç±»è¡¨è¾¾å¼ä¸Šã€‚</p><h2 id="å·¦å€¼æŒä¹…å³å€¼çŸ­æš‚">å·¦å€¼æŒä¹…ï¼›å³å€¼çŸ­æš‚</h2><p>è€ƒå¯Ÿå·¦å€¼å’Œå³å€¼è¡¨è¾¾å¼çš„åˆ—è¡¨ï¼Œä¸¤è€…ç›¸äº’åŒºåˆ«ä¹‹å¤„å°±å¾ˆæ˜æ˜¾äº†ï¼š<strong>å·¦å€¼æœ‰æŒä¹…çš„çŠ¶æ€ï¼Œè€Œå³å€¼è¦ä¹ˆæ˜¯å­—é¢å¸¸é‡ï¼Œè¦ä¹ˆæ˜¯åœ¨è¡¨è¾¾å¼æ±‚å€¼è¿‡ç¨‹ä¸­åˆ›å»ºçš„ä¸´æ—¶å¯¹è±¡</strong>ã€‚</p><p>ç”±äºå³å€¼å¼•ç”¨åªèƒ½ç»‘å®šåˆ°ä¸´æ—¶å¯¹è±¡ï¼Œæˆ‘ä»¬å¾—çŸ¥</p><ul><li>æ‰€å¼•ç”¨çš„å¯¹è±¡å°†è¦åˆ«é”€æ¯</li><li>è¯¥å¯¹è±¡æ²¡æœ‰å…¶ä»–ç”¨æˆ·</li></ul><p>è¿™ä¸¤ä¸ªç‰¹æ€§æ„å‘³ç€ï¼šä½¿ç”¨å³å€¼å¼•ç”¨çš„diamagneticå¯ä»¥è‡ªç”±åœ°æ¥ç®¡æ‰€å¼•ç”¨å¯¹è±¡çš„èµ„æº.</p><h2 id="å˜é‡æ˜¯å·¦å€¼">å˜é‡æ˜¯å·¦å€¼</h2><p>å˜é‡å¯ä»¥çœ‹ä½œåªæœ‰ä¸€ä¸ªå˜é‡æ²¡æœ‰è¿ç®—ç¬¦çš„è¡¨è¾¾å¼,è™½ç„¶æˆ‘ä»¬å¾ˆå°‘è¿™æ ·çœ‹å¾…å˜é‡.ç±»ä¼¼å…¶ä»–ä»»ä½•è¡¨è¾¾å¼,å˜é‡è¡¨è¾¾å¼ä¹Ÿæœ‰å·¦å€¼/å³å€¼å±æ€§.å˜é‡è¡¨è¾¾å¼éƒ½æ˜¯å·¦å€¼,å¸¦æ¥çš„ç»“æœå°±æ˜¯,<strong>æˆ‘ä»¬ä¸èƒ½å°†ä¸€ä¸ªå³å€¼å¼•ç”¨ç»‘å®šä¸€ä¸ªå³å€¼å¼•ç”¨ç±»å‹çš„å˜é‡ä¸Š</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">int</span> &amp;&amp;rr1 = <span class="hljs-number">42</span>;     <span class="hljs-comment">// æ­£ç¡®:å­—é¢å¸¸é‡æ˜¯å³å€¼</span><br><span class="hljs-type">int</span> &amp;&amp;rr2 = rr1;    <span class="hljs-comment">// é”™è¯¯:è¡¨è¾¾å¼rr1æ˜¯å·¦å€¼!</span><br></code></pre></td></tr></table></figure><p>å…¶å®æœ‰äº†å³å€¼è¡¨ç¤ºä¸´æ—¶å¯¹è±¡è¿™ä¸€è§‚å¯Ÿç»“æœ,å˜é‡æ˜¯å·¦å€¼è¿™ä¸€ç‰¹æ€§å¹¶ä¸ä»¤äººæƒŠè®¶.æ¯•ç«Ÿ,å˜é‡æ˜¯æŒä¹…çš„,ç›´è‡³ç¦»å¼€ä½œç”¨åŸŸçš„æ—¶å€™æ‰è¢«é”€æ¯.</p><h2 id="stdmoveå‡½æ•°">std::moveå‡½æ•°</h2><p>è™½ç„¶ä¸èƒ½å°†ä¸€ä¸ªå³å€¼å¼•ç”¨ç›´æ¥ç»‘å®šåˆ°ä¸€ä¸ªå·¦å€¼ä¸Š,ä½†æ˜¯æˆ‘ä»¬å¯ä»¥æ˜¾å¼åœ°å°†ä¸€ä¸ªå·¦å€¼è½¬æ¢ä¸ºå¯¹åº”çš„å³å€¼å¼•ç”¨.æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡è°ƒç”¨ä¸€ä¸ªåä¸º<code>move</code>çš„å‡½æ•°æ¥è·å¾—ç»‘å®šåˆ°å·¦å€¼ä¸Šçš„å³å€¼å¼•ç”¨.<strong><code>move</code>å‡½æ•°å¯ä»¥è¿”å›ç»™å®šå¯¹è±¡çš„å³å€¼å¼•ç”¨</strong>.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">int</span> &amp;&amp;rr3 = std::<span class="hljs-built_in">move</span>(rr1);     <span class="hljs-comment">// OK</span><br></code></pre></td></tr></table></figure><p><code>move</code>è°ƒç”¨å‘Šè¯‰ç¼–è¯‘å™¨:æˆ‘ä»¬æœ‰ä¸€ä¸ªå·¦å€¼,ä½†æˆ‘ä»¬å¸Œæœ›åƒä¸€ä¸ªå³å€¼ä¸€æ ·å¤„ç†å®ƒ.è°ƒç”¨<code>move</code>å°±æ„å‘³ç€æ‰¿è¯º:é™¤äº†å¯¹<code>rr1</code>èµ‹å€¼æˆ–é”€æ¯å®ƒå¤–,æˆ‘ä»¬å°†ä¸å†ä½¿ç”¨å®ƒ.åœ¨è°ƒç”¨<code>move</code>ä¹‹å,æˆ‘ä»¬ä¸èƒ½å¯¹ç§»åæºå¯¹è±¡çš„å€¼åšä»»ä½•å‡è®¾.(æˆ‘ä»¬å¯ä»¥é”€æ¯ä¸€ä¸ªç§»åæºå¯¹è±¡,ä¹Ÿå¯ä»¥èµ‹äºˆå®ƒæ–°å€¼,ä½†ä¸èƒ½ä½¿ç”¨ä¸€ä¸ªç§»åæºå¯¹è±¡çš„å€¼)</p>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>C++ explicitç”¨æ³•</title>
    <link href="/2023/03/13/Cpp-explicit%E7%94%A8%E6%B3%95/"/>
    <url>/2023/03/13/Cpp-explicit%E7%94%A8%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="explicitå…³é”®å­—">explicitå…³é”®å­—</h1><h2 id="explicit-ä½œç”¨">explicit ä½œç”¨</h2><p>åœ¨ C++ä¸­, explicit å…³é”®å­—ç”¨æ¥ä¿®é¥°ç±»çš„æ„é€ å‡½æ•°, è¢«ä¿®é¥°çš„æ„é€ å‡½æ•°çš„ç±»,ä¸èƒ½å‘ç”Ÿç›¸åº”çš„éšå¼ç±»å‹è½¬æ¢, åªèƒ½ä»¥æ˜¾å¼çš„æ–¹å¼è¿›è¡Œç±»å‹è½¬æ¢.</p><p>explicit ä½¿ç”¨æ³¨æ„äº‹é¡¹:</p><ul><li>explicit å…³é”®å­—åªèƒ½ç”¨äºç±»å†…éƒ¨çš„æ„é€ å‡½æ•°å£°æ˜ä¸Šï¼›</li><li>explicit å…³é”®å­—ä½œç”¨äºå•ä¸ªå‚æ•°çš„æ„é€ å‡½æ•° (å¤šä¸ªå‚æ•°ä¹Ÿé€‚ç”¨,ä½†å¿…é¡»åªæœ‰ä¸€ä¸ªå‚æ•°éœ€è¦èµ‹å€¼, å…¶ä»–çš„å‚æ•°è¦æœ‰é»˜è®¤å€¼).</li><li>åœ¨ C++ ä¸­, explicit å…³é”®å­—ç”¨æ¥ä¿®é¥°ç±»çš„æ„é€ å‡½æ•°,è¢«ä¿®é¥°çš„æ„é€ å‡½æ•°çš„ç±», ä¸èƒ½å‘ç”Ÿç›¸åº”çš„éšå¼ç±»å‹è½¬æ¢.</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">A</span>();    <span class="hljs-comment">// defaultæ„é€ å‡½æ•°</span><br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">B</span><span class="hljs-params">(<span class="hljs-type">int</span> x = <span class="hljs-number">0</span>, <span class="hljs-type">bool</span> b = <span class="hljs-literal">true</span>)</span></span>;   <span class="hljs-comment">// defaultæ„é€ å‡½æ•°</span><br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">C</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span></span>;  <span class="hljs-comment">// ä¸æ˜¯defaultæ„é€ å‡½æ•°</span><br>&#125;;<br></code></pre></td></tr></table></figure><p>ä¸Šè¿°çš„classesBå’ŒCçš„æ„é€ å‡½æ•°éƒ½è¢«å£°æ˜ä¸ºexplicitï¼Œè¿™å¯ä»¥ç»„ç»‡å®ƒä»¬è¢«ç”¨æ¥æ‰§è¡Œéšå¼ç±»å‹è½¬æ¢ï¼Œä½†å®ƒä»¬ä»ç„¶å¯ä»¥è¢«ç”¨æ¥è¿›è¡Œæ˜¾å¼ç±»å‹è½¬æ¢ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">doSomething</span><span class="hljs-params">(B bObject)</span></span>;    <span class="hljs-comment">// å‡½æ•°ï¼Œæ¥å—ä¸€ä¸ªä¸ºBçš„å¯¹è±¡</span><br><br>B bObj1ï¼›         <span class="hljs-comment">//ä¸€ä¸ªç±»å‹ä¸ºBçš„å¯¹è±¡</span><br><span class="hljs-built_in">doSomething</span>(bObj1);     <span class="hljs-comment">// æ²¡é—®é¢˜ï¼Œä¼ é€’ä¸€ä¸ªBç»™doSomethingå¯¹è±¡</span><br><span class="hljs-function">B <span class="hljs-title">bOBj2</span><span class="hljs-params">(<span class="hljs-number">28</span>)</span></span>;            <span class="hljs-comment">// æ²¡é—®é¢˜ï¼Œæ ¹æ®int 28å»ºç«‹ä¸€ä¸ªB</span><br><br><span class="hljs-built_in">doSomething</span>(<span class="hljs-number">28</span>);        <span class="hljs-comment">// é”™è¯¯ï¼doSomethingåº”è¯¥æ¥å—ä¸€ä¸ªBï¼Œä¸æ˜¯ä¸€ä¸ªintï¼Œè€Œintè‡³Bæ²¡æœ‰éšå¼è½¬åŒ–</span><br><br><span class="hljs-built_in">doSomething</span>(<span class="hljs-built_in">B</span>(<span class="hljs-number">28</span>));     <span class="hljs-comment">// æ²¡é—®é¢˜ï¼Œä½¿ç”¨Bæ„é€ å‡½æ•°å°†intæ˜¾å¼è½¬æ¢ä¸ºä¸€ä¸ªBä»¥ä¿ƒæˆæ­¤è°ƒç”¨</span><br></code></pre></td></tr></table></figure><p>è¢«å£°æ˜ä¸ºexplicitäºŒç‚¹æ„é€ å‡½æ•°é€šå¸¸æ¯”å…¶non-explicitå…„å¼Ÿæ›´å—æ¬¢è¿ï¼Œå› ä¸ºå®ƒä»¬ç¦æ­¢ç¼–è¯‘å™¨æ‰§è¡Œéé¢„æœŸï¼ˆå¾€å¾€ä¸è¢«é¢„æœŸï¼‰çš„ç±»å‹è½¬æ¢ã€‚é™¤éæˆ‘æœ‰ä¸€ä¸ªå¥½çš„ç†ç”±å…è®¸æ„é€ å‡½æ•°è¢«ç”¨äºéšå¼è½¬æ¢ï¼Œå¦åˆ™æˆ‘ä¼šæŠŠå®ƒå£°æ˜ä¸ºexplicitã€‚</p>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
      <category>Effective C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
      <tag>Effective C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>C++STLä¼˜å…ˆçº§é˜Ÿåˆ—</title>
    <link href="/2023/03/09/CppSTL%E4%BC%98%E5%85%88%E7%BA%A7%E9%98%9F%E5%88%97/"/>
    <url>/2023/03/09/CppSTL%E4%BC%98%E5%85%88%E7%BA%A7%E9%98%9F%E5%88%97/</url>
    
    <content type="html"><![CDATA[<h1 id="cstlä¼˜å…ˆçº§é˜Ÿåˆ—">C++STLä¼˜å…ˆçº§é˜Ÿåˆ—</h1><p>ä¼˜å…ˆçº§é˜Ÿåˆ—æ˜¯ç‰¹æ®Šçš„é˜Ÿåˆ—ï¼Œå®ƒä¸queueçš„åŒºåˆ«åœ¨äºå®ƒå¯ä»¥å®šä¹‰é˜Ÿåˆ—ä¸­æ•°æ®çš„ä¼˜å…ˆçº§ï¼Œè®©ä¼˜å…ˆçº§é«˜çš„æ’åœ¨é˜Ÿåˆ—å‰é¢ï¼Œå¯ä»¥ä¼˜å…ˆå‡ºé˜Ÿï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯ç”±å †å®ç°çš„ã€‚</p><h2 id="å®šä¹‰">å®šä¹‰</h2><p><strong>å®šä¹‰</strong>ï¼š<code>priority_queue&lt;Type, Container, Functional&gt;</code></p><ul><li>Type:æ•°æ®ç±»å‹</li><li>Containerï¼šå®¹å™¨ç±»å‹(Containerå¿…é¡»æ˜¯ç”¨æ•°ç»„å®ç°çš„å®¹å™¨ï¼Œæ¯”å¦‚vector,dequeç­‰ç­‰ï¼Œä½†ä¸èƒ½ç”¨listã€‚STLé‡Œé¢é»˜è®¤ç”¨çš„æ˜¯vector)</li><li>Functional:æ¯”è¾ƒçš„æ–¹å¼ï¼Œå½“éœ€è¦ç”¨è‡ªå®šä¹‰çš„æ•°æ®ç±»å‹æ—¶æ‰éœ€è¦ä¼ å…¥ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹æ—¶ï¼Œåªéœ€è¦ä¼ å…¥æ•°æ®ç±»å‹ï¼Œå…¶é»˜è®¤æ˜¯<strong>å¤§æ ¹å †</strong>ã€‚</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//å‡åºé˜Ÿåˆ—</span><br>priority_queue &lt;<span class="hljs-type">int</span>,vector&lt;<span class="hljs-type">int</span>&gt;,greater&lt;<span class="hljs-type">int</span>&gt; &gt; q;<br><span class="hljs-comment">//é™åºé˜Ÿåˆ—</span><br>priority_queue &lt;<span class="hljs-type">int</span>,vector&lt;<span class="hljs-type">int</span>&gt;,less&lt;<span class="hljs-type">int</span>&gt; &gt;q;<br></code></pre></td></tr></table></figure><p><code>greater</code>å’Œ<code>less</code>æ˜¯stdå®ç°çš„ä¸¤ä¸ªä»¿å‡½æ•°ï¼ˆå°±æ˜¯ä½¿ä¸€ä¸ªç±»çš„ä½¿ç”¨çœ‹ä¸Šå»åƒä¸€ä¸ªå‡½æ•°ã€‚å…¶å®ç°å°±æ˜¯ç±»ä¸­å®ç°ä¸€ä¸ªoperator()ï¼Œè¿™ä¸ªç±»å°±æœ‰äº†ç±»ä¼¼å‡½æ•°çš„è¡Œä¸ºï¼Œå°±æ˜¯ä¸€ä¸ªä»¿å‡½æ•°ç±»äº†ï¼‰ã€‚</p><h2 id="åŸºæœ¬æ“ä½œ">åŸºæœ¬æ“ä½œ</h2><p><code>priority_queue</code>çš„åŸºæœ¬æ“ä½œï¼š</p><ul><li>top è®¿é—®é˜Ÿå¤´å…ƒç´ </li><li>empty é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</li><li>size è¿”å›é˜Ÿåˆ—å†…å…ƒç´ ä¸ªæ•°</li><li>push æ’å…¥å…ƒç´ åˆ°é˜Ÿå°¾ (å¹¶æ’åº)</li><li>emplace åŸåœ°æ„é€ ä¸€ä¸ªå…ƒç´ å¹¶æ’å…¥é˜Ÿåˆ—</li><li>pop å¼¹å‡ºé˜Ÿå¤´å…ƒç´ </li><li>swap äº¤æ¢å†…å®¹</li></ul><p>ä½¿ç”¨å®ä¾‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span><br><span class="hljs-function"></span>&#123;   <br>    <span class="hljs-comment">// pair å…ˆæ¯”è¾ƒfirstï¼Œfirstç›¸ç­‰ç„¶åå†æ¯”è¾ƒsecond</span><br>    priority_queue&lt;pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; &gt; a;<br>    <span class="hljs-function">pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; <span class="hljs-title">b</span><span class="hljs-params">(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)</span></span>;<br>    <span class="hljs-function">pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; <span class="hljs-title">c</span><span class="hljs-params">(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>)</span></span>;<br>    <span class="hljs-function">pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; <span class="hljs-title">d</span><span class="hljs-params">(<span class="hljs-number">2</span>, <span class="hljs-number">5</span>)</span></span>;<br>    a.<span class="hljs-built_in">push</span>(d);<br>    a.<span class="hljs-built_in">push</span>(c);<br>    a.<span class="hljs-built_in">push</span>(b);<br>    <span class="hljs-keyword">while</span> (!a.<span class="hljs-built_in">empty</span>()) <br>    &#123;<br>        cout &lt;&lt; a.<span class="hljs-built_in">top</span>().first &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; a.<span class="hljs-built_in">top</span>().second &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>        a.<span class="hljs-built_in">pop</span>();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">2 </span><span class="hljs-number">5</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">3</span><br><span class="hljs-symbol">1 </span><span class="hljs-number">2</span><br></code></pre></td></tr></table></figure><h2 id="è‡ªå®šä¹‰ç±»å‹">è‡ªå®šä¹‰ç±»å‹</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;queue&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-comment">//æ–¹æ³•1</span><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">tmp1</span> <span class="hljs-comment">//è¿ç®—ç¬¦é‡è½½&lt;</span><br>&#123;<br>    <span class="hljs-type">int</span> x;<br>    <span class="hljs-built_in">tmp1</span>(<span class="hljs-type">int</span> a) &#123;x = a;&#125;<br>    <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span> &lt; (<span class="hljs-type">const</span> tmp1&amp; a) <span class="hljs-type">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> x &lt; a.x;     <span class="hljs-comment">// å¤§æ ¹å †</span><br>        <span class="hljs-comment">// return x &gt; a.x   // å°æ ¹å †</span><br>    &#125;<br>&#125;;<br><br><span class="hljs-comment">//æ–¹æ³•2</span><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">tmp2</span> <span class="hljs-comment">//é‡å†™ä»¿å‡½æ•°</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">operator</span> <span class="hljs-params">()</span><span class="hljs-params">(tmp1 a, tmp1 b)</span> </span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">return</span> a.x &lt; b.x;    <span class="hljs-comment">// å¤§æ ¹å †</span><br>        <span class="hljs-comment">// return a.x &gt; b.x  // å°æ ¹å †</span><br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-function">tmp1 <span class="hljs-title">a</span><span class="hljs-params">(<span class="hljs-number">1</span>)</span></span>;<br>    <span class="hljs-function">tmp1 <span class="hljs-title">b</span><span class="hljs-params">(<span class="hljs-number">2</span>)</span></span>;<br>    <span class="hljs-function">tmp1 <span class="hljs-title">c</span><span class="hljs-params">(<span class="hljs-number">3</span>)</span></span>;<br>    priority_queue&lt;tmp1&gt; d;<br>    d.<span class="hljs-built_in">push</span>(b);<br>    d.<span class="hljs-built_in">push</span>(c);<br>    d.<span class="hljs-built_in">push</span>(a);<br>    <span class="hljs-keyword">while</span> (!d.<span class="hljs-built_in">empty</span>()) <br>    &#123;<br>        cout &lt;&lt; d.<span class="hljs-built_in">top</span>().x &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>        d.<span class="hljs-built_in">pop</span>();<br>    &#125;<br>    cout &lt;&lt; <span class="hljs-string">&quot;----&quot;</span>&lt;&lt; endl;<br>    priority_queue&lt;tmp1, vector&lt;tmp1&gt;, tmp2&gt; f;<br>    f.<span class="hljs-built_in">push</span>(c);<br>    f.<span class="hljs-built_in">push</span>(b);<br>    f.<span class="hljs-built_in">push</span>(a);<br>    <span class="hljs-keyword">while</span> (!f.<span class="hljs-built_in">empty</span>()) <br>    &#123;<br>        cout &lt;&lt; f.<span class="hljs-built_in">top</span>().x &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br>        f.<span class="hljs-built_in">pop</span>();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">3<br>2<br><span class="hljs-section">1</span><br><span class="hljs-section">----</span><br>3<br>2<br>1<br></code></pre></td></tr></table></figure><p>å‚è€ƒ:<ahref="https://blog.csdn.net/weixin_36888577/article/details/79937886">c++ä¼˜å…ˆé˜Ÿåˆ—(priority_queue)ç”¨æ³•è¯¦è§£</a></p>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
      <tag>STL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä½è¿ç®—çš„å¦™ç”¨</title>
    <link href="/2023/03/07/%E4%BD%8D%E8%BF%90%E7%AE%97%E7%9A%84%E5%A6%99%E7%94%A8/"/>
    <url>/2023/03/07/%E4%BD%8D%E8%BF%90%E7%AE%97%E7%9A%84%E5%A6%99%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="ä½è¿ç®—çš„å¦™ç”¨">ä½è¿ç®—çš„å¦™ç”¨</h1><h2 id="å¼‚æˆ–è¿ç®—å®ç°å˜é‡äº¤æ¢">å¼‚æˆ–è¿ç®—å®ç°å˜é‡äº¤æ¢</h2><p>å¼‚æˆ–è¿ç®—å¯ä»¥ç†è§£ä¸º<strong>æ— è¿›ä½ç›¸åŠ </strong>ï¼Œå¼‚æˆ–è¿ç®—çš„æ€§è´¨å¦‚ä¸‹ï¼š</p><ul><li>0 ^ N = N</li><li>N ^ N = N</li><li>a ^ b = b ^ a (äº¤æ¢å¾‹)</li><li>a ^ b ^ c = a ^ (b ^ c) ï¼ˆç»“åˆå¾‹ï¼‰</li></ul><p>å¼‚æˆ–è¿ç®—çš„å¦™ç”¨ï¼šäº¤æ¢ä¸¤ä¸ªæ•°çš„å€¼ä¸ä½¿ç”¨é¢å¤–å˜é‡ï¼š <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">int</span> a = <span class="hljs-number">17</span>, b = <span class="hljs-number">23</span>;<br><span class="hljs-comment">// äº¤æ¢aï¼Œbçš„å€¼</span><br>a = a ^ b;<br>b = a ^ b;<br>a = a ^ b;<br></code></pre></td></tr></table></figure></p><p>ä½†æ˜¯<strong>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯ä»¥è¿™æ ·ä½¿ç”¨çš„å‰ææ˜¯aå’ŒbæŒ‡å‘çš„å†…å­˜æ˜¯ä¸åŒçš„ï¼Œä½†æ˜¯ä¸¤ä¸ªæ•°çš„å€¼å¯ä»¥ç›¸åŒã€‚</strong>æ¯”å¦‚åœ¨ä¸€ä¸ªæ•°ç»„ä¸­å¯¹nums[i]å’Œnums[j]è¿›è¡Œäº¤æ¢ï¼Œè¦ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œå¿…é¡»è¦ä¿è¯iå’Œjç›¸åŒï¼Œå¦åˆ™nums[i]ä½ç½®ä¸Šçš„æ•°ä¼šè¢«æŠ¹æˆ0ã€‚æ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸‹ä¸æ¨èè¿™ç§ç”¨æ³•ã€‚</p><h2 id="å¼‚æˆ–è¿ç®—æŸ¥æ‰¾å‡ºç°å¥‡æ•°æ¬¡çš„æ•°">å¼‚æˆ–è¿ç®—æŸ¥æ‰¾å‡ºç°å¥‡æ•°æ¬¡çš„æ•°</h2><h3 id="åªæœ‰ä¸€ç§æ•°å‡ºç°å¥‡æ•°æ¬¡">åªæœ‰ä¸€ç§æ•°å‡ºç°å¥‡æ•°æ¬¡</h3><p>ä¸€ä¸ªæ•°ç»„ä¸­åªæœ‰ä¸€ç§æ•°å‡ºç°å¥‡æ•°æ¬¡ï¼Œå…¶ä½™çš„æ•°éƒ½å‡ºç°å¶æ•°æ¬¡ï¼Œé‚£ä¹ˆå¦‚æœå¯»æ‰¾è¿™ä¸ªå‡ºç°å¥‡æ•°æ¬¡çš„æ•°ï¼Ÿ</p><p>è®¾ç½®ä¸€ä¸ª<span class="math inline">\(eor = 0\)</span>,ç„¶åè®©<spanclass="math inline">\(eor\)</span>ä¸æ•°ç»„ä¸­çš„æ¯ä¸ªæ•°éƒ½å¼‚æˆ–ä¸€éï¼Œæœ€åå¾—åˆ°çš„<spanclass="math inline">\(eor\)</span>å°±æ˜¯å‡ºç°å¥‡æ•°æ¬¡çš„æ•°ã€‚å› ä¸ºå¼‚æˆ–è¿ç®—æ»¡è¶³äº¤æ¢å¾‹ï¼Œå‡ºç°å¶æ•°æ¬¡çš„æ•°ç›¸äº’å¼‚æˆ–çš„ç»“æœä¸º<spanclass="math inline">\(0\)</span>ï¼Œå‡ºç°å¥‡æ•°æ¬¡çš„æ•°ç›¸äº’å¼‚æˆ–çš„ç»“æœä¸ºè¿™ä¸ªæ•°çš„å€¼ï¼Œæ‰€ä»¥æ€»çš„ç»“æœå°±æ˜¯è¿™ä¸ªå‡ºç°å¥‡æ•°æ¬¡çš„æ•°ã€‚</p><h3 id="æœ‰ä¸¤ç§æ•°å‡ºç°å¥‡æ•°æ¬¡">æœ‰ä¸¤ç§æ•°å‡ºç°å¥‡æ•°æ¬¡</h3><p>ä¸€ä¸ªæ•°ç»„ä¸­æœ‰ä¸¤ç§æ•°å‡ºç°å¥‡æ•°æ¬¡ï¼Œå…¶ä½™çš„æ•°éƒ½å‡ºç°å¶æ•°æ¬¡ï¼Œé‚£ä¹ˆå¦‚æœå¯»æ‰¾å‡ºç°å¥‡æ•°æ¬¡çš„æ•°ï¼Ÿ</p><p>è®¾ç½®ä¸€ä¸ª<span class="math inline">\(eor = 0\)</span>,ç„¶åè®©<spanclass="math inline">\(eor\)</span>ä¸æ•°ç»„ä¸­çš„æ¯ä¸ªæ•°éƒ½å¼‚æˆ–ä¸€éï¼Œæœ€åå¾—åˆ°çš„<spanclass="math inline">\(eor\)</span>ä¸ºa ^bã€‚å› ä¸ºaå’Œbæ˜¯ä¸åŒçš„æ•°ï¼Œæ‰€ä»¥å¿…ç„¶æœ‰a ^ b <spanclass="math inline">\(\ne\)</span> 0,ä¹Ÿå°±æ˜¯a ^bçš„äºŒè¿›åˆ¶è‡³å°‘æœ‰ä¸€ä½æ˜¯1ï¼Œé‚£ä¹ˆå‡è®¾a ^ bçš„äºŒè¿›åˆ¶ç¬¬8ä½ä¸º1ï¼Œè®©<spanclass="math inline">\(eor\)</span>ä¸æ•°ç»„ä¸­ç¬¬8ä½ä¸º1çš„æ•°å¼‚æˆ–ï¼Œå¾—åˆ°çš„<spanclass="math inline">\(eor^{&#39;}\)</span>å°±æ˜¯aæˆ–bï¼Œå†ç”¨<spanclass="math inline">\(eor^{&#39;}\)</span>ä¸<spanclass="math inline">\(eor\)</span>å¼‚æˆ–å¾—åˆ°çš„å°±æ˜¯å¦å¤–ä¸€ä¸ªæ•°ã€‚</p><p><img src="/img/ç®—æ³•/å¼‚æˆ–/æŸ¥æ‰¾æ•°ç»„ä¸­å‡ºç°å¥‡æ•°æ¬¡ä¸ªæ•°çš„æ•°å›¾è§£.png" /></p><p>å› ä¸ºaå’Œbåœ¨ç¬¬8ä¸ºä¸Šçš„å€¼ä¸€å®šæ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥è‚¯å®šåœ¨ä¸åŒçš„åŒºåŸŸé‡Œï¼Œè¿™æ ·å»ç”¨<spanclass="math inline">\(eor\)</span>å¼‚æˆ–ç¬¬8ä½ä¸º1çš„æ•°å¾—åˆ°çš„å°±æ˜¯aï¼Œbå…¶ä¸­ä¹‹ä¸€ï¼Œå‡ºç°å¶æ•°æ¬¡çš„æ•°ä¸å½±å“å¼‚æˆ–çš„ç»“æœã€‚</p><p>é‚£ä¹ˆå°±æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œ<strong>é€‰å“ªä¸€ä½çš„1ï¼Ÿå¦‚ä½•æå–å‡ºè¿™ä¸€ä½ä¸Šçš„1ï¼Ÿ</strong>è¿™é‡Œé€‰æ‹©æå–å‡ºa^ bæœ€å³è¾¹ä¸€ä½çš„1ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">int</span> rightOne = eor &amp; (~eor + <span class="hljs-number">1</span>) <span class="hljs-comment">// æå–å‡ºeoræœ€å³ä¾§çš„1</span><br></code></pre></td></tr></table></figure><p>å°†<spanclass="math inline">\(eor\)</span>ç”¨äºŒè¿›åˆ¶è¡¨ç¤ºå°±å¯ä»¥æ›´ç›´è§‚çš„çœ‹å‡ºæ¥ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs C++">             eor = <span class="hljs-number">11001110</span>    <br>        ~eor + <span class="hljs-number">1</span> = <span class="hljs-number">00110010</span><br>eor &amp; (~eor + <span class="hljs-number">1</span>) = <span class="hljs-number">00000010</span> <span class="hljs-comment">// æå–å‡ºæ¥æœ€å³ä¾§çš„1</span><br></code></pre></td></tr></table></figure><h2 id="è¿ç®—æ¶ˆå»äºŒè¿›åˆ¶æœ€ä½ä½çš„1">&amp;è¿ç®—æ¶ˆå»äºŒè¿›åˆ¶æœ€ä½ä½çš„1</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++">n &amp; (n - <span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><p>å› ä¸º</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c++">    n = <span class="hljs-number">11001110</span><br>n - <span class="hljs-number">1</span> = <span class="hljs-number">11001101</span><br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°<code>n</code>çš„äºŒè¿›åˆ¶ä¸­çš„é«˜ä½çš„<spanclass="math inline">\(1\)</span>å…¶å®æ˜¯ä¸å—<strong>å‡ä¸€</strong>æ“ä½œçš„å½±å“çš„ï¼Œæ‰€ä»¥<code>n &amp; (n - 1)</code>å°±å¯ä»¥åœ¨ä¸å½±å“å…¶ä»–äºŒè¿›åˆ¶ä½çš„æƒ…å†µä¸‹æ¶ˆå»å…¶æœ€ä½ä½çš„<spanclass="math inline">\(1\)</span>ã€‚</p><p>é‚£ä¹ˆå°±å¯ä»¥æ ¹æ®è¿™ä¸ªç‰¹æ€§<strong>è®¡ç®—kçš„äºŒè¿›åˆ¶1çš„ä¸ªæ•°</strong>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-type">int</span> count = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span>(n)<br>&#123;<br>    n &amp;= n - <span class="hljs-number">1</span>;    <span class="hljs-comment">// æ¯æ¬¡æ¶ˆå»äºŒè¿›åˆ¶ä¸­æœ€ä½ä½çš„1</span><br>    count++;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æ±‚ä¸¤ä¸ªæ•°çš„å‡å€¼">æ±‚ä¸¤ä¸ªæ•°çš„å‡å€¼</h2><p>ä¸€èˆ¬çš„å†™æ³•æ˜¯ <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">int</span> mid = (low + high) / <span class="hljs-number">2</span>;<br></code></pre></td></tr></table></figure>ä½†æ˜¯è¿™æ ·å¹¶ä¸æ˜¯æ— æ‡ˆå¯å‡»çš„ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œå½“<code>low</code>å’Œ<code>high</code>éƒ½å¾ˆå¤§çš„æ—¶å€™<code>low + high</code>å¯èƒ½ä¼šæº¢å‡ºï¼Œè¿™æ ·ç»“æœå°±å˜æˆä¸€ä¸ªè´Ÿæ•°ã€‚æ›´åŠ å¥½çš„å†™æ³•æ˜¯<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">int</span> mid = low + (high - low) / <span class="hljs-number">2</span>; <br></code></pre></td></tr></table></figure><code>low</code>å’Œ<code>high</code>éƒ½æ²¡æœ‰æº¢å‡ºï¼Œé‚£ä¹ˆ<code>high - low</code>ä¹Ÿä¸ä¼šæº¢å‡ºï¼Œè¿™æ ·ç»“æœå°±ä¸ä¼šæº¢å‡ºã€‚</p><p>æ›´åŠ ç®€åŒ–çš„å†™æ³•æ˜¯</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">int</span> mid = low + ((high - low) &gt;&gt; <span class="hljs-number">2</span>);<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
      <tag>ä½è¿ç®—</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>C++dequeå’Œqueue</title>
    <link href="/2023/03/07/Cpp-deque%E5%92%8Cqueue/"/>
    <url>/2023/03/07/Cpp-deque%E5%92%8Cqueue/</url>
    
    <content type="html"><![CDATA[<h1 id="c-dequeå’Œqueue">C++ dequeå’Œqueue</h1><p>dequeæ˜¯åŒç«¯é˜Ÿåˆ—ï¼Œqueueå¯ä»¥è®¿é—®ä¸¤ç«¯ä½†æ˜¯åªèƒ½ä¿®æ”¹é˜Ÿå¤´ï¼Œè€Œdequeå¯ä»¥è®¿é—®ä¸¤ç«¯å¹¶ä¸”å¯ä»¥åœ¨é˜Ÿé¦–å’Œé˜Ÿå°¾åˆ é™¤å’Œæ’å…¥å…ƒç´ ã€‚</p><p>queueæ“ä½œ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c++">queue&lt;<span class="hljs-type">int</span>&gt;qï¼› <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªintå‹ç©ºé˜Ÿåˆ—q</span><br><br>q.<span class="hljs-built_in">empty</span>();  <span class="hljs-comment">// åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºè¿”å›true</span><br>q.<span class="hljs-built_in">push</span>(s);  <span class="hljs-comment">// å°†å˜é‡sä»é˜Ÿå°¾å…¥é˜Ÿ</span><br>q.<span class="hljs-built_in">pop</span>();    <span class="hljs-comment">// å°†é˜Ÿå¤´å…ƒç´ å¼¹å‡º</span><br>q.<span class="hljs-built_in">front</span>();  <span class="hljs-comment">// åªè¿”å›é˜Ÿå¤´å…ƒç´ </span><br>q.<span class="hljs-built_in">back</span>();   <span class="hljs-comment">// åªè¿”å›é˜Ÿå°¾å…ƒç´ </span><br>q.<span class="hljs-built_in">size</span>();   <span class="hljs-comment">// è¿”å›é˜Ÿåˆ—ä¸­å…ƒç´ ä¸ªæ•°</span><br></code></pre></td></tr></table></figure><p>dequeæ“ä½œ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c++">deque&lt;<span class="hljs-type">int</span>&gt; dqï¼› <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªæ•°åŒç«¯é˜Ÿåˆ—dq</span><br><br>dq.<span class="hljs-built_in">empty</span>();  <span class="hljs-comment">// åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºè¿”å›true</span><br>dq.<span class="hljs-built_in">push_front</span>(s); <span class="hljs-comment">//  å°†sä»é˜Ÿå¤´å…¥é˜Ÿ</span><br>dq.<span class="hljs-built_in">push_back</span>(s);    <span class="hljs-comment">// å°†sä»é˜Ÿå°¾å…¥é˜Ÿï¼Œå’Œæ™®é€šé˜Ÿåˆ—æ–¹å¼ä¸€æ ·</span><br>dq.<span class="hljs-built_in">front</span>(); <span class="hljs-comment">// åªè¿”å›é˜Ÿå¤´å…ƒç´ </span><br>dq.<span class="hljs-built_in">back</span>(); <span class="hljs-comment">// åªè¿”å›é˜Ÿå°¾å…ƒç´ </span><br>dq.<span class="hljs-built_in">pop_front</span>(); <span class="hljs-comment">// å°†é˜Ÿå¤´å…ƒç´ å¼¹å‡º</span><br>dq.<span class="hljs-built_in">pop_back</span>(); <span class="hljs-comment">// å°†é˜Ÿå°¾å…ƒç´ å¼¹å‡º</span><br>dq.<span class="hljs-built_in">clear</span>(); <span class="hljs-comment">// å°†é˜Ÿåˆ—æ¸…ç©º</span><br></code></pre></td></tr></table></figure><p>ç”±äºdequeä¸¤ç«¯éƒ½å¯ä»¥å‹å…¥ï¼Œåªç”¨ä¸ªpushçš„è¯åˆ°åº•æ˜¯ç”¨å“ªç«¯å‹å…¥å‘¢ï¼Ÿæ‰€ä»¥æœ‰äº†<code>push_back()</code>å’Œ<code>push_front()</code>,åŒæ ·ï¼Œ<code>pop()</code>æ˜¯å¼¹å‡ºï¼Œæ‰€ä»¥æœ‰<code>pop_back()</code>å’Œ<code>pop_front()</code>ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>C++å‡½æ•°åå†’å·çš„å«ä¹‰</title>
    <link href="/2023/03/06/Cpp-%E5%87%BD%E6%95%B0%E5%90%8E%E5%86%92%E5%8F%B7%E7%9A%84%E5%90%AB%E4%B9%89/"/>
    <url>/2023/03/06/Cpp-%E5%87%BD%E6%95%B0%E5%90%8E%E5%86%92%E5%8F%B7%E7%9A%84%E5%90%AB%E4%B9%89/</url>
    
    <content type="html"><![CDATA[<h1 id="cå‡½æ•°åå†’å·çš„å«ä¹‰">C++å‡½æ•°åå†’å·çš„å«ä¹‰</h1><h2 id="c-å‡½æ•°åé¢åŠ ä¸€ä¸ªå†’å·çš„å«ä¹‰">c++ å‡½æ•°åé¢åŠ ä¸€ä¸ªå†’å·çš„å«ä¹‰</h2><p>å†’å·åé¢è·Ÿçš„æ˜¯èµ‹å€¼ï¼Œè¿™ç§å†™æ³•æ˜¯C++çš„ç‰¹æ€§</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-built_in">A</span>( <span class="hljs-type">int</span> aa, <span class="hljs-type">int</span> bb ):<span class="hljs-built_in">a</span>(aa),<span class="hljs-built_in">b</span>(bb)<br>&#123;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç­‰ä»·äº</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-built_in">A</span>( <span class="hljs-type">int</span> aa, <span class="hljs-type">int</span> bb )<br>&#123;<br>    a=aa;<br>    b=bb;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="cæ„é€ å‡½æ•°åé¢çš„å†’å·">C++æ„é€ å‡½æ•°åé¢çš„å†’å·</h2><p>åœ¨C++ç±»çš„æ„é€ å‡½æ•°ä¸­ç»å¸¸ä¼šçœ‹åˆ°å¦‚ä¸‹æ ¼å¼çš„å†™æ³•ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++">MyWindow::<span class="hljs-built_in">MyWindow</span>(QWidget* parent , Qt::WindowFlags flag) : <span class="hljs-built_in">QMainWindow</span>(parent,flag)<br></code></pre></td></tr></table></figure><p>ä¸Šè¿°è¯­å¥ä¸­å•å†’å·(:)çš„ä½œç”¨æ˜¯è¡¨ç¤ºåé¢æ˜¯åˆå§‹åŒ–åˆ—è¡¨ï¼Œä¸€èˆ¬æœ‰ä¸‰ç§ä½¿ç”¨åœºæ™¯ã€‚</p><h3 id="å¯¹çˆ¶ç±»è¿›è¡Œåˆå§‹åŒ–">å¯¹çˆ¶ç±»è¿›è¡Œåˆå§‹åŒ–</h3><p>è°ƒç”¨æ ¼å¼ä¸ºâ€œå­ç±»æ„é€ å‡½æ•° :çˆ¶ç±»æ„é€ å‡½æ•°â€ï¼Œå¦‚ä¸‹ï¼Œå…¶ä¸­QMainWindowæ˜¯MyWindowçš„çˆ¶ç±»ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++">MyWindow::<span class="hljs-built_in">MyWindow</span>(QWidget* parent , Qt::WindowFlags flag) : <span class="hljs-built_in">QMainWindow</span>(parent,flag)<br></code></pre></td></tr></table></figure><h3 id="å¯¹ç±»æˆå‘˜è¿›è¡Œåˆå§‹åŒ–">å¯¹ç±»æˆå‘˜è¿›è¡Œåˆå§‹åŒ–</h3><p>è°ƒç”¨æ ¼å¼ä¸ºâ€œæ„é€ å‡½æ•° :A(åˆå§‹å€¼),B(åˆå§‹å€¼),C(åˆå§‹å€¼)â€¦â€¦â€ï¼Œå¦‚ä¸‹ï¼Œå…¶ä¸­Aã€Bã€Cåˆ†åˆ«æ˜¯ç±»çš„æˆå‘˜å˜é‡ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">rectangle</span> <span class="hljs-comment">//å¤´æ–‡ä»¶ä¸­ç±»å®šä¹‰</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">rectangle</span>( <span class="hljs-type">int</span> pointX, <span class="hljs-type">int</span> pointY, <span class="hljs-type">int</span> Width, <span class="hljs-type">int</span> Length);<br><span class="hljs-keyword">private</span>:<br>    CPoint m_point;<br>    <span class="hljs-type">int</span> m_Width;<br>    <span class="hljs-type">int</span> m_Length;<br>&#125;;<br> <br>rectangle::<span class="hljs-built_in">rectangle</span>(<span class="hljs-type">int</span> pointX, <span class="hljs-type">int</span> pointY, <span class="hljs-type">int</span> Width, <span class="hljs-type">int</span> Length) : <span class="hljs-built_in">m_point</span>(pointX,pointY),<span class="hljs-built_in">m_Width</span>(Width),<span class="hljs-built_in">m_Length</span>(Length)<span class="hljs-comment">//æºæ–‡ä»¶ä¸­æ„é€ å‡½æ•°å®ç°</span><br>&#123;<br>    todo......<br>&#125;<br></code></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œä¸Šé¢æ„é€ å‡½æ•°çš„å®ç°ä¸ä¸‹é¢çš„å†™æ³•ç­‰ä»·</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c++">rectangle::<span class="hljs-built_in">rectangle</span>(<span class="hljs-type">int</span> pointX, <span class="hljs-type">int</span> pointY, <span class="hljs-type">int</span> Width, <span class="hljs-type">int</span> Length)<span class="hljs-comment">//æºæ–‡ä»¶ä¸­æ„é€ å‡½æ•°å®ç°</span><br>&#123;<br>    m_point.X = pointX;<br>    m_point.Y = pointY;<br>    m_Width   = Width;<br>    m_Length  = Length;<br>    todo......<br>&#125;<br></code></pre></td></tr></table></figure><h3id="å¯¹ç±»çš„constæˆå‘˜å˜é‡è¿›è¡Œåˆå§‹åŒ–">å¯¹ç±»çš„constæˆå‘˜å˜é‡è¿›è¡Œåˆå§‹åŒ–</h3><p>ç”±äºconstæˆå‘˜å˜é‡çš„å€¼æ— æ³•åœ¨æ„é€ å‡½æ•°å†…éƒ¨åˆå§‹åŒ–ï¼Œå› æ­¤åªèƒ½åœ¨å˜é‡å®šä¹‰æ—¶èµ‹å€¼æˆ–ä½¿ç”¨åˆå§‹åŒ–åˆ—è¡¨èµ‹å€¼ã€‚</p><h3 id="æ€»ç»“">æ€»ç»“</h3><p>å¯¹äºç¬¬2ã€3ç§æ–¹å¼çš„åº”ç”¨åœºæ™¯ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç‚¹è¯´æ˜ï¼š</p><ol type="1"><li><p>æ„é€ å‡½æ•°åˆ—è¡¨åˆå§‹åŒ–æ‰§è¡Œé¡ºåºä¸æˆå‘˜å˜é‡åœ¨ç±»ä¸­å£°æ˜é¡ºåºç›¸åŒï¼Œä¸åˆå§‹åŒ–åˆ—è¡¨ä¸­è¯­å¥ä¹¦å†™å…ˆåæ— å…³ã€‚</p></li><li><p>ç›¸å¯¹äºåœ¨æ„é€ å‡½æ•°ä¸­èµ‹å€¼ï¼Œåˆå§‹åŒ–åˆ—è¡¨æ‰§è¡Œæ•ˆç‡æ›´é«˜ã€‚</p></li></ol>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>C++å¸¸é‡ã€#defineã€constå’Œconstexpr</title>
    <link href="/2023/03/06/Cpp%E4%B8%ADdefine%E3%80%81const%E5%92%8Cconstexpr/"/>
    <url>/2023/03/06/Cpp%E4%B8%ADdefine%E3%80%81const%E5%92%8Cconstexpr/</url>
    
    <content type="html"><![CDATA[<h1id="cå¸¸é‡defineconstå’Œconstexpr">C++å¸¸é‡ã€#defineã€constå’Œconstexpr</h1><h2 id="å¸¸é‡">å¸¸é‡</h2><p>å¸¸é‡æ˜¯å›ºå®šå€¼ï¼Œåœ¨ç¨‹åºæ‰§è¡ŒæœŸé—´ä¸ä¼šæ”¹å˜ï¼Œå¯ä»¥æ˜¯ä»»ä½•çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå¯åˆ†ä¸ºæ•´å‹æ•°å­—ã€æµ®ç‚¹æ•°å­—ã€å­—ç¬¦ã€å­—ç¬¦ä¸²å’Œå¸ƒå°”å€¼ï¼Œå¸¸é‡çš„å€¼åœ¨å®šä¹‰åä¸èƒ½è¿›è¡Œä¿®æ”¹ï¼›</p><p>å¯ä»¥ä½¿ç”¨æšä¸¾ã€#defineã€constå’Œconstexprç­‰æ–¹æ³•å®šä¹‰å¸¸é‡.</p><h2 id="define">#define</h2><p>#defineæ˜¯é¢„å¤„ç†é˜¶æ®µè¿›è¡Œå¤„ç†ï¼Œæ˜¯ä¸€ç§å®å®šä¹‰ï¼Œæ‰€ä»¥å®šä¹‰å¸¸é‡çš„å®æ˜¯æ²¡æœ‰ç±»å‹çš„ï¼Œæ˜¯åœ¨ç¼–è¯‘å‰å³é¢„ç¼–è¯‘é˜¶æ®µè¿›è¡Œå­—ç¬¦æ›¿æ¢ï¼Œå¹¶ä¸”ç”±äºæ˜¯åœ¨é¢„å¤„ç†é˜¶æ®µæ›¿æ¢æ‰€ä»¥ä¸ä¼šæœ‰ç±»å‹å®‰å…¨æ£€æŸ¥ï¼Œç³»ç»Ÿä¹Ÿä¸ä¼šä¸ºå®ƒåˆ†é…å†…å­˜ï¼Œå­˜å‚¨åœ¨ç¨‹åºçš„ä»£ç æ®µç©ºé—´ï¼Œå®é™…å°±æ˜¯ç»™å‡ºäº†ç«‹å³æ•°ï¼Œåœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¸¸é‡åœ¨å†…å­˜ä¸­ä¼šæœ‰è‹¥å¹²ä¸ªæ‹·è´ï¼›</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">define</span> Pi 3.1415926</span><br>S = Pi * r * r <span class="hljs-comment">//è¿™é‡ŒPiä¼šæ›¿æ¢æˆ3.1415926</span><br></code></pre></td></tr></table></figure><p>å¦‚æœåªæƒ³å¸¸é‡å®åªåœ¨æŸæ®µä»£ç èµ·ä½œç”¨ï¼Œåˆ™ä½¿ç”¨#undefè¿™ä¸ªå¸¸é‡å®ï¼Œå¦‚æœå†ç”¨åˆ°äº†è¿™ä¸ªå¸¸é‡å®ï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">define</span> Pi 3.1415926</span><br>S = Pi * r * r; <span class="hljs-comment">//è¿™é‡ŒPiä¼šæ›¿æ¢æˆ3.1415926</span><br><span class="hljs-meta">#<span class="hljs-keyword">undef</span></span><br><br>S = Pi + <span class="hljs-number">1</span>; <span class="hljs-comment">//ç¼–è¯‘å™¨æŠ¥é”™</span><br></code></pre></td></tr></table></figure><h2 id="const">const</h2><p>constæ˜¯ä¸€ç§Runtimeï¼Œconstå¸¸é‡ä¼šåœ¨å†…å­˜ä¸­åˆ†é…ï¼Œå¯ä»¥æ˜¯å †ä¸­ä¹Ÿå¯ä»¥æ˜¯æ ˆä¸­ã€‚ä»¥ååœ¨å®šä¹‰çš„å¸¸é‡è°ƒç”¨æ—¶ï¼Œåªæ˜¯ä½¿ç”¨å¯¹åº”çš„å†…å­˜åœ°å€ï¼Œä¸å†å¼€è¾Ÿæ–°çš„ç©ºé—´ï¼Œåœ¨å†…å­˜ä¸­åªæœ‰ä¸€ä¸ªæ‹·è´ï¼Œå› æ­¤constç›¸æ¯”#defineï¼Œå¯ä»¥é¿å…åå¤åˆ†é…å†…å­˜ï¼ŒèŠ‚çœç©ºé—´</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">const</span> doulbe Pi=<span class="hljs-number">3.14159</span>;<br>S = Pi * r * r;<br></code></pre></td></tr></table></figure><h3 id="constä¿®é¥°æŒ‡é’ˆ">constä¿®é¥°æŒ‡é’ˆ</h3><p>constä½äº<code>*</code>çš„å·¦ä¾§ï¼Œåˆ™constå°±æ˜¯ç”¨æ¥ä¿®é¥°æŒ‡é’ˆæ‰€æŒ‡å‘çš„å˜é‡ï¼Œå³æŒ‡é’ˆæŒ‡å‘ä¸ºå¸¸é‡</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">int</span> test = <span class="hljs-number">1</span>;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span>* test_ptr = &amp;test;<span class="hljs-comment">//ç¦æ­¢ä¿®æ”¹test_ptræŒ‡å‘çš„å€¼, å¯ä»¥ä¿®æ”¹test_ptrçš„å€¼</span><br><span class="hljs-type">int</span> test2 = <span class="hljs-number">2</span>;<br>test_ptr = &amp;test2;<span class="hljs-comment">//æŒ‡å‘å¦ä¸€ä¸ªå˜é‡</span><br></code></pre></td></tr></table></figure><p>constä½äº<code>*</code>çš„å³ä¾§ï¼Œconstå°±æ˜¯ä¿®é¥°æŒ‡é’ˆæœ¬èº«ï¼Œå³æŒ‡é’ˆæœ¬èº«æ˜¯å¸¸é‡</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">int</span> test = <span class="hljs-number">1</span>;<br><span class="hljs-type">int</span>* <span class="hljs-type">const</span> test_ptr = &amp;test;<br><br>*test_ptr = <span class="hljs-number">20</span>;        <span class="hljs-comment">// å¯ä»¥ä¿®æ”¹test_ptræŒ‡å‘çš„å€¼, ç¦æ­¢ä¿®æ”¹test_ptrçš„å€¼</span><br></code></pre></td></tr></table></figure><h3 id="constä¿®é¥°å‡½æ•°">constä¿®é¥°å‡½æ•°</h3><p>åœ¨ç±»ä¸­å°†æˆå‘˜å‡½æ•°ä¿®é¥°ä¸ºconstè¡¨æ˜åœ¨è¯¥å‡½æ•°ä½“å†…ï¼Œä¸èƒ½ä¿®æ”¹å¯¹è±¡çš„æ•°æ®æˆå‘˜è€Œä¸”ä¸èƒ½è°ƒç”¨éconstå‡½æ•°ï¼Œç”±äºéconstå‡½æ•°å¯èƒ½ä¿®æ”¹æ•°æ®æˆå‘˜ï¼Œconstæˆå‘˜å‡½æ•°æ˜¯ä¸èƒ½ä¿®æ”¹æ•°æ®æˆå‘˜çš„ï¼Œæ‰€ä»¥åœ¨constæˆå‘˜å‡½æ•°å†…åªèƒ½è°ƒç”¨constå‡½æ•°</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span><br>&#123;<br><span class="hljs-keyword">private</span>:<br><span class="hljs-type">int</span> i;<br><span class="hljs-keyword">public</span>:<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">fun1</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> <span class="hljs-comment">//fun1å‡½æ•°éœ€è¦è®¾ç½®içš„å€¼ï¼Œæ‰€ä»¥ä¸èƒ½å£°æ˜ä¸ºconst</span></span><br><span class="hljs-function">    </span>&#123;<br>i = n;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">fun2</span><span class="hljs-params">()</span> <span class="hljs-type">const</span>    <span class="hljs-comment">//fun2å‡½æ•°è¿”å›içš„å€¼ï¼Œä¸éœ€è¦å¯¹iè¿›è¡Œä¿®æ”¹ï¼Œåˆ™å¯ä»¥ç”¨constä¿®é¥°ã€‚é˜²æ­¢åœ¨å‡½æ•°ä½“å†…å¯¹iè¿›è¡Œä¿®æ”¹ã€‚</span></span><br><span class="hljs-function">    </span>&#123; <br><span class="hljs-keyword">return</span> i;<br>&#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="constä¿®é¥°å‡½æ•°å‚æ•°">constä¿®é¥°å‡½æ•°å‚æ•°</h3><p>constä¿®é¥°çš„å‡½æ•°å‚æ•°æ˜¯æŒ‡é’ˆæ—¶,ä»£è¡¨åœ¨å‡½æ•°ä½“å†…ä¸èƒ½ä¿®æ”¹è¯¥æŒ‡é’ˆæ‰€æŒ‡çš„å†…å®¹ï¼Œèµ·åˆ°ä¿æŠ¤ä½œç”¨;constæŒ‡é’ˆå¯ä»¥æ¥æ”¶éconstå’ŒconstæŒ‡é’ˆï¼Œè€ŒéconstæŒ‡é’ˆåªèƒ½æ¥æ”¶éconstæŒ‡é’ˆ</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Test</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">int</span> param)</span></span>;<br></code></pre></td></tr></table></figure><h3 id="constä¿®é¥°å‡½æ•°è¿”å›å€¼">constä¿®é¥°å‡½æ•°è¿”å›å€¼</h3><p>constæ¥ä¿®é¥°è¿”å›çš„æŒ‡é’ˆæˆ–å¼•ç”¨ï¼Œä¿æŠ¤æŒ‡é’ˆæŒ‡å‘çš„å†…å®¹æˆ–å¼•ç”¨çš„å†…å®¹ä¸è¢«ä¿®æ”¹ï¼Œä¹Ÿå¸¸ç”¨äºè¿ç®—ç¬¦é‡è½½ã€‚å½’æ ¹ç©¶åº•å°±æ˜¯ä½¿å¾—å‡½æ•°è°ƒç”¨è¡¨è¾¾å¼ä¸èƒ½ä½œä¸ºå·¦å€¼</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">const</span> <span class="hljs-type">int</span>* <span class="hljs-title">Test</span><span class="hljs-params">()</span></span>;<br></code></pre></td></tr></table></figure><h3 id="constä¿®é¥°æˆå‘˜å˜é‡">constä¿®é¥°æˆå‘˜å˜é‡</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span><br>&#123;<br><span class="hljs-keyword">public</span>: <br>   <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">fun1</span><span class="hljs-params">()</span><span class="hljs-type">const</span></span>;<br><span class="hljs-keyword">private</span>:<br>   <span class="hljs-type">int</span> i;<br>&#125;<br><br><span class="hljs-type">void</span> Test:: <span class="hljs-built_in">fun1</span>() <span class="hljs-type">const</span><br>&#123;<br>    <span class="hljs-comment">//i++; iä¸èƒ½ä¿®æ”¹</span><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="constexpr">constexpr</h2><p>constexprä¸constä¸€æ ·ï¼Œå®ƒå¯ä»¥åº”ç”¨äºå˜é‡ï¼Œä¸åŒçš„æ˜¯å¯ä»¥åº”ç”¨äºå‡½æ•°å’Œç±»æ„é€ å‡½æ•°,constexpræŒ‡ç¤ºå€¼æˆ–è¿”å›å€¼æ˜¯å¸¸é‡ï¼Œå¹¶ä¸”åœ¨å¯èƒ½çš„æƒ…å†µä¸‹ï¼Œåœ¨ç¼–è¯‘æ—¶è®¡ç®—</p><h3 id="ä¿®é¥°å˜é‡">ä¿®é¥°å˜é‡</h3><p>constå’Œconstexprä¹‹é—´çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼Œconstçš„åˆå§‹åŒ–å¯ä»¥åœ¨åˆ°è¿è¡Œæ—¶ï¼Œè€Œconstexprç¼–è¯‘æ—¶å¿…é¡»åˆå§‹åŒ–</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-keyword">constexpr</span> <span class="hljs-type">float</span> <span class="hljs-title">exp</span><span class="hljs-params">(<span class="hljs-type">float</span> x, <span class="hljs-type">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> n == <span class="hljs-number">0</span> ? <span class="hljs-number">1</span> :<br>        n % <span class="hljs-number">2</span> == <span class="hljs-number">0</span> ? <span class="hljs-built_in">exp</span>(x * x, n / <span class="hljs-number">2</span>) :<br>        <span class="hljs-built_in">exp</span>(x * x, (n - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>) * x;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ä¿®é¥°æ„é€ å‡½æ•°">ä¿®é¥°æ„é€ å‡½æ•°</h3><p>constexprè¿˜èƒ½ç”¨äºä¿®é¥°ç±»çš„æ„é€ å‡½æ•°ï¼Œå³ä¿è¯å¦‚æœæä¾›ç»™è¯¥æ„é€ å‡½æ•°çš„å‚æ•°éƒ½æ˜¯constexprï¼Œé‚£ä¹ˆäº§ç”Ÿçš„å¯¹è±¡ä¸­çš„æ‰€æœ‰æˆå‘˜éƒ½ä¼šæ˜¯constexprï¼Œè¯¥å¯¹è±¡ä¹Ÿå°±æ˜¯constexprå¯¹è±¡äº†ï¼Œå¯ç”¨äºå„ç§åªèƒ½ä½¿ç”¨constexprçš„åœºåˆã€‚æ³¨æ„ï¼Œconstexpræ„é€ å‡½æ•°å¿…é¡»æœ‰ä¸€ä¸ªç©ºçš„å‡½æ•°ä½“ï¼Œå³æ‰€æœ‰æˆå‘˜å˜é‡çš„åˆå§‹åŒ–éƒ½æ”¾åˆ°åˆå§‹åŒ–åˆ—è¡¨ä¸­</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Base</span><br>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">constexpr</span> <span class="hljs-title">Base</span><span class="hljs-params">(<span class="hljs-type">int</span> xx, <span class="hljs-type">int</span> yy,<span class="hljs-type">int</span> zz)</span></span><br><span class="hljs-function">        :x(xx),y(yy),z(zz)&#123;</span>&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">constexpr</span> <span class="hljs-title">Base</span><span class="hljs-params">()</span></span><br><span class="hljs-function">        :Base(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>)&#123;</span>&#125;<br>    <span class="hljs-type">int</span> x;<br>    <span class="hljs-type">int</span> y;<br>    <span class="hljs-type">int</span> z;<br>&#125;;<br><br><span class="hljs-keyword">constexpr</span> Base pt = &#123;<span class="hljs-number">100</span>,<span class="hljs-number">100</span>,<span class="hljs-number">100</span>&#125;;<br></code></pre></td></tr></table></figure><p>è½¬è½½è‡ª<a href="https://zhuanlan.zhihu.com/p/473260243">C/C++å¸¸é‡ã€#defineã€constå’Œconstexpr</a></p>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è´¨æ•°ç­›æ³•:åŸƒæ°ç­›å’Œæ¬§æ‹‰ç­›</title>
    <link href="/2023/03/06/%E8%B4%A8%E6%95%B0%E7%AD%9B%E6%B3%95%E4%B9%8B%E5%9F%83%E6%B0%8F%E7%AD%9B%E5%92%8C%E6%AC%A7%E6%8B%89%E7%AD%9B/"/>
    <url>/2023/03/06/%E8%B4%A8%E6%95%B0%E7%AD%9B%E6%B3%95%E4%B9%8B%E5%9F%83%E6%B0%8F%E7%AD%9B%E5%92%8C%E6%AC%A7%E6%8B%89%E7%AD%9B/</url>
    
    <content type="html"><![CDATA[<h1 id="è´¨æ•°æ•°ç­›æ³•">è´¨æ•°æ•°ç­›æ³•</h1><p>æœ¬æ–‡ä¸»è¦ä»‹ç»åŸƒæ°ç­›æ³•å’Œæ¬§æ‹‰ç­›æ³•ã€‚</p><h2 id="åˆ¤æ–­å•ä¸ªæ•°æ˜¯ä¸æ˜¯è´¨æ•°">åˆ¤æ–­å•ä¸ªæ•°æ˜¯ä¸æ˜¯è´¨æ•°</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">isPrime</span><span class="hljs-params">(<span class="hljs-type">int</span> num)</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">if</span>(num == <span class="hljs-number">1</span>)<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br><span class="hljs-keyword">if</span>(num==<span class="hljs-number">2</span> || num==<span class="hljs-number">3</span>)<br><span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span>(num%<span class="hljs-number">6</span> != <span class="hljs-number">1</span> &amp;&amp; num%<span class="hljs-number">6</span> != <span class="hljs-number">5</span>)<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> tmp = <span class="hljs-built_in">sqrt</span>(num);<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">5</span>; i &lt;= tmp; i+=<span class="hljs-number">6</span>)<br><span class="hljs-keyword">if</span>(num%i==<span class="hljs-number">0</span> || num%(i+<span class="hljs-number">2</span>) == <span class="hljs-number">0</span>)<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br><span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä½†æ˜¯å½“æœ‰å¾ˆå¤šä¸ªæ•°éœ€è¦åˆ¤æ–­çš„æ—¶å€™ï¼Œæ¯æ¬¡éƒ½è¾“å…¥numåˆ¤æ–­æ˜¯å¦æ˜¯è´¨æ•°å°±å¾ˆè€—æ—¶äº†ï¼Œè¿™æ ·æå‰å°†ä¸€ä¸ªèŒƒå›´çš„è´¨æ•°ç®—å‡ºæ¥å¯ä»¥æ›´èŠ‚çœæ—¶é—´ï¼Œæ‰€ä»¥å°±ç”¨åˆ°äº†è´¨æ•°ç­›æ³•ã€‚</p><h2 id="æš´åŠ›ç­›æ³•">æš´åŠ›ç­›æ³•</h2><p>å­¦ä¹ åŸƒæ°ç­›ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹æš´åŠ›ç­›æ³•ï¼Œå³å¯¹æ¯ä¸ªæ•°éƒ½ç”¨è¯•é™¤æ³•åˆ¤æ–­å…¶æ˜¯ä¸æ˜¯è´¨æ•°ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">static</span> <span class="hljs-keyword">constexpr</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e7</span> + <span class="hljs-number">5</span>;<br><span class="hljs-type">int</span> st[N]; <span class="hljs-comment">// åˆå§‹åŒ–ä¸º0ï¼Œ 0è¡¨ç¤ºè´¨æ•°ï¼Œ1è¡¨ç¤ºåˆæ•°</span><br><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++)&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">2</span>; j &lt;= i / j; j++)&#123;<span class="hljs-comment">//è¯•é™¤æ³•</span><br><span class="hljs-keyword">if</span>(i % j == <span class="hljs-number">0</span>)&#123;<br>st[i] = <span class="hljs-number">1</span>; <span class="hljs-comment">// åˆæ•°ï¼Œæ ‡è®°ä¸º1 </span><br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="åŸƒå¼ç­›">åŸƒå¼ç­›</h2><p>æš´åŠ›ç­›æ³•æ— ç–‘æ˜¯æœ€æ…¢çš„ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹å¦‚ä½•åŠ å¿«ï¼Œæ¢ä¸€ç§æ€è·¯ï¼šä¸€ä¸ªè´¨æ•°çš„å€æ•°ä¸€å®šæ˜¯åˆæ•°ï¼Œæ‰€ä»¥ï¼Œå‡è®¾<spanclass="math inline">\(P\)</span>æ˜¯è´¨æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç­›æ‰åŒºé—´<spanclass="math inline">\([1,1e7]\)</span>ä¸­æ‰€æœ‰<spanclass="math inline">\(P\)</span>çš„å€æ•°ã€‚ å…ˆçœ‹ä¸ªä¾‹å­ï¼Œå¯¹äºæ•°åˆ—1~11ï¼š</p><p><img src="/img/ç®—æ³•/ç´ æ•°ç­›æ³•/æ•°1-11.png" /></p><p>å…ˆç­›å»2çš„å€æ•°ï¼š</p><p><img src="/img/ç®—æ³•/ç´ æ•°ç­›æ³•/ç­›å»2å€æ•°.png" /></p><p>å†ç­›å»3å€æ•°ï¼š</p><p><img src="/img/ç®—æ³•/ç´ æ•°ç­›æ³•/ç­›å»3å€æ•°.png" /></p><p>å†ç­›å»5å€æ•°ï¼š</p><p><img src="/img/ç®—æ³•/ç´ æ•°ç­›æ³•/ç­›å»5å€æ•°.png" /></p><p>è‡³æ­¤ï¼Œ1~11å†…çš„æ‰€æœ‰åˆæ•°éƒ½è¢«ç­›å®Œäº†ï¼Œ 2 3 5 7 11æ˜¯æ•°åˆ—ä¸­çš„è´¨æ•°ã€‚</p><p>ä¸ºä»€ä¹ˆè¿™æ ·èƒ½ç­›å»æ‰€æœ‰çš„åˆæ•°å‘¢ï¼Œå› ä¸º<strong>ä¸€ä¸ªåˆæ•°ä¸€å®šèƒ½è¢«åˆ†è§£ä¸ºå‡ ä¸ªè´¨æ•°çš„å¹‚çš„ä¹˜ç§¯</strong>ï¼Œå¹¶ä¸”è¿™ä¸ªæ•°çš„è´¨å› å­ä¸€å®šæ˜¯å°äºå®ƒæœ¬èº«çš„ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬ä»å°åˆ°å¤§å°†æ¯ä¸ªè´¨æ•°çš„å€æ•°éƒ½ç­›å»çš„è¯ï¼Œå½“éå†åˆ°ä¸€ä¸ªåˆæ•°æ—¶ï¼Œå®ƒä¸€å®šå·²ç»è¢«å®ƒçš„è´¨å› å­ç»™ç­›å»äº†ã€‚</p><p>åŸƒæ°ç­›ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e7</span> + <span class="hljs-number">5</span>;<br><span class="hljs-type">static</span> <span class="hljs-type">int</span>[] st = <span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[N];<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">E_sieve</span><span class="hljs-params">(<span class="hljs-type">int</span>  n)</span></span><br><span class="hljs-function"></span>&#123;<br><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++)<br>&#123;<br><span class="hljs-keyword">if</span>(st[i] == <span class="hljs-number">0</span>)<br>&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">2</span> * i; j &lt;= n; j += i)<br>    st[j] = <span class="hljs-number">1</span>;  <span class="hljs-comment">// jæ˜¯içš„ä¸€ä¸ªå€æ•°ï¼Œjæ˜¯åˆæ•°ï¼Œç­›æ‰ã€‚</span><br>&#125;<br>&#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç çš„æ—¶é—´å¤æ‚åº¦ä¸º<span class="math inline">\(O(n\log{\log_2 n})\)</span></p><p>æˆ‘ä»¬è¿˜å¯ä»¥å¯¹å…¶è¿›è¡Œä¼˜åŒ–ï¼š</p><ul><li>æˆ‘ä»¬ä¼šå…ˆç­›<spanclass="math inline">\(2\)</span>çš„æ‰€æœ‰å€æ•°ï¼Œç„¶åç­›<spanclass="math inline">\(3\)</span>çš„æ‰€æœ‰å€æ•°ï¼Œä½†ç­›é™¤<spanclass="math inline">\(3\)</span>çš„å€æ•°æ—¶ï¼Œæˆ‘ä»¬è¿˜æ˜¯ä»<spanclass="math inline">\(3\)</span>çš„<spanclass="math inline">\(2\)</span>å€å¼€å§‹ç­›ï¼Œå…¶å®<spanclass="math inline">\(3 * 2\)</span> ï¼Œå·²ç»è¢«<spanclass="math inline">\(2 * 3\)</span>æ—¶ç­›è¿‡äº†ã€‚åˆæ¯”å¦‚è¯´ç­›5çš„å€æ•°æ—¶ï¼Œæˆ‘ä»¬ä»5çš„2å€å¼€å§‹ç­›ï¼Œä½†æ˜¯<spanclass="math inline">\(5 * 2\)</span>ä¼šå…ˆè¢«<span class="math inline">\(2* 5\)</span>ç­›å»ï¼Œ <span class="math inline">\(5 * 3\)</span>ä¼šå…ˆè¢«<spanclass="math inline">\(3 * 5\)</span>ä¼šç­›å»ï¼Œ<spanclass="math inline">\(5 * 4\)</span>ä¼šå…ˆè¢«<span class="math inline">\(2* 10\)</span>ç­›å»ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¯ä¸€æ¬¡åªéœ€è¦ä»<spanclass="math inline">\(i*i\)</span>å¼€å§‹ç­›ï¼Œå› ä¸º<spanclass="math inline">\((2ï¼Œ3,â€¦,i - 1)\)</span>å€å·²ç»è¢«ç­›è¿‡äº†ã€‚</li><li>å¦å¤–ï¼Œåˆ¤æ–­ä¸€ä¸ªæ•° <spanclass="math inline">\(n\)</span>æ˜¯ä¸æ˜¯è´¨æ•°ï¼Œæˆ‘ä»¬åªåˆ¤æ–­<spanclass="math inline">\([2, \sqrt{n}]\)</span>å†…æœ‰æ²¡æœ‰å®ƒçš„å› å­ã€‚åœ¨ç­›åˆæ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™æ ·åšï¼Œå› ä¸ºä¸€ä¸ªåˆæ•°çš„æœ€å°è´¨å› å­ä¸€å®šå°äºç­‰äº<span class="math inline">\(\sqrt{n}\)</span>ã€‚æ‰€ä»¥å¯¹äºåŒºé—´<spanclass="math inline">\([1, 1e7]\)</span>ï¼Œæœ€å¤§çš„åˆæ•°æ˜¯ <spanclass="math inline">\(1e7\)</span>, å®ƒçš„æœ€å°è´¨å› å­ä¸€å®šæ˜¯å°äºç­‰äº <spanclass="math inline">\(\sqrt{1e7}\)</span>ï¼ŒåŒºé—´å†…å…¶ä»–çš„åˆæ•°çš„æœ€å°è´¨å› å­ä¹Ÿä¸€å®šæ˜¯å°äºç­‰äº <spanclass="math inline">\(\sqrt{1e7}\)</span>çš„ï¼Œæ‰€ä»¥åªéœ€è¦ç”¨<spanclass="math inline">\([1, \sqrt{1e7}]\)</span>ä¸­çš„è´¨æ•°å°±å¯ä»¥ç­›å» <spanclass="math inline">\([1, 1e7]\)</span>ä¸­æ‰€æœ‰çš„åˆæ•°ã€‚</li></ul><p>ä¼˜åŒ–åçš„åŸƒå¼ç­›ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e7</span> + <span class="hljs-number">5</span>;<br><span class="hljs-type">static</span> <span class="hljs-type">int</span>[] st = <span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[N];<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">E_sieve</span><span class="hljs-params">(<span class="hljs-type">int</span>  n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// æ³¨æ„å¾ªç¯æ¡ä»¶i &lt;= n / iï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥æˆsqrt(n)?</span><br>    <span class="hljs-comment">// å†™æˆè¿™æ ·çš„å½¢å¼å½“i &gt;= sqrt(n) æ—¶å€™ä¾ç„¶å¯ä»¥åœæ­¢å¾ªç¯ï¼Œè€Œä¸”åŠ å‡æ³•éœ€è¦å‡ ä¸ªæ—¶é’Ÿå‘¨æœŸï¼Œä¹˜æ³•éœ€è¦10å‡ ä¸ªæ—¶é’Ÿå‘¨æœŸï¼Œé™¤æ³•éœ€è¦2ã€3åä¸ªæ—¶é’Ÿå‘¨æœŸï¼Œå¼€æ ¹å·éœ€è¦8000ä¸ªæ—¶é’Ÿå‘¨æœŸï¼Œè¿™æ ·å¯ä»¥èŠ‚çœæ—¶é—´</span><br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt;= n / i; i++)<br>&#123;<br><span class="hljs-keyword">if</span>(st[i] == <span class="hljs-number">0</span>)<br>&#123;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = i * i; j &lt;= n; j += i)<br>    st[j] = <span class="hljs-number">1</span>;  <span class="hljs-comment">// jæ˜¯içš„ä¸€ä¸ªå€æ•°ï¼Œjæ˜¯åˆæ•°ï¼Œç­›æ‰ã€‚</span><br>&#125;<br>&#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>ä¼˜åŒ–åçš„æ—¶é—´å¤æ‚åº¦å¯ä»¥è¿‘ä¼¼çœ‹æˆ<spanclass="math inline">\(O(n)\)</span>äº†ã€‚</p><h2 id="æ¬§æ‹‰ç­›">æ¬§æ‹‰ç­›</h2><p>ä¼˜åŒ–åçš„åŸƒå¼ç­›æ—¶é—´å¤æ‚åº¦å¯ä»¥<strong>è¿‘ä¼¼</strong>çœ‹æˆ<spanclass="math inline">\(O(n)\)</span>ï¼Œä½†æ˜¯æ¬§æ‹‰ç­›å¯ä»¥æ¯”å®ƒæ›´å¿«ï¼Œæ¬§æ‹‰ç­›çš„æ—¶é—´å¤æ‚åº¦æ˜¯<spanclass="math inline">\(O(n)\)</span>ï¼Œåˆè¢«ç§°ä¸ºçº¿æ€§ç­›ã€‚</p><p>åŸƒæ°ç­›æ˜¯ç­›å»æ¯ä¸ªè´¨æ•°çš„å€æ•°ï¼Œä½†éš¾å…ï¼Œä¼šæœ‰åˆæ•°ä¼šè¢«å…¶ä¸åŒçš„è´¨å› å­å¤šæ¬¡é‡å¤ç­›å»ã€‚è¿™å°±é€ æˆäº†æ—¶é—´æµªè´¹ã€‚</p><p>æ¯”å¦‚è¯´ï¼š <span class="math inline">\(120 = 2^3 * 3 * 5\)</span>,<spanclass="math inline">\(120\)</span> ä¼šè¢«<spanclass="math inline">\(2\)</span>ç­›å»ä¸€æ¬¡ï¼Œ <spanclass="math inline">\(3\)</span>ç­›å»ä¸€æ¬¡ï¼Œ <spanclass="math inline">\(5\)</span>ç­›å»ä¸€æ¬¡ã€‚ å¤šåšäº†ä¸¤æ¬¡ä¸å¿…è¦çš„æ“ä½œã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•ç¡®ä¿120åªè¢«2ç­›æ‰å‘¢ï¼Ÿåœ¨åŸƒæ°ç­›ä¸­æˆ‘ä»¬ç”¨äº†ä¸€ä¸ªå¾ªç¯æ¥ç­›é™¤ä¸€ä¸ªè´¨æ•°çš„æ‰€æœ‰å€æ•°ï¼Œå³å¯¹äºpæ¥è¯´ï¼Œç­›é™¤æ•°åˆ—ï¼š<span class="math inline">\(2 * p , 3 * p, ... ,k*p\)</span>ã€‚å¦å¤–ï¼Œæˆ‘ä»¬æ˜¯ä»å°åˆ°å¤§æšä¸¾åŒºé—´ä¸­çš„æ¯ä¸ªæ•°çš„ï¼Œæ•°åˆ—æ˜¯ï¼š<spanclass="math inline">\(2,3,4,...,n\)</span>ã€‚</p><p>å¯¹æ¯”ä¸¤ä¸ªæ•°åˆ—ï¼š</p><p><span class="math display">\[\begin{align}    &amp;2 * p , 3 * p, ... , k*p \\    &amp;2,3,4,...,n\end{align}\]</span></p><p>ä¼šå‘ç°ï¼Œç¬¬äºŒä¸ªæ•°åˆ—æ˜¯ç¬¬ä¸€ä¸ªæ•°åˆ—çš„ç³»æ•°,æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸éœ€è¦ç”¨ä¸€ä¸ªforå¾ªç¯å»ç­›é™¤ä¸€ä¸ªè´¨æ•°çš„æ‰€æœ‰å€æ•°ï¼Œæˆ‘ä»¬å°†æ‰€æœ‰è´¨æ•°å­˜å‚¨åˆ°<code>primes[]</code>ä¸­ï¼Œç„¶åæšä¸¾åˆ°ç¬¬iä¸ªæ•°æ—¶ï¼Œå°±ç­›å»æ‰€æœ‰çš„<code>primes[j] * i</code>ã€‚è¿™æ ·å°±åœ¨æ¯ä¸€æ¬¡éå†ä¸­ï¼Œæ­£å¥½ç­›é™¤äº†æ‰€æœ‰å·²çŸ¥ç´ æ•°çš„<code>i</code>å€ã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">static</span> <span class="hljs-keyword">constexpr</span> <span class="hljs-type">int</span> N = <span class="hljs-number">1e7</span> + <span class="hljs-number">5</span>;<br><span class="hljs-comment">//isPrime[i] == 1è¡¨ç¤ºï¼šiæ˜¯ç´ æ•°</span><br>vector&lt;<span class="hljs-type">bool</span>&gt; isPrime;<br><span class="hljs-comment">//Primeå­˜è´¨æ•°</span><br>vector&lt;<span class="hljs-type">int</span>&gt; Prime;<br><span class="hljs-type">int</span> cnt = <span class="hljs-number">0</span>;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">GetPrime</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span><span class="hljs-comment">//ç­›åˆ°n</span></span><br><span class="hljs-function"></span>&#123;<br>    Prime.<span class="hljs-built_in">push_back</span>(<span class="hljs-number">0</span>);<br>    isPrime.<span class="hljs-built_in">resize</span>(N, <span class="hljs-number">1</span>);<br>    <span class="hljs-comment">//ä»¥â€œæ¯ä¸ªæ•°éƒ½æ˜¯ç´ æ•°â€ä¸ºåˆå§‹çŠ¶æ€ï¼Œé€ä¸ªåˆ å»</span><br>    isPrime[<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;<span class="hljs-comment">//1ä¸æ˜¯ç´ æ•°</span><br><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(isPrime[i])<span class="hljs-comment">//æ²¡ç­›æ‰ </span><br>        &#123;<br>            Prime.<span class="hljs-built_in">push_back</span>(i);<br>            ++cnt;<br>        &#125;<br>            <br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= cnt &amp;&amp; i * Prime[j] &lt;= n<span class="hljs-comment">/*ä¸è¶…ä¸Šé™*/</span>; j++) <br>        &#123;<br>            <span class="hljs-comment">//ä»Prime[1]ï¼Œå³æœ€å°è´¨æ•°2å¼€å§‹ï¼Œé€ä¸ªæšä¸¾å·²çŸ¥çš„è´¨æ•°ï¼Œå¹¶æœŸæœ›Prime[j]æ˜¯(i*Prime[j])çš„æœ€å°è´¨å› æ•°</span><br>            <span class="hljs-comment">//å½“ç„¶ï¼Œiè‚¯å®šæ¯”Prime[j]å¤§ï¼Œå› ä¸ºPrime[j]æ˜¯åœ¨iä¹‹å‰å¾—å‡ºçš„</span><br>            isPrime[i * Prime[j]] = <span class="hljs-number">0</span>;<br><br>            <span class="hljs-keyword">if</span>(i % Prime[j] == <span class="hljs-number">0</span>)<span class="hljs-comment">//iä¸­ä¹Ÿå«æœ‰Prime[j]è¿™ä¸ªå› å­</span><br>                <span class="hljs-keyword">break</span>; <span class="hljs-comment">//é‡è¦æ­¥éª¤ã€‚è§åŸç†</span><br>        &#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ³¨æ„å†…å±‚å¾ªç¯æœ‰ä¸€ä¸ª<code>break</code>çš„æ¡ä»¶<code>i % primes[j] == 0</code>,ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p><strong>å› ä¸º</strong>:</p><p>ç”±</p><p><span class="math display">\[i \quad \% \quad primes[j] ==0\]</span></p><p>å¯å¾—</p><p><span class="math display">\[primes[j] * k = i \tag{1}\]</span></p><p>è®¾</p><p><span class="math display">\[primes[j] * k = X\tag{2}\]</span></p><p>å°†<span class="math inline">\((1)\)</span>ä»£å…¥åˆ°<spanclass="math inline">\((2)\)</span>ä¸­å¯å¾—</p><p><span class="math display">\[primes[j+1] * primes[j] * k =X\]</span></p><p>å› ä¸º<span class="math inline">\(primes[j+1] &gt;primes[j]\)</span>,æ‰€ä»¥<span class="math inline">\(primes[j+1] * k &gt;i\)</span>ã€‚</p><p>è®¾</p><p><span class="math display">\[primes[j] * k = i^\prime\]</span></p><p>åˆ™</p><p><span class="math display">\[primes[j] * i^\prime =X\tag{3}\]</span></p><p>æ‰€ä»¥å¦‚æœç”¨<span class="math inline">\((2)\)</span>å¼ç­›å»<spanclass="math inline">\(X\)</span>çš„è¯ï¼Œå½“<spanclass="math inline">\(i\)</span>ç­‰äº<spanclass="math inline">\(i&#39;\)</span>æ—¶ï¼Œ<spanclass="math inline">\(X\)</span>åˆä¼šè¢«<spanclass="math inline">\((3)\)</span>å¼ç­›å»ä¸€æ¬¡ï¼Œä¸ºäº†ç¡®ä¿åˆæ•°åªè¢«æœ€å°è´¨å› å­ç­›æ‰ï¼Œæœ€å°è´¨å› å­è¦ä¹˜ä»¥æœ€å¤§çš„å€æ•°ï¼Œå³è¦ä¹˜ä»¥æœ€å¤§çš„<spanclass="math inline">\(i\)</span>, æ‰€ä»¥ä¸èƒ½æå‰ç­›ã€‚</p><p>æ¯”å¦‚è¯´ <span class="math inline">\(1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ6ï¼Œ7ï¼Œ8ï¼Œ9ï¼Œ10ï¼Œ11ï¼Œ 12\)</span>,å½“<code>i == 4</code> æ—¶,<code>primes = &#123;2, 3&#125;</code>,æ­¤æ—¶ <code>i % 2 == 0</code>,å¦‚æœä¸ç»“æŸå†…å±‚å¾ªç¯çš„è¯ï¼Œ <spanclass="math inline">\(12\)</span>ä¼šè¢«<spanclass="math inline">\(3*4\)</span>ç­›æ‰ï¼Œ å½“<code>i == 6</code>æ—¶ï¼Œ<spanclass="math inline">\(12\)</span>åˆä¼šè¢«<spanclass="math inline">\(2*6\)</span>ç­›æ‰ã€‚</p><p><strong>æ¬§æ‹‰ç­›çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯ç¡®ä¿æ¯ä¸ªåˆæ•°åªè¢«æœ€å°è´¨å› æ•°ç­›æ‰ã€‚æˆ–è€…è¯´æ˜¯è¢«åˆæ•°çš„æœ€å¤§å› å­ç­›æ‰ã€‚</strong></p>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>C++å·¦å€¼å’Œå³å€¼</title>
    <link href="/2023/03/04/Cpp-%E5%B7%A6%E5%80%BC%E5%92%8C%E5%8F%B3%E5%80%BC/"/>
    <url>/2023/03/04/Cpp-%E5%B7%A6%E5%80%BC%E5%92%8C%E5%8F%B3%E5%80%BC/</url>
    
    <content type="html"><![CDATA[<h1 id="ç†è§£-cc-ä¸­çš„å·¦å€¼å’Œå³å€¼">ç†è§£ C/C++ ä¸­çš„å·¦å€¼å’Œå³å€¼</h1><p>æˆ‘ä»¬åœ¨ C/C++ ç¼–ç¨‹ä¸­å¹¶ä¸ä¼šç»å¸¸ç”¨åˆ° <em>å·¦å€¼ (lvalue)</em> å’Œ <em>å³å€¼(rvalue)</em>ä¸¤ä¸ªæœ¯è¯­ã€‚ç„¶è€Œä¸€æ—¦é‡è§ï¼Œåˆå¸¸å¸¸ä¸æ¸…æ¥šå®ƒä»¬çš„å«ä¹‰ã€‚æœ€å¯èƒ½å‡ºç°ä¸¤è¿™ä¸ªæœ¯è¯­çš„åœ°æ–¹æ˜¯åœ¨ç¼–è¯‘é”™è¯¯æˆ–è­¦å‘Šçš„ä¿¡æ¯ä¸­ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨<code>gcc</code> ç¼–è¯‘ä»¥ä¸‹ä»£ç æ—¶ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span> </span>&#123;<span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">foo</span>() = <span class="hljs-number">2</span>;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä½ ä¼šå¾—åˆ°ï¼š</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stata"><span class="hljs-keyword">test</span>.c: <span class="hljs-keyword">In</span> function &#x27;main&#x27;:<br><span class="hljs-keyword">test</span>.c:8:5: <span class="hljs-keyword">error</span>: lvalue required <span class="hljs-keyword">as</span> left operand of assignment<br></code></pre></td></tr></table></figure><p>æ²¡é”™ï¼Œè¿™ä¸ªä¾‹å­æœ‰ç‚¹å¤¸å¼ ï¼Œä¸åƒæ˜¯ä½ èƒ½å†™å‡ºæ¥çš„ä»£ç ã€‚ä¸è¿‡é”™è¯¯ä¿¡æ¯ä¸­æåˆ°äº†å·¦å€¼(lvalue)ã€‚å¦ä¸€ä¸ªä¾‹å­æ˜¯å½“ä½ ç”¨ <code>g++</code> ç¼–è¯‘ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">int</span>&amp; <span class="hljs-title">foo</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç°åœ¨é”™è¯¯ä¿¡æ¯æ˜¯ï¼š</p><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs oxygene">testcpp.cpp: <span class="hljs-keyword">In</span> <span class="hljs-keyword">function</span> &#x27;<span class="hljs-title function_">int</span>&amp; <span class="hljs-title function_">foo</span><span class="hljs-params">()</span>&#x27;:<br>testcpp.cpp:<span class="hljs-number">5</span>:<span class="hljs-number">12</span>: error: invalid initialization <span class="hljs-keyword">of</span> non-<span class="hljs-keyword">const</span> <span class="hljs-keyword">reference</span> <span class="hljs-keyword">of</span> <span class="hljs-keyword">type</span> <span class="hljs-string">&#x27;int&amp;&#x27;</span> <span class="hljs-keyword">from</span> an rvalue <span class="hljs-keyword">of</span> <span class="hljs-keyword">type</span> <span class="hljs-string">&#x27;int&#x27;</span><br></code></pre></td></tr></table></figure><p>åŒæ ·çš„ï¼Œé”™è¯¯ä¿¡æ¯ä¸­æåˆ°äº†æœ¯è¯­å³å€¼ (rvalue)ã€‚é‚£ä¹ˆï¼Œåœ¨ C å’Œ C++ ä¸­ï¼Œå·¦å€¼å’Œ å³å€¼ åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæˆ‘è¿™ç¯‡æ–‡ç« å°†ä¼šè¯¦ç»†è§£é‡Šã€‚</p><h2 id="ç®€å•çš„å®šä¹‰">ç®€å•çš„å®šä¹‰</h2><p>è¿™é‡Œæˆ‘æ•…æ„ç»™å‡ºäº†ä¸€ä¸ª <strong>å·¦å€¼</strong> å’Œ <strong>å³å€¼</strong>çš„ç®€åŒ–ç‰ˆå®šä¹‰ã€‚æ–‡ç« å‰©ä¸‹çš„éƒ¨åˆ†è¿˜ä¼šè¿›è¡Œè¯¦ç»†è§£é‡Šã€‚</p><p><strong>å·¦å€¼ (lvalue, locator value)</strong>è¡¨ç¤ºäº†ä¸€ä¸ªå æ®å†…å­˜ä¸­æŸä¸ªå¯è¯†åˆ«çš„ä½ç½®ï¼ˆä¹Ÿå°±æ˜¯ä¸€ä¸ªåœ°å€ï¼‰çš„å¯¹è±¡ã€‚</p><p><strong>å³å€¼ (rvalue)</strong> åˆ™ä½¿ç”¨æ’é™¤æ³•æ¥å®šä¹‰ã€‚ä¸€ä¸ªè¡¨è¾¾å¼ä¸æ˜¯å·¦å€¼ å°±æ˜¯ å³å€¼ ã€‚é‚£ä¹ˆï¼Œå³å€¼æ˜¯ä¸€ä¸ª<strong>ä¸</strong>è¡¨ç¤ºå†…å­˜ä¸­æŸä¸ªå¯è¯†åˆ«ä½ç½®çš„å¯¹è±¡çš„è¡¨è¾¾å¼ã€‚</p><h2 id="ä¸¾ä¾‹">ä¸¾ä¾‹</h2><p>ä¸Šé¢çš„æœ¯è¯­å®šä¹‰æ˜¾å¾—æœ‰äº›æ¨¡ç³Šï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦é©¬ä¸Šçœ‹ä¸€äº›ä¾‹å­ã€‚æˆ‘ä»¬å‡è®¾å®šä¹‰å¹¶èµ‹å€¼äº†ä¸€ä¸ªæ•´å½¢å˜é‡ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">int</span> var;<br>var = <span class="hljs-number">4</span>;<br></code></pre></td></tr></table></figure><p>èµ‹å€¼æ“ä½œéœ€è¦å·¦æ“ä½œæ•°æ˜¯ä¸€ä¸ªå·¦å€¼ã€‚<code>var</code>æ˜¯ä¸€ä¸ªæœ‰å†…å­˜ä½ç½®çš„å¯¹è±¡ï¼Œå› æ­¤å®ƒæ˜¯å·¦å€¼ã€‚ç„¶è€Œï¼Œä¸‹é¢çš„å†™æ³•åˆ™æ˜¯é”™çš„ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-number">4</span> = var;       <span class="hljs-comment">// é”™è¯¯ï¼</span><br>(var + <span class="hljs-number">1</span>) = <span class="hljs-number">4</span>; <span class="hljs-comment">// é”™è¯¯ï¼</span><br></code></pre></td></tr></table></figure><p>å¸¸é‡ <code>4</code> å’Œè¡¨è¾¾å¼ <code>var + 1</code>éƒ½ä¸æ˜¯å·¦å€¼ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä»¬æ˜¯å³å€¼ï¼‰ï¼Œå› ä¸ºå®ƒä»¬éƒ½æ˜¯è¡¨è¾¾å¼çš„ä¸´æ—¶ç»“æœï¼Œè€Œæ²¡æœ‰å¯è¯†åˆ«çš„å†…å­˜ä½ç½®ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œåªå­˜åœ¨äºè®¡ç®—è¿‡ç¨‹ä¸­çš„æ¯ä¸ªä¸´æ—¶å¯„å­˜å™¨ä¸­ï¼‰ã€‚å› æ­¤ï¼Œèµ‹å€¼ç»™å®ƒä»¬æ˜¯æ²¡æœ‰ä»»ä½•è¯­ä¹‰ä¸Šçš„æ„ä¹‰çš„â€”â€”æˆ‘ä»¬èµ‹å€¼åˆ°äº†ä¸€ä¸ªä¸å­˜åœ¨çš„ä½ç½®ã€‚</p><p>é‚£ä¹ˆï¼Œæˆ‘ä»¬å°±èƒ½ç†è§£ç¬¬ä¸€ä¸ªä»£ç ç‰‡æ®µä¸­çš„é”™è¯¯ä¿¡æ¯çš„å«ä¹‰äº†ã€‚<code>foo</code>è¿”å›çš„æ˜¯ä¸€ä¸ªä¸´æ—¶çš„å€¼ã€‚å®ƒæ˜¯ä¸€ä¸ªå³å€¼ï¼Œèµ‹å€¼ç»™å®ƒæ˜¯é”™è¯¯çš„ã€‚å› æ­¤å½“ç¼–è¯‘å™¨çœ‹åˆ°<code>foo() = 2</code> æ—¶ï¼Œä¼šæŠ¥é”™â€”â€”èµ‹å€¼è¯­å¥çš„å·¦è¾¹åº”å½“æ˜¯ä¸€ä¸ªå·¦å€¼ã€‚</p><p>ç„¶è€Œï¼Œç»™å‡½æ•°è¿”å›çš„ç»“æœèµ‹å€¼ï¼Œä¸ä¸€å®šæ€»æ˜¯é”™è¯¯çš„æ“ä½œã€‚ä¾‹å¦‚ï¼ŒC++çš„å¼•ç”¨è®©æˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">int</span> globalvar = <span class="hljs-number">20</span>;<br><br><span class="hljs-function"><span class="hljs-type">int</span>&amp; <span class="hljs-title">foo</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> globalvar;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">foo</span>() = <span class="hljs-number">10</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œ <code>foo</code>è¿”å›ä¸€ä¸ªå¼•ç”¨ã€‚<strong>å¼•ç”¨ä¸€ä¸ªå·¦å€¼</strong>ï¼Œå› æ­¤å¯ä»¥èµ‹å€¼ç»™å®ƒã€‚å®é™…ä¸Šï¼ŒC++ä¸­å‡½æ•°å¯ä»¥è¿”å›å·¦å€¼çš„åŠŸèƒ½å¯¹å®ç°ä¸€äº›é‡è½½çš„æ“ä½œç¬¦éå¸¸é‡è¦ã€‚ä¸€ä¸ªå¸¸è§çš„ä¾‹å­å°±æ˜¯é‡è½½æ–¹æ‹¬å·æ“ä½œç¬¦<code>[]</code>ï¼Œæ¥å®ç°ä¸€äº›æŸ¥æ‰¾è®¿é—®çš„æ“ä½œï¼Œå¦‚ <code>std::map</code>ä¸­çš„æ–¹æ‹¬å·ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++">std::map&lt;<span class="hljs-type">int</span>, <span class="hljs-type">float</span>&gt; mymap;<br>mymap[<span class="hljs-number">10</span>] = <span class="hljs-number">5.6</span>;<br></code></pre></td></tr></table></figure><p>ä¹‹æ‰€ä»¥èƒ½èµ‹å€¼ç»™ <code>mymap[10]</code>ï¼Œæ˜¯å› ä¸º<code>std::map::operator[]</code> çš„é‡è½½è¿”å›çš„æ˜¯ä¸€ä¸ªå¯èµ‹å€¼çš„å¼•ç”¨ã€‚</p><h2 id="å¯ä¿®æ”¹çš„å·¦å€¼">å¯ä¿®æ”¹çš„å·¦å€¼</h2><p>å·¦å€¼ä¸€å¼€å§‹åœ¨ C ä¸­å®šä¹‰ä¸ºâ€œå¯ä»¥å‡ºç°åœ¨èµ‹å€¼æ“ä½œå·¦è¾¹çš„å€¼â€ã€‚ç„¶è€Œï¼Œå½“ ISO CåŠ å…¥ <code>const</code> å…³é”®å­—åï¼Œè¿™ä¸ªå®šä¹‰ä¾¿ä¸å†æˆç«‹ã€‚æ¯•ç«Ÿï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">const</span> <span class="hljs-type">int</span> a = <span class="hljs-number">10</span>; <span class="hljs-comment">// &#x27;a&#x27; æ˜¯å·¦å€¼</span><br>a = <span class="hljs-number">10</span>;           <span class="hljs-comment">// ä½†ä¸å¯ä»¥èµ‹å€¼ç»™å®ƒï¼</span><br></code></pre></td></tr></table></figure><p>äºæ˜¯å®šä¹‰éœ€è¦ç»§ç»­ç²¾åŒ–ã€‚ä¸æ˜¯æ‰€æœ‰çš„å·¦å€¼éƒ½å¯ä»¥è¢«èµ‹å€¼ã€‚å¯èµ‹å€¼çš„å·¦å€¼è¢«ç§°ä¸º<strong>å¯ä¿®æ”¹å·¦å€¼ (modifiable lvalues)</strong>ã€‚C99æ ‡å‡†å®šä¹‰å¯ä¿®æ”¹å·¦å€¼ä¸ºï¼š</p><blockquote><p>å¯ä¿®æ”¹å·¦å€¼æ˜¯ç‰¹æ®Šçš„å·¦å€¼ï¼Œä¸å«æœ‰æ•°ç»„ç±»å‹ã€ä¸å®Œæ•´ç±»å‹ã€constä¿®é¥°çš„ç±»å‹ã€‚å¦‚æœå®ƒæ˜¯ <code>struct</code> æˆ–<code>union</code>ï¼Œå®ƒçš„æˆå‘˜éƒ½ï¼ˆé€’å½’åœ°ï¼‰ä¸åº”å«æœ‰ const ä¿®é¥°çš„ç±»å‹ã€‚</p></blockquote><h2 id="å·¦å€¼ä¸å³å€¼é—´çš„è½¬æ¢">å·¦å€¼ä¸å³å€¼é—´çš„è½¬æ¢</h2><p>é€šå¸¸æ¥è¯´ï¼Œè®¡ç®—å¯¹è±¡çš„å€¼çš„è¯­è¨€æˆåˆ†ï¼Œéƒ½ä½¿ç”¨å³å€¼ä½œä¸ºå‚æ•°ã€‚ä¾‹å¦‚ï¼Œä¸¤å…ƒåŠ æ³•æ“ä½œç¬¦<code>'+'</code> å°±éœ€è¦ä¸¤ä¸ªå³å€¼å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªå³å€¼ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">int</span> a = <span class="hljs-number">1</span>;     <span class="hljs-comment">// a æ˜¯å·¦å€¼</span><br><span class="hljs-type">int</span> b = <span class="hljs-number">2</span>;     <span class="hljs-comment">// b æ˜¯å·¦å€¼</span><br><span class="hljs-type">int</span> c = a + b; <span class="hljs-comment">// + éœ€è¦å³å€¼ï¼Œæ‰€ä»¥ a å’Œ b è¢«è½¬æ¢æˆå³å€¼</span><br>               <span class="hljs-comment">// + è¿”å›å³å€¼</span><br></code></pre></td></tr></table></figure><p>åœ¨ä¾‹å­ä¸­ï¼Œ<code>a</code> å’Œ <code>b</code>éƒ½æ˜¯å·¦å€¼ã€‚å› æ­¤ï¼Œåœ¨ç¬¬ä¸‰è¡Œä¸­ï¼Œå®ƒä»¬ç»å†äº†éšå¼çš„<strong>å·¦å€¼åˆ°å³å€¼è½¬æ¢</strong>ã€‚é™¤äº†æ•°ç»„ã€å‡½æ•°ã€ä¸å®Œæ•´ç±»å‹çš„æ‰€æœ‰å·¦å€¼éƒ½å¯ä»¥è½¬æ¢ä¸ºå³å€¼ã€‚</p><p>é‚£å³å€¼èƒ½å¦è½¬æ¢ä¸ºå·¦å€¼å‘¢ï¼Ÿå½“ç„¶ä¸èƒ½ï¼æ ¹æ®å·¦å€¼çš„å®šä¹‰ï¼Œè¿™è¿åäº†å·¦å€¼çš„æœ¬è´¨ã€‚ã€æ³¨1ï¼šå³å€¼å¯ä»¥æ˜¾å¼åœ°èµ‹å€¼ç»™å·¦å€¼ã€‚ä¹‹æ‰€ä»¥æ²¡æœ‰éšå¼çš„è½¬æ¢ï¼Œæ˜¯å› ä¸ºå³å€¼ä¸èƒ½ä½¿ç”¨åœ¨å·¦å€¼åº”å½“å‡ºç°çš„ä½ç½®ã€‚ã€‘</p><p>ä¸è¿‡ï¼Œå³å€¼å¯ä»¥é€šè¿‡ä¸€äº›æ›´æ˜¾å¼çš„æ–¹æ³•äº§ç”Ÿå·¦å€¼ã€‚ä¾‹å¦‚ï¼Œä¸€å…ƒè§£å¼•ç”¨æ“ä½œç¬¦<code>'*'</code>éœ€è¦ä¸€ä¸ªå³å€¼å‚æ•°ï¼Œä½†è¿”å›ä¸€ä¸ªå·¦å€¼ç»“æœã€‚è€ƒè™‘è¿™æ ·çš„ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">int</span> arr[] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>&#125;;<br><span class="hljs-type">int</span>* p = &amp;arr[<span class="hljs-number">0</span>];<br>*(p + <span class="hljs-number">1</span>) = <span class="hljs-number">10</span>;   <span class="hljs-comment">// æ­£ç¡®: p + 1 æ˜¯å³å€¼ï¼Œä½† *(p + 1) æ˜¯å·¦å€¼</span><br></code></pre></td></tr></table></figure><p>ç›¸ååœ°ï¼Œä¸€å…ƒå–åœ°å€æ“ä½œç¬¦ <code>'&amp;'</code>éœ€è¦ä¸€ä¸ªå·¦å€¼å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå³å€¼ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">int</span> var = <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span>* bad_addr = &amp;(var + <span class="hljs-number">1</span>); <span class="hljs-comment">// é”™è¯¯: ä¸€å…ƒ &#x27;&amp;&#x27; æ“ä½œç¬¦éœ€è¦å·¦å€¼å‚æ•°</span><br><span class="hljs-type">int</span>* addr = &amp;var;           <span class="hljs-comment">// æ­£ç¡®: var æ˜¯å·¦å€¼</span><br>&amp;var = <span class="hljs-number">40</span>;                  <span class="hljs-comment">// é”™è¯¯: èµ‹å€¼æ“ä½œçš„å·¦æ“ä½œæ•°éœ€è¦æ˜¯å·¦å€¼</span><br></code></pre></td></tr></table></figure><p>åœ¨ C++ ä¸­ <code>'&amp;'</code>ç¬¦å·è¿˜æœ‰å¦ä¸€ä¸ªåŠŸèƒ½â€”â€”å®šä¹‰å¼•ç”¨ç±»å‹ã€‚å¼•ç”¨ç±»å‹åˆå«åšâ€œå·¦å€¼å¼•ç”¨â€ã€‚å› æ­¤ï¼Œä¸èƒ½å°†ä¸€ä¸ªå³å€¼èµ‹å€¼ç»™ï¼ˆéå¸¸é‡çš„ï¼‰å·¦å€¼å¼•ç”¨ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C++">std::string&amp; sref = std::<span class="hljs-built_in">string</span>();  <span class="hljs-comment">// é”™è¯¯: éå¸¸é‡çš„å¼•ç”¨ &#x27;std::string&amp;&#x27; é”™è¯¯åœ°ä½¿ç”¨å³å€¼ &#x27;std::string` åˆå§‹åŒ–</span><br></code></pre></td></tr></table></figure><p><strong>å¸¸é‡çš„</strong>å·¦å€¼å¼•ç”¨å¯ä»¥ä½¿ç”¨å³å€¼èµ‹å€¼ã€‚å› ä¸ºä½ æ— æ³•é€šè¿‡å¸¸é‡çš„å¼•ç”¨ä¿®æ”¹å˜é‡çš„å€¼ï¼Œä¹Ÿå°±ä¸ä¼šå‡ºç°ä¿®æ”¹äº†å³å€¼çš„æƒ…å†µã€‚è¿™ä¹Ÿä½¿å¾—C++ä¸­ä¸€ä¸ªå¸¸è§çš„ä¹ æƒ¯æˆä¸ºå¯èƒ½ï¼šå‡½æ•°çš„å‚æ•°ä½¿ç”¨å¸¸é‡å¼•ç”¨æ¥æ”¶å‚æ•°ï¼Œé¿å…åˆ›å»ºä¸å¿…è¦çš„ä¸´æ—¶å¯¹è±¡ã€‚</p><h2 id="cv-é™å®šçš„å³å€¼">CV é™å®šçš„å³å€¼</h2><p>å¦‚æœæˆ‘ä»¬ä»”ç»†é˜…è¯» C++ æ ‡å‡†ä¸­å…³äºå·¦å€¼åˆ°å³å€¼çš„è½¬æ¢çš„éƒ¨åˆ†ã€æ³¨2ï¼šåœ¨æ–°çš„C++11 æ ‡å‡†è‰ç¨¿çš„ç¬¬ 4.1 èŠ‚ã€‘ï¼Œæˆ‘ä»¬ä¼šå‘ç°ï¼š</p><blockquote><p>ä¸€ä¸ªéå‡½æ•°ã€éæ•°ç»„çš„ç±»å‹ T çš„å·¦å€¼å¯ä»¥è½¬æ¢ä¸ºå³å€¼ã€‚ [â€¦] å¦‚æœ Tä¸æ˜¯ç±»ç±»å‹ã€è¯‘æ³¨ï¼šç±»ç±»å‹å³ C++ä¸­ä½¿ç”¨ç±»å®šä¹‰çš„ç±»å‹ï¼ŒåŒºåˆ«ä¸å†…ç½®ç±»å‹ã€‘ï¼Œè½¬æ¢åçš„å³å€¼çš„ç±»å‹æ˜¯ T çš„ æœªé™å®šCV çš„ç‰ˆæœ¬ (cv-unqualified version ofT)ã€‚å…¶ä»–æƒ…å†µä¸‹ï¼Œè½¬æ¢åçš„å³å€¼ç±»å‹å°±æ˜¯ T æœ¬èº«ã€‚</p></blockquote><p>ä»€ä¹ˆå«åš â€œæœªé™å®š CVâ€ (cv-unqualified) å‘¢ï¼Ÿ <strong>CV é™å®šç¬¦</strong>è¿™ä¸ªæœ¯è¯­æŒ‡çš„æ˜¯ <em>const</em> å’Œ <em>volatile</em> ä¸¤ä¸ªç±»å‹é™å®šç¬¦ã€‚C++æ ‡å‡†çš„ 3.9.3 èŠ‚å†™åˆ°ï¼š</p><blockquote><p>æ¯ä¸ªç±»å‹éƒ½æœ‰ä¸‰ä¸ªå¯¹åº”çš„ CV-é™å®šç±»å‹ç‰ˆæœ¬ï¼š <em>const é™å®š</em> ã€<em>volatile é™å®š</em> å’Œ <em>const-volatile é™å®š</em> ç‰ˆæœ¬ã€‚æœ‰æˆ–æ—  CVé™å®šçš„ä¸åŒç‰ˆæœ¬çš„ç±»å‹æ˜¯ä¸åŒçš„ç±»å‹ï¼Œä½†å†™æ³•å’Œèµ‹å€¼éœ€æ±‚éƒ½æ˜¯ç›¸åŒçš„ã€‚</p></blockquote><p>é‚£ä¹ˆï¼Œè¿™äº›åˆå’Œå³å€¼æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿåœ¨ C ä¸­ï¼Œåªæœ‰å·¦å€¼æœ‰ CVé™å®šçš„ç±»å‹ï¼Œè€Œå³å€¼ä»æ¥æ²¡æœ‰ã€‚è€Œåœ¨ C++ ä¸­ï¼Œç±»å³å€¼å¯ä»¥æœ‰ CVé™å®šçš„ç±»å‹ï¼Œä½†å†…ç½®ç±»å‹ (å¦‚ <code>int</code>)åˆ™æ²¡æœ‰ã€‚è€ƒè™‘ä¸‹é¢çš„ä¾‹å­ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; std::cout &lt;&lt; <span class="hljs-string">&quot;A::foo() const\n&quot;</span>; &#125;<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span> </span>&#123; std::cout &lt;&lt; <span class="hljs-string">&quot;A::foo()\n&quot;</span>; &#125;<br>&#125;;<br><br><span class="hljs-function">A <span class="hljs-title">bar</span><span class="hljs-params">()</span> </span>&#123; <span class="hljs-keyword">return</span> <span class="hljs-built_in">A</span>(); &#125;<br><span class="hljs-function"><span class="hljs-type">const</span> A <span class="hljs-title">cbar</span><span class="hljs-params">()</span> </span>&#123; <span class="hljs-keyword">return</span> <span class="hljs-built_in">A</span>(); &#125;<br><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">bar</span>().<span class="hljs-built_in">foo</span>();  <span class="hljs-comment">// calls foo</span><br>    <span class="hljs-built_in">cbar</span>().<span class="hljs-built_in">foo</span>(); <span class="hljs-comment">// calls foo const</span><br>&#125;<br></code></pre></td></tr></table></figure><p><code>main</code> ä¸­çš„ç¬¬äºŒä¸ªå‡½æ•°è°ƒç”¨å®é™…ä¸Šè°ƒç”¨çš„æ˜¯ <code>A</code>ä¸­çš„ <code>foo() const</code> å‡½æ•°ï¼Œå› ä¸º <code>cbar</code> è¿”å›çš„ç±»å‹æ˜¯<code>const A</code>ï¼Œè¿™å’Œ <code>A</code>æ˜¯ä¸¤ä¸ªä¸åŒçš„ç±»å‹ã€‚è¿™å°±æ˜¯ä¸Šé¢çš„å¼•ç”¨ä¸­æœ€åä¸€å¥è¯æ‰€è¡¨è¾¾çš„æ„æ€ã€‚å¦å¤–æ³¨æ„åˆ°ï¼Œ<code>cbar</code>çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªå³å€¼ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ä¸ªå®é™…çš„ CV é™å®šçš„å³å€¼çš„ä¾‹å­ã€‚</p><h2 id="c11-çš„å³å€¼å¼•ç”¨">C++11 çš„å³å€¼å¼•ç”¨</h2><p>C++11 æ ‡å‡†ä¸­å¼•å…¥çš„æœ€å¼ºæœ‰åŠ›çš„ç‰¹æ€§å°±æ˜¯å³å€¼å¼•ç”¨ï¼Œä»¥åŠç›¸å…³çš„ <em>ç§»åŠ¨è¯­ä¹‰(move semantics)</em>æ¦‚å¿µã€‚è¿™ç¯‡ç®€çŸ­çš„æ–‡ç« æ²¡æ³•å®Œå…¨è®¨è®ºè¿™ä¸ªç‰¹æ€§ã€æ³¨3ï¼šæœç´¢ â€œrvalue referencesâ€å¯ä»¥æ‰¾åˆ°å¾ˆå¤šç›¸å…³çš„èµ„æ–™ï¼Œå‡ ä¸ªä¸ªäººè®¤ä¸ºæœ‰ç”¨çš„èµ„æ–™ï¼š<ahref="http://www.artima.com/cppsource/rvalue.html">è¿™ä¸€ç¯‡</a>ï¼Œ <ahref="http://stackoverflow.com/questions/5481539/what-does-t-mean-in-c0x">è¿™ä¸€ç¯‡</a>ï¼Œç‰¹åˆ«æ˜¯<ahref="http://thbecker.net/articles/rvalue_references/section_01.html">è¿™ä¸€ç¯‡</a>ã€‘ï¼Œä½†æˆ‘æƒ³ç»™å‡ºä¸€ä¸ªç®€å•çš„ä¾‹å­ã€‚å®é™…ä¸Šï¼Œå¯¹å·¦å€¼å’Œå³å€¼çš„ç†è§£å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç†è§£ä¸€äº›éå¹³å‡¡çš„è¯­è¨€æ¦‚å¿µã€‚</p><p>è¿™ç¯‡æ–‡ç« çš„å¤§éƒ¨åˆ†å†…å®¹éƒ½åœ¨è§£é‡Šï¼šå·¦å€¼å’Œå³å€¼çš„ä¸»è¦åŒºåˆ«æ˜¯ï¼Œå·¦å€¼å¯ä»¥è¢«ä¿®æ”¹ï¼Œè€Œå³å€¼ä¸èƒ½ã€‚ä¸è¿‡ï¼ŒC++11æ”¹å˜äº†è¿™ä¸€åŒºåˆ«ã€‚åœ¨ä¸€äº›ç‰¹æ®Šçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å³å€¼çš„å¼•ç”¨ï¼Œå¹¶å¯¹å³å€¼è¿›è¡Œä¿®æ”¹ã€‚</p><p>å‡è®¾æˆ‘ä»¬è¦å®ç°ä¸€ä¸ªâ€œæ•´æ•°çš„vectorâ€ï¼Œä¸€äº›ç›¸å…³çš„å‡½æ•°å¯èƒ½æ˜¯è¿™æ ·å®šä¹‰çš„ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Intvec</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">Intvec</span><span class="hljs-params">(<span class="hljs-type">size_t</span> num = <span class="hljs-number">0</span>)</span></span><br><span class="hljs-function">        : m_size(num), m_data(new int[m_size])</span><br><span class="hljs-function">    &#123;</span><br>        <span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;constructor&quot;</span>);<br>    &#125;<br><br>    ~<span class="hljs-built_in">Intvec</span>()<br>    &#123;<br>        <span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;destructor&quot;</span>);<br>        <span class="hljs-keyword">if</span> (m_data) &#123;<br>            <span class="hljs-keyword">delete</span>[] m_data;<br>            m_data = <span class="hljs-number">0</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-built_in">Intvec</span>(<span class="hljs-type">const</span> Intvec&amp; other)<br>        : <span class="hljs-built_in">m_size</span>(other.m_size), <span class="hljs-built_in">m_data</span>(<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[m_size])<br>    &#123;<br>        <span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;copy constructor&quot;</span>);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">size_t</span> i = <span class="hljs-number">0</span>; i &lt; m_size; ++i)<br>            m_data[i] = other.m_data[i];<br>    &#125;<br><br>    Intvec&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> Intvec&amp; other)<br>    &#123;<br>        <span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;copy assignment operator&quot;</span>);<br>        <span class="hljs-function">Intvec <span class="hljs-title">tmp</span><span class="hljs-params">(other)</span></span>;<br>        std::<span class="hljs-built_in">swap</span>(m_size, tmp.m_size);<br>        std::<span class="hljs-built_in">swap</span>(m_data, tmp.m_data);<br>        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>    &#125;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">log</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* msg)</span></span><br><span class="hljs-function">    </span>&#123;<br>        cout &lt;&lt; <span class="hljs-string">&quot;[&quot;</span> &lt;&lt; <span class="hljs-keyword">this</span> &lt;&lt; <span class="hljs-string">&quot;] &quot;</span> &lt;&lt; msg &lt;&lt; <span class="hljs-string">&quot;\n&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-type">size_t</span> m_size;<br>    <span class="hljs-type">int</span>* m_data;<br>&#125;;<br></code></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œæˆ‘ä»¬å®šä¹‰äº†åŸºæœ¬çš„æ„é€ å™¨ã€ææ„å™¨ã€æ‹·è´æ„é€ å™¨ (copy constructor)å’Œæ‹·è´èµ‹å€¼æ“ä½œç¬¦ (copy assignment operator)ã€æ³¨4ï¼šæ‹·è´èµ‹å€¼æ“ä½œç¬¦çš„å®ç°æ˜¯åœ¨è€ƒè™‘å¼‚å¸¸å®‰å…¨è§’åº¦çš„è§„èŒƒå†™æ³•ã€‚ç»“åˆä½¿ç”¨æ‹·è´æ„é€ å™¨å’Œä¸ä¼šæŠ›å‡ºå¼‚å¸¸çš„<code>std::swap</code>ï¼Œå¯ä»¥ä¿è¯åœ¨å¼‚å¸¸å‘ç”Ÿæ—¶ä¸ä¼šå‡ºç°æœªåˆå§‹åŒ–çš„å†…å­˜ã€‘ã€‚å®ƒä»¬éƒ½æœ‰ä¸€ä¸ªlogging å‡½æ•°ï¼Œè®©æˆ‘ä»¬èƒ½çŸ¥é“æ˜¯å¦è°ƒç”¨äº†å®ƒä»¬ã€‚</p><p>è¿è¡Œä¸€ä¸ªå°† <code>v1</code> çš„å†…å®¹æ‹·è´åˆ° <code>v2</code> çš„ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function">Intvec <span class="hljs-title">v1</span><span class="hljs-params">(<span class="hljs-number">20</span>)</span></span>;<br>Intvec v2;<br><br>cout &lt;&lt; <span class="hljs-string">&quot;assigning lvalue...\n&quot;</span>;<br>v2 = v1;<br>cout &lt;&lt; <span class="hljs-string">&quot;ended assigning lvalue...\n&quot;</span>;<br></code></pre></td></tr></table></figure><p>è¿è¡Œè¾“å‡ºçš„ç»“æœæ˜¯ï¼š</p><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs oxygene">assigning lvalue...<br>[<span class="hljs-number">0</span>x28fef8] <span class="hljs-keyword">copy</span> assignment <span class="hljs-keyword">operator</span><br>[<span class="hljs-number">0</span>x28fec8] <span class="hljs-keyword">copy</span> <span class="hljs-keyword">constructor</span><br>[0<span class="hljs-title function_">x28fec8</span>] <span class="hljs-title function_">destructor</span><br><span class="hljs-title function_">ended</span> <span class="hljs-title function_">assigning</span> <span class="hljs-title function_">lvalue</span>...<br></code></pre></td></tr></table></figure><p>è¿™æ˜¯æ­£å¸¸çš„ç»“æœï¼Œå‡†ç¡®å±•ç¤ºäº† <code>operator=</code>çš„å†…éƒ¨è¿‡ç¨‹ã€‚ä½†å‡è®¾æˆ‘ä»¬è¦å°†ä¸€ä¸ªå³å€¼èµ‹å€¼ç»™ <code>v2</code>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs C++">cout &lt;&lt; <span class="hljs-string">&quot;assigning rvalue...\n&quot;</span>;<br>v2 = <span class="hljs-built_in">Intvec</span>(<span class="hljs-number">33</span>);<br>cout &lt;&lt; <span class="hljs-string">&quot;ended assigning rvalue...\n&quot;</span>;<br></code></pre></td></tr></table></figure><p>è™½ç„¶è¿™é‡Œçš„ä¾‹å­ä¸­æ˜¯èµ‹å€¼ä¸€ä¸ªæ–°åˆ›å»ºçš„vectorï¼Œä½†å®ƒå¯ä»¥ä»£è¡¨æ›´ä¸€èˆ¬çš„æƒ…å†µâ€”â€”åˆ›å»ºäº†ä¸€ä¸ªä¸´æ—¶çš„å³å€¼ï¼Œç„¶åèµ‹å€¼ç»™<code>v2</code> ï¼ˆä¾‹å¦‚å½“ä¸€ä¸ªå‡½æ•°è¿”å› vectorçš„æƒ…å†µï¼‰ã€‚æˆ‘ä»¬ä¼šå¾—åˆ°è¿™æ ·çš„è¾“å…¥ï¼š</p><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs delphi">assigning rvalue...<br>[<span class="hljs-number">0</span>x28ff08] <span class="hljs-function"><span class="hljs-keyword">constructor</span></span><br><span class="hljs-function">[0<span class="hljs-title">x28fef8</span>] <span class="hljs-title">copy</span> <span class="hljs-title">assignment</span> <span class="hljs-title">operator</span></span><br><span class="hljs-function">[0<span class="hljs-title">x28fec8</span>] <span class="hljs-title">copy</span> <span class="hljs-title">constructor</span></span><br><span class="hljs-function">[0<span class="hljs-title">x28fec8</span>] <span class="hljs-title">destructor</span></span><br><span class="hljs-function">[0<span class="hljs-title">x28ff08</span>] <span class="hljs-title">destructor</span></span><br><span class="hljs-function"><span class="hljs-title">ended</span> <span class="hljs-title">assigning</span> <span class="hljs-title">rvalue</span>...</span><br></code></pre></td></tr></table></figure><p>è¿™çœ‹èµ·æ¥å°±è¦å¾ˆå¤šæ­¥éª¤äº†ã€‚ç‰¹åˆ«æ˜¯è¿™é‡Œè°ƒç”¨äº†é¢å¤–çš„ä¸€å¯¹æ„é€ å™¨/ææ„å™¨ï¼Œç”¨æ¥åˆ›å»ºå’Œé”€æ¯ä¸€ä¸ªä¸´æ—¶çš„å¯¹è±¡ã€‚ç„¶è€Œï¼Œåœ¨æ‹·è´èµ‹å€¼æ“ä½œç¬¦ä¸­ï¼Œä¹Ÿåˆ›å»ºå’Œé”€æ¯äº†<em>å¦ä¸€ä¸ª</em> ä¸´æ—¶çš„å¯¹è±¡ã€‚è¿™å®Œå…¨æ˜¯å¤šä½™çš„æ²¡æœ‰æ„ä¹‰çš„å·¥ä½œã€‚</p><p>ä¸è¿‡ç°åœ¨ä½ ä¸éœ€è¦å¤šä¸€ä¸ªä¸´æ—¶å¯¹è±¡äº†ã€‚C++11å¼•å…¥äº†å³å€¼å¼•ç”¨ï¼Œè®©æˆ‘ä»¬å¯ä»¥å®ç°â€œç§»åŠ¨è¯­ä¹‰â€ (movesemantics)ï¼Œç‰¹åˆ«æ˜¯å¯ä»¥å®ç°â€œç§»åŠ¨èµ‹å€¼æ“ä½œç¬¦â€ (move assignment operator)ã€æ³¨5ï¼šæ–‡ç« ä¸­ä¸€ç›´å°† <code>operator=</code> å«åš â€œæ‹·è´èµ‹å€¼æ“ä½œç¬¦â€ (copyassignment operator)ã€‚åœ¨ C++11ä¸­ï¼ŒåŒºåˆ†è¿™ä¸¤ä¸ªæ¦‚å¿µæ˜¯å¾ˆé‡è¦çš„ã€‘ã€‚æˆ‘ä»¬å¯ä»¥ä¸º <code>Intvec</code>åŠ ä¸Šå¦ä¸€ä¸ª <code>operator=</code>ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs C++">Intvec&amp; <span class="hljs-keyword">operator</span>=(Intvec&amp;&amp; other)<br>&#123;<br>    <span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;move assignment operator&quot;</span>);<br>    std::<span class="hljs-built_in">swap</span>(m_size, other.m_size);<br>    std::<span class="hljs-built_in">swap</span>(m_data, other.m_data);<br>    <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç¬¦å· <code>&amp;&amp;</code> ä»£è¡¨äº†æ–°çš„ <strong>å³å€¼å¼•ç”¨ (rvaluereference)</strong>ã€‚é¡¾åæ€ä¹‰ï¼Œå³å€¼å¼•ç”¨å¯ä»¥è®©æˆ‘ä»¬åˆ›å»ºå¯¹å³å€¼çš„å¼•ç”¨ã€‚è€Œä¸”åœ¨è°ƒç”¨ç»“æŸåï¼Œå³å€¼å¼•ç”¨å°±ä¼šè¢«é”€æ¯ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§å°†å³å€¼çš„å†…éƒ¨å†…å®¹â€œå·â€è¿‡æ¥â€”â€”å› ä¸ºæˆ‘ä»¬ä¸å†éœ€è¦ä½¿ç”¨è¿™ä¸ªå³å€¼å¯¹è±¡äº†ï¼è¿™æ ·å¾—åˆ°çš„è¾“å‡ºæ˜¯ï¼š</p><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs delphi">assigning rvalue...<br>[<span class="hljs-number">0</span>x28ff08] <span class="hljs-function"><span class="hljs-keyword">constructor</span></span><br><span class="hljs-function">[0<span class="hljs-title">x28fef8</span>] <span class="hljs-title">move</span> <span class="hljs-title">assignment</span> <span class="hljs-title">operator</span></span><br><span class="hljs-function">[0<span class="hljs-title">x28ff08</span>] <span class="hljs-title">destructor</span></span><br><span class="hljs-function"><span class="hljs-title">ended</span> <span class="hljs-title">assigning</span> <span class="hljs-title">rvalue</span>...</span><br></code></pre></td></tr></table></figure><p>ç”±äºå°†ä¸€ä¸ªå³å€¼èµ‹å€¼ç»™äº† <code>v2</code>ï¼Œç§»åŠ¨èµ‹å€¼æ“ä½œç¬¦è¢«è°ƒç”¨ã€‚è™½ç„¶<code>Intvec(33)</code>ä»ç„¶ä¼šåˆ›å»ºä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼Œè°ƒç”¨å…¶æ„é€ å™¨å’Œææ„å™¨ï¼Œä½†èµ‹å€¼æ“ä½œç¬¦ä¸­çš„å¦ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ä¸ä¼šå†åˆ›å»ºäº†ã€‚è¿™ä¸ªèµ‹å€¼æ“ä½œç¬¦ç›´æ¥å°†å³å€¼çš„å†…éƒ¨å†…å®¹å’Œè‡ªå·±çš„ç›¸äº¤æ¢ï¼Œè‡ªå·±è·å¾—å³å€¼çš„å†…å®¹ï¼Œç„¶åå³å€¼çš„ææ„å™¨ä¼šé”€æ¯è‡ªå·±åŸå…ˆçš„å†…å®¹ï¼Œè€Œè¿™ä¸€å†…å®¹å·²ç»ä¸éœ€è¦äº†ã€‚ä¼˜é›…ã€‚</p><p>å†æé†’ä¸€éï¼Œè¿™ä¸ªä¾‹å­åªå±•ç¤ºäº†ç§»åŠ¨è¯­ä¹‰å’Œå³å€¼å¼•ç”¨çš„å†°å±±ä¸€è§’ã€‚ä½ å¯ä»¥çŒœåˆ°ï¼Œè¿™å®é™…ä¸Šæ˜¯ä¸€ä¸ªå¤æ‚çš„è¯é¢˜ï¼Œè¦è€ƒè™‘å¾ˆå¤šç‰¹æ®Šæƒ…å†µå’Œé™·é˜±ã€‚æˆ‘æ˜¯æƒ³å±•ç¤ºä¸€ä¸ªC++ä¸­å·¦å€¼å³å€¼åŒºåˆ«çš„ä¸€ä¸ªå¾ˆæœ‰è¶£çš„åº”ç”¨ã€‚ç¼–è¯‘å™¨æ˜¾ç„¶çŸ¥é“å“ªé‡Œæ˜¯ä¸ªå³å€¼ï¼Œä¼šåœ¨ç¼–è¯‘æ—¶é€‰æ‹©è°ƒç”¨åˆé€‚çš„æ„é€ å™¨ã€‚</p><h2 id="æ€»ç»“">æ€»ç»“</h2><p>å³ä½¿ä¸è€ƒè™‘å·¦å€¼å’Œå³å€¼çš„é—®é¢˜ï¼Œä½ ä¹Ÿå¯ä»¥å†™å¾ˆå¤š C++ä»£ç ï¼Œç„¶åæŠŠè¿™äº›é—®é¢˜çœ‹ä½œç¼–è¯‘å™¨æŸäº›é”™è¯¯è­¦å‘Šä¸­å¥‡æ€ªçš„è¡Œè¯ã€‚ç„¶è€Œï¼Œè¿™ç¯‡æ–‡ç« æƒ³è¡¨æ˜ï¼Œå¯¹è¿™ä¸ªé—®é¢˜æœ‰ä¸€äº›é¢†æ‚Ÿçš„è¯ï¼Œä¼šä½¿ä½ èƒ½æ›´æ·±å…¥åœ°ç†è§£ä¸€äº›C++ ä»£ç ï¼Œä¹Ÿæ›´èƒ½å¼„æ‡‚ä¸€äº› C++ è§„èŒƒå’Œè¯­è¨€ä¸“å®¶çš„è®¨è®ºã€‚</p><p>å¦å¤–ï¼Œåœ¨æ–°çš„ C++ è§„èŒƒä¸­ï¼Œå› ä¸º C++11å¼•å…¥äº†å³å€¼å¼•ç”¨å’Œç§»åŠ¨è¯­ä¹‰ï¼Œè¿™ä¸ªè¯é¢˜å˜å¾—æ›´é‡è¦äº†ã€‚è¦æƒ³çœŸæ­£ç†è§£è¿™ä¸ªè¯­è¨€çš„ä¸€äº›æ–°ç‰¹æ€§ï¼Œé€å½»åœ°ç†è§£å·¦å€¼å’Œå³å€¼å°±å˜å¾—é‡è¦äº†ã€‚</p><p>è½¬è½½è‡ª<ahref="https://nettee.github.io/posts/2018/Understanding-lvalues-and-rvalues-in-C-and-C">ç†è§£C/C++ ä¸­çš„å·¦å€¼å’Œå³å€¼</a></p>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>C++ autoä¸decltype:ç±»å‹æ¨å¯¼</title>
    <link href="/2023/03/04/Cpp-auto%E4%B8%8Edecltype-%E7%B1%BB%E5%9E%8B%E6%8E%A8%E5%AF%BC/"/>
    <url>/2023/03/04/Cpp-auto%E4%B8%8Edecltype-%E7%B1%BB%E5%9E%8B%E6%8E%A8%E5%AF%BC/</url>
    
    <content type="html"><![CDATA[<h1 id="modern-c-ä¹‹-auto-ä¸-decltype-ç±»å‹æ¨å¯¼">Modern C++ ä¹‹ auto ä¸decltype : ç±»å‹æ¨å¯¼</h1><h2 id="auto-ä¸-decltype-ç±»å‹æ¨å¯¼"><code>auto</code> ä¸<code>decltype</code> : ç±»å‹æ¨å¯¼</h2><p>å˜é‡ç±»å‹æ¨å¯¼å…¶å®åœ¨ C++ ä¸­ä¸€ç›´å­˜åœ¨,ä¾‹å¦‚æˆ‘ä»¬åœ¨ä½¿ç”¨æ³›å‹å‡½æ•°æ—¶ç¼–è¯‘å™¨å°†å¸®åŠ©æˆ‘ä»¬éšå¼åœ°æ¨å¯¼å‚æ•°ç±»å‹ :</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> _Type&gt;</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">func</span><span class="hljs-params">(_Type value)</span> </span>&#123; <span class="hljs-comment">/* do something */</span> &#125;<br><span class="hljs-built_in">func</span>(<span class="hljs-number">114514</span>);  <span class="hljs-comment">// func&lt;int&gt;(114514);</span><br></code></pre></td></tr></table></figure><p>ä½†ç›´åˆ° C++11 èµ·æ‰å…è®¸ç”¨æˆ·ä¸»åŠ¨è¦æ±‚ç¼–è¯‘å™¨è¿›è¡Œç±»å‹æ¨å¯¼. ç°ä»£ C++ä¸­æä¾›çš„ä¸»åŠ¨ç±»å‹æ¨å¯¼åŠŸèƒ½ä¸»è¦æ˜¯é€šè¿‡ <code>auto</code> çš„<code>decltype</code> ä¸¤ä¸ªå…³é”®å­—å®ç°.</p><h2 id="ä½¿ç”¨-auto-è¿›è¡Œå˜é‡ç±»å‹æ¨å¯¼">ä½¿ç”¨ <code>auto</code>è¿›è¡Œå˜é‡ç±»å‹æ¨å¯¼</h2><p>å½“ä½ å£°æ˜ä¸€ä¸ªå˜é‡ä¸º <code>auto</code> ç±»å‹æ—¶,ç¼–è¯‘å™¨å°†è‡ªåŠ¨å¸®åŠ©ä½ æ¨å¯¼å‡ºåˆé€‚çš„æ•°æ®ç±»å‹. è¿™ä¸ªå˜é‡å¯ä»¥æ˜¯ :</p><ol type="1"><li>å£°æ˜åç«‹å³èµ‹å€¼çš„æ™®é€šå˜é‡;</li><li>å‡½æ•°çš„è¿”å›å€¼;</li><li>å‡½æ•°çš„å½¢å‚ (C++14 èµ·)</li></ol><p>éœ€è¦æ³¨æ„çš„æ˜¯, ä½¿ç”¨ <code>auto</code> è¿›è¡Œç±»å‹æ¨å¯¼æ—¶, å°†å¿½ç•¥é¡¶å±‚çš„<code>const</code> , <code>&amp;</code> , <code>*</code> ç­‰ä¿®é¥°ç¬¦,ä»¥ä¾¿ç”¨æˆ·æ›´ç»†åŒ–çš„æ§åˆ¶æ¨å¯¼, ç¤ºä¾‹è§ä¸‹ :</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">int</span> number = <span class="hljs-number">8</span>;<br><span class="hljs-keyword">auto</span> var_1 = number;       <span class="hljs-comment">// int var_1 = number;</span><br><span class="hljs-keyword">auto</span> var_2 = <span class="hljs-number">8.0f</span>;         <span class="hljs-comment">// float var_2 = 8.0f;</span><br><span class="hljs-keyword">auto</span> var_3 = var_1;        <span class="hljs-comment">// int var_3 = var_1;</span><br><span class="hljs-type">const</span> <span class="hljs-keyword">auto</span> var_4 = var_2;  <span class="hljs-comment">// const float var_4 = var_2;</span><br><span class="hljs-keyword">auto</span>&amp; var_5 = number;      <span class="hljs-comment">// int&amp; var_5 = number;</span><br></code></pre></td></tr></table></figure><p>è¿™ç§åŸºç¡€çš„ç”¨æ³•ä¸»è¦æ˜¯ç”¨äºçœç•¥ä¸€äº›å¾ˆé•¿çš„ç±»å‹å,ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ ä»£ç å¯è¯»æ€§. ä¸€ç§ç»å…¸ç”¨æ³•æ˜¯ç®€å†™è¿­ä»£å™¨ç±»å‹ä»¥éå†å®¹å™¨, ä¼ ç»ŸC++ ä¸­, æˆ‘ä»¬éœ€è¦å®Œæ•´å†™å‡ºè¿­ä»£å™¨çš„ç±»å‹æˆ–æ˜¯ä½¿ç”¨å±€éƒ¨çš„ <code>typedef</code>è¿›è¡Œç®€å†™, å¦‚ä¸‹ :</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs C++">std::unordered_map&lt;std::string, std::string&gt; key_value_map;<br><span class="hljs-comment">// C++98/03, è¿­ä»£å™¨éå†å®¹å™¨å®Œæ•´å†™æ³•</span><br><span class="hljs-keyword">for</span> (std::unordered_map&lt;std::string, std::string&gt;::const_iterator itor = key_value_map.<span class="hljs-built_in">begin</span>(); itor != key_value_map.<span class="hljs-built_in">end</span>(); itor++) <br>&#123;<br>  std::cout &lt;&lt; itor-&gt;first &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; itor-&gt;second &lt;&lt; std::endl;<br>&#125;<br><span class="hljs-comment">// C++98/03, ä½¿ç”¨è¿­ä»£å™¨åˆ«åè¿›è¡Œç¼©å†™</span><br><span class="hljs-keyword">typedef</span> std::unordered_map&lt;std::string, std::string&gt;::const_iterator unordered_map_const_itor;<br><span class="hljs-keyword">for</span> (unordered_map_const_itor itor = key_value_map.<span class="hljs-built_in">begin</span>(); itor != key_value_map.<span class="hljs-built_in">end</span>(); itor++) <br>&#123;<br>  std::cout &lt;&lt; itor-&gt;first &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; itor-&gt;second &lt;&lt; std::endl;<br>&#125;<br></code></pre></td></tr></table></figure><p>è€Œç°ä»£ C++ ä¸­, ä¸€æ–¹é¢æˆ‘ä»¬é€šå¸¸ä½¿ç”¨ <code>using</code> ä»£æ›¿<code>typedef</code>, ä½†æ›´æ–¹ä¾¿çš„æ–¹å¼æ˜¯ä½¿ç”¨ <code>auto</code>ç®€å†™è¿­ä»£å™¨ç±»å‹ :</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// C++11 èµ·, ä½¿ç”¨ using ä»£æ›¿ typedef</span><br><span class="hljs-keyword">using</span> hash_map_const_itor = std::unordered_map&lt;std::string, std::string&gt;::const_iterator;<br><span class="hljs-keyword">for</span> (hash_map_const_itor itor = key_value_map.<span class="hljs-built_in">begin</span>(); itor != key_value_map.<span class="hljs-built_in">end</span>(); itor++) <br>&#123;<br>  std::cout &lt;&lt; itor-&gt;first &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; itor-&gt;second &lt;&lt; std::endl;<br>&#125;<br><span class="hljs-comment">// C++11 èµ·, ä½¿ç”¨ auto è‡ªåŠ¨æ¨å¯¼è¿­ä»£å™¨ç±»å‹</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> itor = key_value_map.<span class="hljs-built_in">begin</span>(); itor != key_value_map.<span class="hljs-built_in">end</span>(); itor++) <br>&#123;<br>  std::cout &lt;&lt; itor-&gt;first &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; itor-&gt;second &lt;&lt; std::endl;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬ç¨å¾®å¼•ç”³ä¸€ä¸‹, åœ¨ç°ä»£ C++ ä¸­è¿­ä»£ä¸€ä¸ªå®¹å™¨çš„æ–¹å¼è¿˜æœ‰å¾ˆå¤š,å…·ä½“å¯è§ä¸‹é¢çš„ä¾‹å­ :</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// C++11 èµ·, auto + èŒƒå›´ for å¾ªç¯</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; pair : key_value_map) <br>&#123;<br>  std::cout &lt;&lt; pair.first &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; pair.second &lt;&lt; std::endl;<br>&#125;<br><span class="hljs-comment">// C++17 èµ·, auto + èŒƒå›´ for å¾ªç¯ + ç»“æ„åŒ–ç»‘å®š</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; [first, second] : key_value_map) <br>&#123;<br>  std::cout &lt;&lt; first &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; second &lt;&lt; std::endl;<br>&#125;<br><span class="hljs-comment">// C++20 èµ·, auto + èŒƒå›´ for å¾ªç¯ + ç»“æ„åŒ–ç»‘å®š + range æœºåˆ¶, ç»†åŒ–æ§åˆ¶æ–¹å¼ (MSVC /std:c++laest)</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; [first, second] : key_value_map | std::views::all) <span class="hljs-comment">// å…¨éƒ¨éå†</span><br>&#123;  <br>  std::cout &lt;&lt; first &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; second &lt;&lt; std::endl;<br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; [first, second] : key_value_map | std::views::reverse) <span class="hljs-comment">// å…¨éƒ¨å€’åºéå†</span><br>&#123;  <br>  std::cout &lt;&lt; first &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; second &lt;&lt; std::endl;<br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; [first, second] : key_value_map | std::views::<span class="hljs-built_in">drop</span>(<span class="hljs-number">2</span>)) <span class="hljs-comment">// é¡ºåºéå†å¿½ç•¥å‰ä¸¤ä¸ª</span><br>&#123;  <br>  std::cout &lt;&lt; first &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; second &lt;&lt; std::endl;<br>&#125;<br></code></pre></td></tr></table></figure><p>é™¤äº†æ™®é€šçš„å˜é‡å¤–, æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ <code>auto</code> è®¾ç½®å‡½æ•°çš„è¿”å›å€¼,æ­¤æ—¶éœ€è¦æˆ‘ä»¬åœ¨å‚æ•°åˆ—è¡¨åä½¿ç”¨ <code>-&gt;</code>ç¬¦å·æ ‡æ³¨å…·ä½“çš„è¿”å›å€¼ç±»å‹. è¿™ç§å†™æ³•è¢«ç§°ä½œ"è¿”å›ç±»å‹åç½®è¯­æ³•",åœ¨ä¸€äº›è„šæœ¬è¯­è¨€ä¸­æ¯”è¾ƒå¸¸è§ :</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span>-&gt;<span class="hljs-type">int</span> </span>&#123; <span class="hljs-keyword">return</span> left + right; &#125;<br><br><span class="hljs-comment">// å¼•ç”³ : lambda è¡¨è¾¾å¼çš„ä¹¦å†™æ ¼å¼å€Ÿé‰´äº†è¿”å›å€¼åç½®è¯­æ³•</span><br><span class="hljs-keyword">auto</span> lambda = [](<span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)-&gt;<span class="hljs-type">int</span> &#123; <span class="hljs-keyword">return</span> left + right; &#125;<br></code></pre></td></tr></table></figure><p>åˆ°äº† C++14, æˆ‘ä»¬ç”šè‡³å¯ä»¥ä½¿ç”¨ <code>auto</code> è¿›è¡Œå‚æ•°ç±»å‹æ¨å¯¼,åœ¨ä¼ ç»Ÿ C++ ä¸­æˆ‘ä»¬æƒ³è¿›è¡Œå‚æ•°ç±»å‹çš„æ¨å¯¼éœ€è¦ç”¨åˆ°æ³›å‹æœºåˆ¶, ä½†æœ‰äº†<code>auto</code> è¿›è¡Œæ¨å¯¼å‚æ•°ç±»å‹å, æˆ‘ä»¬å¯ä»¥ç®€åŒ–ä¸€äº›å·¥ä½œ :</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// C++98/03</span><br><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> _Type&gt;</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print_value</span><span class="hljs-params">(_Type value)</span> </span>&#123; std::cout &lt;&lt; value &lt;&lt; std::endl; &#125;<br><span class="hljs-comment">// C++20</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print_value</span><span class="hljs-params">(<span class="hljs-keyword">auto</span> value)</span> </span>&#123; std::cout &lt;&lt; value &lt;&lt; std::endl; &#125;<br></code></pre></td></tr></table></figure><p><code>auto</code> å…³é”®å­—åœ¨å•ç‹¬ä½¿ç”¨æ—¶, å¤§éƒ¨åˆ†æ˜¯ç”¨äºç®€åŒ–ä¹¦å†™å½“å®ƒä¸å…¶å®ƒæœºåˆ¶ç»“åˆä½¿ç”¨æ—¶å¯ä»¥è¡ç”Ÿå‡ºæ›´å¤šçš„åŠŸèƒ½, åŒæ ·åœ¨ä¸‹æ–‡é‡Œç»†è¯´.</p><h2 id="ä½¿ç”¨-decltype-è¿›è¡Œè¡¨è¾¾å¼ç±»å‹æ¨å¯¼">ä½¿ç”¨ <code>decltype</code>è¿›è¡Œè¡¨è¾¾å¼ç±»å‹æ¨å¯¼</h2><p><code>auto</code> å…³é”®å­—ç”¨äºæ¨å¯¼å˜é‡ç±»å‹, ä¸ä¹‹ç›¸å¯¹çš„<code>decltype</code> åˆ™æ˜¯ç”¨æ¥æ¨å¯¼è¡¨è¾¾å¼ç»“æœçš„ç±»å‹. ç†Ÿæ‚‰ GCCçš„ç”¨æˆ·å¯èƒ½å¯¹è¿™ä¸ªå…³é”®å­—ä¸é™Œç”Ÿ, <code>decltype</code> çš„æ ‡å‡†åŒ–ææ¡ˆå°±æ˜¯æºè‡ªGCC çš„æ‰©å±•å…³é”®å­— <code>__decltype</code>, è€Œåè€…åˆæ˜¯æºè‡ªäº GCCä¸€ä¸ªå¾ˆå¤è€çš„æ‰©å±•å…³é”®å­— <code>__typeof__</code> .ä¾‹å¦‚ä½ å¯èƒ½éœ€è¦æ¨å¯¼æŸä¸¤ä¸ªå˜é‡ç›¸åŠ çš„ç»“æœç±»å‹ :</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">auto</span> number_a = <span class="hljs-number">16LL</span>;                                          <span class="hljs-comment">// long long number_a = 16LL;</span><br><span class="hljs-keyword">auto</span> number_b = <span class="hljs-number">16.0F</span>;                                         <span class="hljs-comment">// float number_b = 16.0F;</span><br><span class="hljs-keyword">decltype</span>(number_a + number_b) number_c = number_a + number_b;  <span class="hljs-comment">// float number_c = number_a + number_b;</span><br></code></pre></td></tr></table></figure><p><code>decltype</code> çš„æ¨å¯¼è§„åˆ™éµå¾ªå¦‚ä¸‹å‡ ç‚¹ :</p><ol type="1"><li>è‹¥è¡¨è¾¾å¼æ˜¯ä¸€ä¸ª <strong>ä¸å¸¦æ‹¬å·çš„æ ‡è®°ç¬¦è¡¨è¾¾å¼</strong> æˆ–<strong>ç±»/ç»“æ„ä½“æˆå‘˜è®¿é—®è¡¨è¾¾å¼</strong>,é‚£ä¹ˆæ¨å¯¼çš„ç»“æœæ˜¯æ‰€ä»£è¡¨å®ä½“çš„ç±»å‹;</li><li>è‹¥è¡¨è¾¾å¼æ˜¯ä¸€ä¸ª<strong>å‡½æ•°è°ƒç”¨(åŒ…æ‹¬æ“ä½œç¬¦é‡è½½)</strong>,é‚£ä¹ˆæ¨å¯¼çš„ç»“æœæ˜¯å‡½æ•°çš„è¿”å›ç±»å‹, è‹¥è¿”å›å€¼æ˜¯åŸºç¡€ç±»å‹åˆ™æŠ›å¼ƒ<code>const</code> é™å®šç¬¦;</li><li>è‹¥è¡¨è¾¾å¼æ˜¯ä¸€ä¸ª<strong>å­—ç¬¦ä¸²å­—é¢é‡</strong>, åˆ™æ¨åˆ°ä¸º<code>const</code> å·¦å€¼å¼•ç”¨;</li><li>ä¸Šè¿°æƒ…å†µä»¥å¤–, è‹¥è¡¨è¾¾å¼ç»“æœä¸ºå·¦å€¼åˆ™æ¨å¯¼ä¸ºå·¦å€¼å¼•ç”¨,å¦åˆ™æ¨å¯¼ä¸ºæœ¬ç±»å‹;</li></ol><p>ç¤ºä¾‹è§ä¸‹ :</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">int</span> number = <span class="hljs-number">4</span>;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> const_number = <span class="hljs-number">8</span>;<br><span class="hljs-type">int</span> number_array[<span class="hljs-number">2</span>] = &#123; <span class="hljs-number">0</span> &#125;;<br><span class="hljs-type">int</span>* number_array_ptr = number_array;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">MyStruct</span> &#123; <span class="hljs-type">double</span> member; &#125; my_struct;<br><span class="hljs-function"><span class="hljs-type">const</span> <span class="hljs-type">bool</span> <span class="hljs-title">func_1</span><span class="hljs-params">(<span class="hljs-type">int</span>)</span> </span>&#123; <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; &#125;;<br><span class="hljs-function"><span class="hljs-type">const</span> MyStruct <span class="hljs-title">func_2</span><span class="hljs-params">(<span class="hljs-type">int</span>)</span> </span>&#123; <span class="hljs-keyword">return</span> <span class="hljs-built_in">MyStruct</span>(); &#125;;<br><br><span class="hljs-comment">// è§„åˆ™ 1 : ä¸å¸¦æ‹¬å·çš„æ ‡è®°ç¬¦è¡¨è¾¾å¼ æˆ– ç±»/ç»“æ„ä½“æˆå‘˜è®¿é—®è¡¨è¾¾å¼</span><br><span class="hljs-keyword">decltype</span>(number_array) var_1;      <span class="hljs-comment">// int[2] var_1; æ ‡è®°ç¬¦è¡¨è¾¾å¼ =&gt; æœ¬ç±»å‹</span><br><span class="hljs-keyword">decltype</span>(number_array_ptr) var_2;  <span class="hljs-comment">// int*   var_2; æ ‡è®°ç¬¦è¡¨è¾¾å¼ =&gt; æœ¬ç±»å‹</span><br><span class="hljs-keyword">decltype</span>(my_struct.member) var_3;  <span class="hljs-comment">// double var_3; æˆå‘˜è®¿é—®è¡¨è¾¾å¼ =&gt; æœ¬ç±»å‹</span><br><br><span class="hljs-comment">// è§„åˆ™ 2 : å‡½æ•°è°ƒç”¨</span><br><span class="hljs-keyword">decltype</span>(<span class="hljs-built_in">func_1</span>(<span class="hljs-number">1</span>)) var_5 = <span class="hljs-literal">true</span>;       <span class="hljs-comment">// bool var_5; åŸºç¡€ç±»å‹è¿”å›å€¼, ä¸¢å¼ƒ const é™å®šç¬¦</span><br><span class="hljs-keyword">decltype</span>(<span class="hljs-built_in">func_2</span>(<span class="hljs-number">1</span>)) var_7 = <span class="hljs-built_in">func_2</span>(<span class="hljs-number">1</span>);  <span class="hljs-comment">// const MyStruct var_7; ç±»ç±»å‹è¿”å›å€¼, ä¿ç•™ const é™å®šç¬¦</span><br><br><span class="hljs-comment">// è§„åˆ™ 3 : å­—ç¬¦ä¸²å­—é¢é‡</span><br><span class="hljs-keyword">decltype</span>(<span class="hljs-string">&quot;hello&quot;</span>) var_8 = <span class="hljs-string">&quot;hello&quot;</span>;      <span class="hljs-comment">//const char&amp; var_8[6]; const å·¦å€¼å¼•ç”¨</span><br><br><span class="hljs-comment">// è§„åˆ™ 4 : å…¶ä»–æƒ…å†µä¸‹è¡¨è¾¾å¼ç»“æœ</span><br><span class="hljs-keyword">decltype</span>((number)) var_9 = number;                 <span class="hljs-comment">// int&amp; var_9; å¸¦æ‹¬å·çš„æ ‡è®°ç¬¦è¡¨è¾¾å¼ =&gt; å·¦å€¼å¼•ç”¨</span><br><span class="hljs-keyword">decltype</span>(<span class="hljs-literal">true</span> ? number : number) var_10 = number;  <span class="hljs-comment">// int&amp; var_10; æ¡ä»¶è¡¨è¾¾å¼è¿”å›å·¦å€¼ =&gt; å·¦å€¼å¼•ç”¨</span><br><span class="hljs-keyword">decltype</span>(++number) var_11 = number;                <span class="hljs-comment">// int&amp; var_11; è¡¨è¾¾å¼ç»“æœä¸ºå·¦å€¼ =&gt; å·¦å€¼å¼•ç”¨</span><br><span class="hljs-keyword">decltype</span>(number_array[<span class="hljs-number">5</span>]) var_12 = number;         <span class="hljs-comment">// int&amp; var_12; è¡¨è¾¾å¼ç»“æœä¸ºå·¦å€¼ =&gt; å·¦å€¼å¼•ç”¨</span><br><span class="hljs-keyword">decltype</span>(*number_array_ptr) var_13 = number;       <span class="hljs-comment">// int&amp; var_13; è¡¨è¾¾å¼ç»“æœä¸ºå·¦å€¼ =&gt; å·¦å€¼å¼•ç”¨</span><br><span class="hljs-keyword">decltype</span>(<span class="hljs-number">1</span>) var_14 = <span class="hljs-number">10</span>;                           <span class="hljs-comment">// int var_14; çº¯å³å€¼å­—é¢é‡ =&gt; æœ¬ç±»å‹</span><br><span class="hljs-keyword">decltype</span>(number++) var_15 = number;                <span class="hljs-comment">// int var_15; è¡¨è¾¾å¼ç»“æœä¸ºå³å€¼ =&gt; æœ¬ç±»å‹</span><br></code></pre></td></tr></table></figure><p>ä½ å¯èƒ½åœ¨éƒ¨åˆ†å¹³å°ä¸Šä½¿ç”¨è¿‡å…³é”®å­— <code>typeof</code> ,<code>__typeof__</code> æˆ– <code>__decltype</code> ,å®ƒä»¬åŒæ ·å¯ç”¨äºæ¨å¯¼è¡¨è¾¾å¼ç»“æœç±»å‹, å¹¶ä¸”å¯ä»¥è§†ä½œ <code>decltype</code>åŠŸèƒ½çš„å­é›†. ä½†è¿™äº›å…³é”®å­—ä»æ¥éƒ½ä¸æ˜¯æ ‡å‡† C++ çš„ä¸€éƒ¨åˆ†,åªæ˜¯éƒ¨åˆ†ç¼–è¯‘å™¨æ”¯æŒçš„åŠŸèƒ½, å¹¶ä¸”å®ƒä»¬çš„æ¨å¯¼è§„åˆ™ä¹Ÿæœ‰å¾ˆå¼ºçš„å¹³å°å·®å¼‚æ€§.ç›¸æ¯”ä¹‹ä¸‹ <code>decltype</code> çš„æ ‡å‡†åŒ–ç¨‹åº¦å’Œé€‚ç”¨é¢æ›´å¹¿. é™¤æ­¤ä¹‹å¤–<code>typeof</code> è¿›è¡Œç±»å‹æ¨å¯¼æ—¶ <code>&amp;</code>å¼•ç”¨ç¬¦å·å¾ˆå¯èƒ½å°†ä¸åšä¿ç•™, è‡³å°‘ GCC ä¸Šæ˜¯è¿™æ ·çš„, å‚è€ƒä»¥ä¸‹ç¤ºä¾‹ :</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">int</span>           var = <span class="hljs-number">1</span>; <br><span class="hljs-type">int</span>&amp;          ref = var; <br><span class="hljs-built_in">typeof</span>(var)   var_1 = <span class="hljs-number">1</span>;  <span class="hljs-comment">// int GCC 4.3.x</span><br><span class="hljs-built_in">typeof</span>(ref)   var_2 = <span class="hljs-number">1</span>;  <span class="hljs-comment">// int GCC 4.3.x</span><br><span class="hljs-keyword">decltype</span>(var) var_3;      <span class="hljs-comment">// int </span><br><span class="hljs-keyword">decltype</span>(ref) var_4 = a;  <span class="hljs-comment">// int&amp; </span><br></code></pre></td></tr></table></figure><p>æ€»ä¹‹, å½“ä½ çš„å·¥ç¨‹æ‰€ä½¿ç”¨çš„ C++ ç‰ˆæœ¬è‹¥æ˜¯ç­‰äºæˆ–é«˜äº C++11 ,æˆ‘æ¨èå…¨ç›˜ä½¿ç”¨ <code>decltype</code> ä»£æ›¿ <code>typeof</code> .</p><h2 id="ç»“åˆ-auto-ä¸-decltype-è¿›è¡Œè‡ªåŠ¨æ¨å¯¼è¿”å›å€¼ç±»å‹">ç»“åˆ<code>auto</code> ä¸ <code>decltype</code> è¿›è¡Œè‡ªåŠ¨æ¨å¯¼è¿”å›å€¼ç±»å‹</h2><p><code>auto</code> ä¸ <code>decltype</code> å•ç‹¬ä½¿ç”¨çš„æ—¶å€™,åœ¨åŠŸèƒ½ä¸Šçš„çªç ´æœ¬è´¨è¿˜æ˜¯å‘ç”¨æˆ·å¼€æ”¾äº†ä¸»åŠ¨è¦æ±‚ç±»å‹æ¨å¯¼çš„æƒé™.ä½†å¦‚æœäºŒè€…ç»“åˆä½¿ç”¨çš„è¯, å°±å¯ä»¥çªç ´ä¼ ç»Ÿ C++ ä¸­ä¸€äº›é™åˆ¶äº†.åœ¨è¿™é‡Œæˆ‘ä»¬æ€è€ƒä¸€ä¸ªé—®é¢˜ : <strong>å¦‚ä½•å®ç°ä¸€ä¸ªæ»¡è¶³æ‰€æœ‰ç±»å‹ä¹‹é—´è¿›è¡Œ<code>+</code> è¿ç®—çš„å‡½æ•°?</strong></p><p>åœ¨ä¼ ç»Ÿ C++ ä¸­çš„æœ€ä¼˜è§£æ˜¯è¿™æ ·çš„ :</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// C++98/03</span><br><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> _TypeLeft, <span class="hljs-keyword">typename</span> _TypeRight, <span class="hljs-keyword">typename</span> _TypeResult&gt;</span><br><span class="hljs-function">_TypeResult <span class="hljs-title">add</span><span class="hljs-params">(_TypeLeft left, _TypeRight right)</span> </span><br><span class="hljs-function"></span>&#123;<br>  <span class="hljs-keyword">return</span> left + right;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™ç§åšæ³•çš„ç¡®å¯ä»¥æ»¡è¶³æ‰€æœ‰ç±»å‹çš„ <code>+</code> è¿ç®—,ä½†å¾ˆæ˜æ˜¾ä½¿ç”¨ä¸Šæœ‰ç€å¾ˆå¤§çš„å±€é™æ€§. å› ä¸ºæˆ‘ä»¬å¿…é¡»é¢„çŸ¥è¿”å›å€¼çš„ç±»å‹,è€Œé¢˜ç›®çš„éšè—å«ä¹‰æ˜¯ä¸€å®šè¦åšåˆ°é€šç”¨æ€§çš„. é‚£ä¹ˆæˆ‘ä»¬ç°åœ¨å·²ç»çŸ¥é“å¦‚ä½•ä½¿ç”¨<code>decltype</code> å¯ä»¥è¿›è¡Œè¡¨è¾¾å¼ç»“æœçš„ç±»å‹æ¨å¯¼,é‚£ä½•ä¸ç›´æ¥ç”¨å…¶ç›´æ¥æ¨å¯¼å‡½æ•°ä½“çš„ç»“æœå‘¢ ?</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> _TypeLeft, <span class="hljs-keyword">typename</span> _TypeRight, <span class="hljs-keyword">typename</span> _TypeResult&gt;</span><br><span class="hljs-function"><span class="hljs-title">decltype</span><span class="hljs-params">(left + right)</span> <span class="hljs-title">add</span><span class="hljs-params">(_TypeLeft left, _TypeRight right)</span> <span class="hljs-comment">// æœªå®šä¹‰çš„æ ‡è¯†ç¬¦</span></span><br><span class="hljs-function"></span>&#123;  <br>  <span class="hljs-keyword">return</span> left + right;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¾ˆé—æ†¾è¿™ç§è¡Œä¸ºæ˜¯æ— æ•ˆçš„, å› ä¸ºå½¢å¼å‚çš„å®šä¹‰åœ¨å‚æ•°åˆ—è¡¨é‡Œ,è€Œå¤„äºå‚æ•°åˆ—è¡¨å·¦ä¾§çš„è¿”å›å€¼ç±»å‹æ˜¯æ— æ³•è·å–å½¢å‚åçš„.é™¤éæˆ‘ä»¬èƒ½å°†è¿”å›å€¼ç±»å‹æ”¾åœ¨å‚æ•°åˆ—è¡¨çš„å³ä¾§, å®ç°è¿™ä¸ªç›®æ ‡çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨<code>auto</code> ä¹¦å†™è¿”å›ç±»å‹åç½®è¯­æ³• :</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// auto è¿”å›ç±»å‹åç½®è¯­æ³•</span><br><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> _TypeLeft, <span class="hljs-keyword">typename</span> _TypeRight, <span class="hljs-keyword">typename</span> _TypeResult&gt;</span><br><span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">add</span><span class="hljs-params">(_TypeLeft left, _TypeRight right)</span>-&gt;_TypeResult </span><br><span class="hljs-function"></span>&#123;<br>  <span class="hljs-keyword">return</span> left + right;<br>&#125;<br><span class="hljs-comment">// auto è¿”å›ç±»å‹åç½®è¯­æ³• ç»“åˆ decltype è¡¨è¾¾å¼ç»“æœç±»å‹æ¨å¯¼</span><br><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> _TypeLeft, <span class="hljs-keyword">typename</span> _TypeRight&gt;</span><br><span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">add</span><span class="hljs-params">(_TypeLeft left, _TypeRight right)</span>-&gt;<span class="hljs-title">decltype</span><span class="hljs-params">(left + right)</span> </span><br><span class="hljs-function"></span>&#123;<br>  <span class="hljs-keyword">return</span> left + right;<br>&#125;<br></code></pre></td></tr></table></figure><p>è‹¥åªæ˜¯å•çº¯çš„åªç”¨ <code>auto</code> è¿›è¡Œè¿”å›ç±»å‹åç½®,åˆ™åªæ˜¯æ¢äº†ç§è¯­æ³•. ä½†å¦‚æœå°† <code>auto</code> ä¸ <code>decltype</code>ç›¸ç»“åˆ, å°±å¯ä»¥çªç ´ä¼ ç»Ÿ C++ çš„é™åˆ¶äº†. åˆ°æ­¤,æˆ‘ä»¬å·²ç»å®Œå…¨å®ç°äº†é¢˜ç›®é‡Œçš„éœ€æ±‚. ä½†è¿˜æœ‰ç»§ç»­ä¼˜åŒ–çš„ç©ºé—´,é¦–å…ˆæ˜¯ä¸Šæ–‡ä¸­æåˆ°çš„, è‡ª C++14 èµ·, æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ <code>auto</code>è¿›è¡Œå‚æ•°ç±»å‹çš„æ¨å¯¼ :</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// C++14</span><br><span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">auto</span> left, <span class="hljs-keyword">auto</span> right)</span>-&gt;<span class="hljs-title">decltype</span><span class="hljs-params">(left + right)</span> </span>&#123; <span class="hljs-keyword">return</span> left + right; &#125;<br></code></pre></td></tr></table></figure><p>å…¶æ¬¡æ˜¯ç”±äºè¿™ç§äºŒè€…ç»“åˆçš„æ¨¡å¼è¢«å¤§é‡çš„ä½¿ç”¨, è‡ª C++14 èµ·, æˆ‘ä»¬åœ¨ä½¿ç”¨<code>auto</code> æè¿°è¿”å›ç±»å‹æ—¶æ— éœ€åœ¨å‚æ•°åˆ—è¡¨åå†™ä¸Šè¿”å›ç±»å‹,ç¼–è¯‘å™¨å°†è‡ªåŠ¨é€šè¿‡å‡½æ•°ä½“è¿›è¡Œæ¨å¯¼, å› æ­¤è¿™ä¸ªæ–¹æ³•æœ€ç»ˆå°†æ¼”åŒ–æˆè¿™ç§å½¢å¼ :</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// C++14</span><br><span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">auto</span> left, <span class="hljs-keyword">auto</span> right)</span> </span>&#123; <span class="hljs-keyword">return</span> left + right; &#125;<br></code></pre></td></tr></table></figure><p><strong>å¼•ç”³ : ä¸Šä¾‹ä¸­çš„ "æœ€ç»ˆç‰ˆæœ¬" çœŸçš„å®Œç¾å—?</strong></p><blockquote><p>è¿”å›ç±»å‹åç½®è¿™ç§è¯­æ³•çœ‹ä¼¼åªæ˜¯è¯­æ³•ä¸Šçš„ä¸€äº›å–å·§æ‰‹æ³•,ä½†å®åˆ™é€šè¿‡è¿™ç§æ–¹å¼å¯ä»¥çªç ´ç¼–è¯‘å™¨çš„æ¡æ¢,å› ä¸ºç¼–è¯‘å™¨å§‹ç»ˆæ˜¯ç”±ä¸Šè‡³ä¸‹ç”±å·¦è‡³å³ç†è§£ä»£ç çš„.</p></blockquote><p>æ­£å¦‚ä¸Šæ–‡ä¸­æ‰€è¯´, <code>auto</code> ä¸ <code>decltype</code>çš„åŠŸèƒ½å¹¶ä¸æ˜¯ç°ä»£ C++ æ‰å‡ºç°çš„,è€Œä¸”åœ¨å®ƒä»¬å•ç‹¬ä½¿ç”¨æ—¶æ›´å¤šçš„æ—¶å€™æ˜¯ä¸€ç§ç®€åŒ–ä»£ç ä¹¦å†™çš„æ–¹å¼.ä½†å½“äºŒè€…ç»“åˆèµ·æ¥æ—¶, å°†å¯ä»¥åšå‡ºä¸€äº›è¯­è¨€åŠŸèƒ½ä¸Šçš„çªç ´.</p><h2 id="auto-ä¸-decltype-çš„æ¼”åŒ–"><code>auto</code> ä¸<code>decltype</code> çš„æ¼”åŒ–</h2><p>ä¼ ç»Ÿ C++ é‡Œ, ç±»å‹æ¨å¯¼ä¸€èˆ¬æ˜¯åœ¨æ¨¡æ¿ä¼ å‚æ—¶è¿›è¡Œéšå¼ç±»å‹æ¨å¯¼, è€Œ<code>auto</code> çš„å‡ºç°æ˜¯å°†ç±»å‹æ¨å¯¼çš„æ§åˆ¶æƒå¼€æ”¾ç»™ç”¨æˆ·è¿›è¡Œæ˜¾ç¤ºç±»å‹æ¨å¯¼;è€Œä¼ ç»Ÿ C++ é‡Œè¡¨è¾¾å¼ç»“æœç±»å‹çš„æ¨å¯¼é€šå¸¸ç”±ä¸åŒå¹³å°ä¸Šå„ç§<code>typeof</code> éæ ‡å‡†æ‰©å±•å…³é”®å­—å®ç°, è€Œ <code>decltype</code>çš„å‡ºç°åˆ™æ˜¯è¿™ä¸ªåŠŸèƒ½çš„æ ‡å‡†åŒ–. å½“ <code>auto</code> ä¸<code>decltype</code> ç›¸ç»“åˆå, ç”±è¡ç”Ÿå‡ºè®¸å¤šæ–°çš„åŠŸèƒ½, å®ƒä»¬äºŒè€…æ„æˆäº†ç°ä»£C++ ç±»å‹æ¨å¯¼åŠŸèƒ½çš„æ ¸å¿ƒ. ä»¥ä¸‹çš„ <code>auto</code> ä¸<code>decltype</code> çš„å‘å±•å†ç¨‹ç®€è¿° :</p><ol type="1"><li>C++11 :<ul><li>å…è®¸ä½¿ç”¨ <code>auto</code> è¿›è¡Œæ™®é€šå˜é‡çš„ä¸»åŠ¨ç±»å‹æ¨å¯¼;</li><li>å…è®¸ä½¿ç”¨ <code>auto</code> ä¹¦å†™è¿”å›å€¼åç½®è¯­æ³•;</li><li>ä½¿ç”¨æ ‡å‡† <code>decltype</code> è¿›è¡Œè¡¨è¾¾å¼ç»“æœç±»å‹æ¨å¯¼ä»¥æ›¿ä»£å„å¹³å°çš„<code>typeof</code> æ‰©å±•å…³é”®å­—;</li></ul></li><li>C++14 :<ul><li>å…è®¸ä½¿ç”¨ <code>auto</code> è¿›è¡Œå½¢å‚ç±»å‹æ¨å¯¼;</li><li>å…è®¸ä½¿ç”¨ <code>auto</code> è¿›è¡Œè¿”å›å€¼ç±»å‹æ¨å¯¼(ä¹¦å†™è¿”å›å€¼åç½®è¯­æ³•æ—¶ä¸é€‚ç”¨ç±»å‹æ ‡è¯†ç¬¦è¡¨é¢è¿”å›ç±»å‹);</li></ul></li></ol><p>å†…å®¹è½¬è½½è‡ª <ahref="http://brabbit.xyz/blog/NoteModernCpp/p3_auto_deltype.html">ModernC++ ä¹‹ auto ä¸ decltype : ç±»å‹æ¨å¯¼</a></p>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>C++æ™ºèƒ½æŒ‡é’ˆ</title>
    <link href="/2023/03/04/Cpp-%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88/"/>
    <url>/2023/03/04/Cpp-%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88/</url>
    
    <content type="html"><![CDATA[<h2 id="è¯¦è§£-c-11-ä¸­çš„æ™ºèƒ½æŒ‡é’ˆ">è¯¦è§£ C++ 11 ä¸­çš„æ™ºèƒ½æŒ‡é’ˆ</h2><p>C/C++è¯­è¨€æœ€ä¸ºäººæ‰€è¯Ÿç—…çš„ç‰¹æ€§ä¹‹ä¸€å°±æ˜¯å­˜åœ¨å†…å­˜æ³„éœ²é—®é¢˜ï¼Œå› æ­¤åæ¥çš„å¤§å¤šæ•°è¯­è¨€éƒ½æä¾›äº†å†…ç½®å†…å­˜åˆ†é…ä¸é‡Šæ”¾åŠŸèƒ½ï¼Œæœ‰çš„ç”šè‡³å¹²è„†å¯¹è¯­è¨€çš„ä½¿ç”¨è€…å±è”½äº†å†…å­˜æŒ‡é’ˆè¿™ä¸€æ¦‚å¿µã€‚è¿™é‡Œä¸ç½®è´¬è¤’ï¼Œæ‰‹åŠ¨åˆ†é…å†…å­˜ä¸æ‰‹åŠ¨é‡Šæ”¾å†…å­˜æœ‰åˆ©ä¹Ÿæœ‰å¼Šï¼Œè‡ªåŠ¨åˆ†é…å†…å­˜å’Œè‡ªåŠ¨é‡Šæ”¾å†…å­˜äº¦å¦‚æ­¤ï¼Œè¿™æ˜¯ä¸¤ç§ä¸åŒçš„è®¾è®¡å“²å­¦ã€‚æœ‰äººè®¤ä¸ºï¼Œå†…å­˜å¦‚æ­¤é‡è¦çš„ä¸œè¥¿æ€ä¹ˆèƒ½æ”¾å¿ƒäº¤ç»™ç”¨æˆ·å»ç®¡ç†å‘¢ï¼Ÿè€Œå¦å¤–ä¸€äº›äººåˆ™è®¤ä¸ºï¼Œå†…å­˜å¦‚æ­¤é‡è¦çš„ä¸œè¥¿æ€ä¹ˆèƒ½æ”¾å¿ƒäº¤ç»™ç³»ç»Ÿå»ç®¡ç†å‘¢ï¼Ÿåœ¨C/C++è¯­è¨€ä¸­ï¼Œå†…å­˜æ³„éœ²çš„é—®é¢˜ä¸€ç›´å›°æ‰°ç€å¹¿å¤§çš„å¼€å‘è€…ï¼Œå› æ­¤å„ç±»åº“å’Œå·¥å…·çš„ä¸€ç›´åœ¨åŠªåŠ›å°è¯•å„ç§æ–¹æ³•å»æ£€æµ‹å’Œé¿å…å†…å­˜æ³„éœ²ï¼Œå¦‚boostï¼Œæ™ºèƒ½æŒ‡é’ˆæŠ€æœ¯åº”è¿è€Œç”Ÿã€‚</p><h4 id="c-9803-çš„å°è¯•stdauto_ptr">C++ 98/03 çš„å°è¯•â€”â€”std::auto_ptr</h4><p>åœ¨ 2022 å¹´è®¨è®º <strong>std::auto_ptr</strong>ä¸å…æœ‰ç‚¹è®©äººæ€€ç–‘æ˜¯ä¸æ˜¯æœ‰ç‚¹è¿‡æ—¶äº†ï¼Œç¡®å®å¦‚æ­¤ï¼Œéšç€ C++11æ ‡å‡†çš„å‡ºç°ï¼ˆæœ€æ–°æ ‡å‡†æ˜¯ C++20ï¼‰ï¼Œ<strong>std::auto_ptr</strong>å·²ç»è¢«å½»åº•åºŸå¼ƒäº†ï¼Œå–è€Œä»£ä¹‹æ˜¯<strong>std::unique_ptr</strong>ã€‚ç„¶è€Œï¼Œæˆ‘ä¹‹æ‰€ä»¥è¿˜å‘ä½ ä»‹ç»ä¸€ä¸‹<strong>std::auto_ptr</strong> çš„ç”¨æ³•ä»¥åŠå®ƒçš„è®¾è®¡ä¸è¶³ä¹‹å¤„æ˜¯æƒ³è®©ä½ äº†è§£C++è¯­è¨€ä¸­æ™ºèƒ½æŒ‡é’ˆçš„å‘å±•è¿‡ç¨‹ï¼Œä¸€é¡¹æŠ€æœ¯å¦‚æœæˆ‘ä»¬äº†è§£å®ƒè¿‡å»çš„æ ·å­å’Œå‘å±•çš„è½¨è¿¹ï¼Œæˆ‘ä»¬å°±èƒ½æ›´å¥½åœ°æŒæ¡å®ƒï¼Œä¸æ˜¯å—ï¼Ÿ</p><p><strong>std::auto_ptr</strong> çš„åŸºæœ¬ç”¨æ³•å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//åˆå§‹åŒ–æ–¹å¼1</span><br>    <span class="hljs-function">std::auto_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">sp1</span><span class="hljs-params">(<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>(<span class="hljs-number">8</span>))</span></span>;<br>    <span class="hljs-comment">//åˆå§‹åŒ–æ–¹å¼2</span><br>    std::auto_ptr&lt;<span class="hljs-type">int</span>&gt; sp2;<br>    sp2.<span class="hljs-built_in">reset</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(<span class="hljs-number">8</span>));<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ™ºèƒ½æŒ‡é’ˆå¯¹è±¡ <strong>sp1</strong> å’Œ <strong>sp2</strong>å‡æŒæœ‰ä¸€ä¸ªåœ¨å †ä¸Šåˆ†é… int å¯¹è±¡ï¼Œå…¶å€¼å‡æ˜¯ 8ï¼Œè¿™ä¸¤å—å †å†…å­˜å‡å¯ä»¥åœ¨<strong>sp1</strong> å’Œ <strong>sp2</strong> é‡Šæ”¾æ—¶å¾—åˆ°é‡Šæ”¾ã€‚è¿™æ˜¯<strong>std::auto_ptr</strong> çš„åŸºæœ¬ç”¨æ³•ã€‚</p><blockquote><p>sp æ˜¯ smart pointerï¼ˆæ™ºèƒ½æŒ‡é’ˆï¼‰çš„ç®€å†™ã€‚</p></blockquote><p><strong>std::auto_ptr</strong>çœŸæ­£è®©äººå®¹æ˜“è¯¯ç”¨çš„åœ°æ–¹æ˜¯å…¶ä¸å¸¸ç”¨çš„å¤åˆ¶è¯­ä¹‰ï¼Œå³å½“å¤åˆ¶ä¸€ä¸ª<strong>std::auto_ptr</strong> å¯¹è±¡æ—¶ï¼ˆæ‹·è´å¤åˆ¶æˆ– operator =å¤åˆ¶ï¼‰ï¼ŒåŸå¯¹è±¡æ‰€æŒæœ‰çš„å †å†…å­˜å¯¹è±¡ä¹Ÿä¼šè½¬ç§»ç»™å¤åˆ¶å‡ºæ¥çš„å¯¹è±¡ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//æµ‹è¯•æ‹·è´æ„é€ </span><br>    <span class="hljs-function">std::auto_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">sp1</span><span class="hljs-params">(<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>(<span class="hljs-number">8</span>))</span></span>;<br>    <span class="hljs-function">std::auto_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">sp2</span><span class="hljs-params">(sp1)</span></span>;<br>    <span class="hljs-keyword">if</span> (sp1.<span class="hljs-built_in">get</span>() != <span class="hljs-literal">NULL</span>)<br>    &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;sp1 is not empty.&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;sp1 is empty.&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br><br>    <span class="hljs-keyword">if</span> (sp2.<span class="hljs-built_in">get</span>() != <span class="hljs-literal">NULL</span>)<br>    &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;sp2 is not empty.&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;sp2 is empty.&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br><br>    <span class="hljs-comment">//æµ‹è¯•èµ‹å€¼æ„é€ </span><br>    <span class="hljs-function">std::auto_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">sp3</span><span class="hljs-params">(<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>(<span class="hljs-number">8</span>))</span></span>;<br>    std::auto_ptr&lt;<span class="hljs-type">int</span>&gt; sp4;<br>    sp4 = sp3;<br>    <span class="hljs-keyword">if</span> (sp3.<span class="hljs-built_in">get</span>() != <span class="hljs-literal">NULL</span>)<br>    &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;sp3 is not empty.&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;sp3 is empty.&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br><br>    <span class="hljs-keyword">if</span> (sp4.<span class="hljs-built_in">get</span>() != <span class="hljs-literal">NULL</span>)<br>    &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;sp4 is not empty.&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;sp4 is empty.&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ä¸­åˆ†åˆ«åˆ©ç”¨æ‹·è´æ„é€ ï¼ˆsp1 =&gt; sp2ï¼‰å’Œ èµ‹å€¼æ„é€ ï¼ˆsp3 =&gt;sp4ï¼‰æ¥åˆ›å»ºæ–°çš„ std::auto_ptr å¯¹è±¡ï¼Œå› æ­¤ sp1 æŒæœ‰çš„å †å¯¹è±¡è¢«è½¬ç§»ç»™sp2ï¼Œsp3 æŒæœ‰çš„å †å¯¹è±¡è¢«è½¬ç§»ç»™ sp4ã€‚æˆ‘ä»¬å¾—åˆ°ç¨‹åºæ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript">[root@iZ238vnojlyZ testx]<span class="hljs-comment"># g++ -g -o test_auto_ptr test_auto_ptr.cpp</span><br>[root@iZ238vnojlyZ testx]<span class="hljs-comment"># ./test_auto_ptr </span><br>sp1 <span class="hljs-keyword">is</span> empty.<br>sp2 <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> empty.<br>sp3 <span class="hljs-keyword">is</span> empty.<br>sp4 <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> empty.<br></code></pre></td></tr></table></figure><p>ç”±äº <strong>std::auto_ptr</strong>è¿™ç§ä¸å¸¸ç”¨çš„å¤åˆ¶è¯­ä¹‰ï¼Œæˆ‘ä»¬åº”è¯¥é¿å…åœ¨ stl å®¹å™¨ä¸­ä½¿ç”¨<strong>std::auto_ptr</strong>ï¼Œä¾‹å¦‚æˆ‘ä»¬ç»ä¸åº”è¯¥å†™å‡ºå¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::vector&lt;std::auto_ptr&lt;<span class="hljs-type">int</span>&gt;&gt; myvectors;<br></code></pre></td></tr></table></figure><p>å½“ç”¨ç®—æ³•å¯¹å®¹å™¨æ“ä½œçš„æ—¶å€™ï¼ˆå¦‚æœ€å¸¸è§çš„å®¹å™¨å…ƒç´ éå†ï¼‰ï¼Œå¾ˆéš¾é¿å…ä¸å¯¹å®¹å™¨ä¸­çš„å…ƒç´ å®ç°èµ‹å€¼ä¼ é€’ï¼Œè¿™æ ·ä¾¿ä¼šä½¿å®¹å™¨ä¸­å¤šä¸ªå…ƒç´ è¢«ç½®ä¸ºç©ºæŒ‡é’ˆï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬æƒ³çœ‹åˆ°çš„ï¼Œä¼šé€ æˆå¾ˆå¤šæ„æƒ³ä¸åˆ°çš„é”™è¯¯ã€‚</p><p>ä»¥å²ä¸ºé‰´ï¼Œä½œä¸º <strong>std::auto_ptr</strong> çš„æ›¿ä»£è€…<strong>std::unique_ptr</strong>å¸å–äº†è¿™ä¸ªç»éªŒæ•™è®­ã€‚ä¸‹æ–‡ä¼šæ¥è¯¦ç»†ä»‹ç»ã€‚</p><p>æ­£å› ä¸º <strong>std::auto_ptr</strong> çš„è®¾è®¡å­˜åœ¨å¦‚æ­¤é‡å¤§ç¼ºé™·ï¼ŒC++11æ ‡å‡†åœ¨å……åˆ†å€Ÿé‰´å’Œå¸æ”¶äº† booståº“ä¸­æ™ºèƒ½æŒ‡é’ˆçš„è®¾è®¡æ€æƒ³ï¼Œå¼•å…¥äº†ä¸‰ç§ç±»å‹çš„æ™ºèƒ½æŒ‡é’ˆï¼Œå³<strong>std::unique_ptr</strong>ã€<strong>std::shared_ptr</strong> å’Œ<strong>std::weak_ptr</strong>ã€‚</p><blockquote><p>boost è¿˜æœ‰ scoped_ptrï¼ŒC++11å¹¶æ²¡æœ‰å…¨éƒ¨ç…§æ¬ï¼Œè€Œæ˜¯é€‰æ‹©äº†ä¸‰ä¸ªæœ€å®ç”¨çš„æŒ‡é’ˆç±»å‹ã€‚åœ¨ C++11 ä¸­å¯ä»¥é€šè¿‡std::unique_ptr è¾¾åˆ°ä¸ boost::scoped_ptr ä¸€æ ·çš„æ•ˆæœã€‚</p></blockquote><p>æ‰€æœ‰çš„æ™ºèƒ½æŒ‡é’ˆç±»ï¼ˆåŒ…æ‹¬ std::unique_ptrï¼‰å‡åŒ…å«äºå¤´æ–‡ä»¶ **** ä¸­ã€‚</p><blockquote><p>æ­£å› ä¸ºå­˜åœ¨ä¸Šè¿°è®¾è®¡ä¸Šçš„ç¼ºé™·ï¼Œåœ¨ C++11åŠåç»­è¯­è¨€è§„èŒƒä¸­ std::auto_ptrå·²ç»è¢«åºŸå¼ƒï¼Œä½ çš„ä»£ç ä¸åº”è¯¥å†ä½¿ç”¨å®ƒã€‚</p></blockquote><h4 id="stdunique_ptr">std::unique_ptr</h4><p><strong>std::unique_ptr</strong>å¯¹å…¶æŒæœ‰çš„å †å†…å­˜å…·æœ‰å”¯ä¸€æ‹¥æœ‰æƒï¼Œä¹Ÿå°±æ˜¯è¯´å¼•ç”¨è®¡æ•°æ°¸è¿œæ˜¯1ï¼Œ<strong>std::unique_ptr</strong>å¯¹è±¡é”€æ¯æ—¶ä¼šé‡Šæ”¾å…¶æŒæœ‰çš„å †å†…å­˜ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼åˆå§‹åŒ–ä¸€ä¸ª<strong>std::unique_ptr</strong> å¯¹è±¡ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//åˆå§‹åŒ–æ–¹å¼1</span><br><span class="hljs-function">std::unique_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">sp1</span><span class="hljs-params">(<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>(<span class="hljs-number">123</span>))</span></span>;<br><br><span class="hljs-comment">//åˆå§‹åŒ–æ–¹å¼2</span><br>std::unique_ptr&lt;<span class="hljs-type">int</span>&gt; sp2;<br>sp2.<span class="hljs-built_in">reset</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(<span class="hljs-number">123</span>));<br><br><span class="hljs-comment">//åˆå§‹åŒ–æ–¹å¼3</span><br>std::unique_ptr&lt;<span class="hljs-type">int</span>&gt; sp3 = std::<span class="hljs-built_in">make_unique</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">123</span>);<br></code></pre></td></tr></table></figure><p>ä½ åº”è¯¥å°½é‡ä½¿ç”¨åˆå§‹åŒ–æ–¹å¼ 3 çš„æ–¹å¼å»åˆ›å»ºä¸€ä¸ª<strong>std::unique_ptr</strong> è€Œä¸æ˜¯æ–¹å¼ 1 å’Œ 2ï¼Œå› ä¸ºå½¢å¼ 3æ›´å®‰å…¨ï¼ŒåŸå›  Scott Meyers åœ¨å…¶ã€ŠEffective ModernC++ã€‹ä¸­å·²ç»è§£é‡Šè¿‡äº†ï¼Œæœ‰å…´è¶£çš„è¯»è€…å¯ä»¥é˜…è¯»æ­¤ä¹¦ç›¸å…³ç« èŠ‚ã€‚</p><blockquote><p>ä»¤å¾ˆå¤šäººå¯¹ C++11 è§„èŒƒä¸æ»¡çš„åœ°æ–¹æ˜¯ï¼ŒC++11 æ–°å¢äº† std::make_shared()æ–¹æ³•åˆ›å»ºä¸€ä¸ª std::shared_ptr å¯¹è±¡ï¼Œå´æ²¡æœ‰æä¾›ç›¸åº”çš„ std::make_unique()æ–¹æ³•åˆ›å»ºä¸€ä¸ª std::unique_ptr å¯¹è±¡ï¼Œè¿™ä¸ªæ–¹æ³•ç›´åˆ° C++14æ‰è¢«æ·»åŠ è¿›æ¥ã€‚å½“ç„¶ï¼Œåœ¨ C++11 ä¸­ä½ å¾ˆå®¹æ˜“å®ç°å‡ºè¿™æ ·ä¸€ä¸ªæ–¹æ³•æ¥ï¼š</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span>... Ts&gt;</span><br><span class="hljs-function">std::unique_ptr&lt;T&gt; <span class="hljs-title">make_unique</span><span class="hljs-params">(Ts&amp;&amp; ...params)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> std::<span class="hljs-built_in">unique_ptr</span>&lt;T&gt;(<span class="hljs-keyword">new</span> <span class="hljs-built_in">T</span>(std::forward&lt;Ts&gt;(params)...));<br>&#125;<br></code></pre></td></tr></table></figure><p>é‰´äº <strong>std::auto_ptr</strong>çš„å‰è½¦ä¹‹é‰´ï¼Œ<strong>std::unique_ptr</strong>ç¦æ­¢å¤åˆ¶è¯­ä¹‰ï¼Œä¸ºäº†è¾¾åˆ°è¿™ä¸ªæ•ˆæœï¼Œ<strong>std::unique_ptr</strong>ç±»çš„æ‹·è´æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦ï¼ˆoperator =ï¼‰è¢«æ ‡è®°ä¸º<strong>delete</strong>ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">template</span> &lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span>&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">unique_ptr</span><br>&#123;<br>    <span class="hljs-comment">//çœç•¥å…¶ä»–ä»£ç ...</span><br><br>    <span class="hljs-comment">//æ‹·è´æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦è¢«æ ‡è®°ä¸ºdelete</span><br>    <span class="hljs-built_in">unique_ptr</span>(<span class="hljs-type">const</span> unique_ptr&amp;) = <span class="hljs-keyword">delete</span>;<br>    unique_ptr&amp; <span class="hljs-keyword">operator</span>=(<span class="hljs-type">const</span> unique_ptr&amp;) = <span class="hljs-keyword">delete</span>;<br>&#125;;<br></code></pre></td></tr></table></figure><p>å› æ­¤ï¼Œä¸‹åˆ—ä»£ç æ˜¯æ— æ³•é€šè¿‡ç¼–è¯‘çš„ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function">std::unique_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">sp1</span><span class="hljs-params">(std::make_unique&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">123</span>))</span></span>;;<br><br><span class="hljs-comment">//ä»¥ä¸‹ä»£ç æ— æ³•é€šè¿‡ç¼–è¯‘</span><br><span class="hljs-comment">//std::unique_ptr&lt;int&gt; sp2(sp1);</span><br>std::unique_ptr&lt;<span class="hljs-type">int</span>&gt; sp3;<br><span class="hljs-comment">//ä»¥ä¸‹ä»£ç æ— æ³•é€šè¿‡ç¼–è¯‘</span><br><span class="hljs-comment">//sp3 = sp1;</span><br></code></pre></td></tr></table></figure><p>ç¦æ­¢å¤åˆ¶è¯­ä¹‰ä¹Ÿå­˜åœ¨ç‰¹ä¾‹ï¼Œå³å¯ä»¥é€šè¿‡ä¸€ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªstd::unique_ptrï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span><br><br><span class="hljs-function">std::unique_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">func</span><span class="hljs-params">(<span class="hljs-type">int</span> val)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-function">std::unique_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">up</span><span class="hljs-params">(<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>(val))</span></span>;<br>    <span class="hljs-keyword">return</span> up;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    std::unique_ptr&lt;<span class="hljs-type">int</span>&gt; sp1 = <span class="hljs-built_in">func</span>(<span class="hljs-number">123</span>);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ä» func å‡½æ•°ä¸­å¾—åˆ°ä¸€ä¸ª <strong>std::unique_ptr</strong>å¯¹è±¡ï¼Œç„¶åè¿”å›ç»™ sp1ã€‚</p><p>æ—¢ç„¶ <strong>std::unique_ptr</strong> ä¸èƒ½å¤åˆ¶ï¼Œé‚£ä¹ˆå¦‚ä½•å°†ä¸€ä¸ª<strong>std::unique_ptr</strong>å¯¹è±¡æŒæœ‰çš„å †å†…å­˜è½¬ç§»ç»™å¦å¤–ä¸€ä¸ªå‘¢ï¼Ÿç­”æ¡ˆæ˜¯ä½¿ç”¨ç§»åŠ¨æ„é€ ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-function">std::unique_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">sp1</span><span class="hljs-params">(std::make_unique&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">123</span>))</span></span>;<br><br>    <span class="hljs-function">std::unique_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">sp2</span><span class="hljs-params">(std::move(sp1))</span></span>;<br><br>    std::unique_ptr&lt;<span class="hljs-type">int</span>&gt; sp3;<br>    sp3 = std::<span class="hljs-built_in">move</span>(sp2);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç åˆ©ç”¨ std::move å°† sp1 æŒæœ‰çš„å †å†…å­˜ï¼ˆå€¼ä¸º 123ï¼‰è½¬ç§»ç»™sp2ï¼Œå†æŠŠ sp2 è½¬ç§»ç»™ sp3ã€‚æœ€åï¼Œsp1 å’Œ sp2ä¸å†æŒæœ‰å †å†…å­˜çš„å¼•ç”¨ï¼Œå˜æˆä¸€ä¸ªç©ºçš„æ™ºèƒ½æŒ‡é’ˆå¯¹è±¡ã€‚å¹¶ä¸æ˜¯æ‰€æœ‰çš„å¯¹è±¡çš„std::move æ“ä½œéƒ½æœ‰æ„ä¹‰ï¼Œåªæœ‰å®ç°äº†ç§»åŠ¨æ„é€ å‡½æ•°ï¼ˆMoveConstructorï¼‰æˆ–ç§»åŠ¨èµ‹å€¼è¿ç®—ç¬¦ï¼ˆoperator =ï¼‰çš„ç±»æ‰è¡Œï¼Œè€Œ<strong>std::unique_ptr</strong> æ­£å¥½å®ç°äº†è¿™äºŒè€…ï¼Œä»¥ä¸‹æ˜¯å®ç°ä¼ªç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T, <span class="hljs-keyword">typename</span> Deletor&gt;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">unique_ptr</span><br>&#123;<br>    <span class="hljs-comment">//å…¶ä»–å‡½æ•°çœç•¥...</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">unique_ptr</span>(unique_ptr&amp;&amp; rhs)<br>    &#123;<br>        <span class="hljs-keyword">this</span>-&gt;m_pT = rhs.m_pT;<br>        <span class="hljs-comment">//æºå¯¹è±¡é‡Šæ”¾</span><br>        rhs.m_pT = <span class="hljs-literal">nullptr</span>;<br>    &#125;<br><br>    unique_ptr&amp; <span class="hljs-keyword">operator</span>=(unique_ptr&amp;&amp; rhs)<br>    &#123;<br>        <span class="hljs-keyword">this</span>-&gt;m_pT = rhs.m_pT;<br>        <span class="hljs-comment">//æºå¯¹è±¡é‡Šæ”¾</span><br>        rhs.m_pT = <span class="hljs-literal">nullptr</span>;<br>        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>    &#125;<br><br><span class="hljs-keyword">private</span>:<br>    T*    m_pT;<br>&#125;;<br></code></pre></td></tr></table></figure><p>è¿™æ˜¯ <strong>std::unique_ptr</strong>å…·æœ‰ç§»åŠ¨è¯­ä¹‰çš„åŸå› ï¼Œå¸Œæœ›è¯»è€…å¯ä»¥ç†è§£ä¹‹ã€‚å…³äºç§»åŠ¨æ„é€ å’Œ<strong>std::move</strong>ï¼Œæˆ‘ä»¬å°†åœ¨åé¢ç« èŠ‚è¯¦ç»†ä»‹ç»ã€‚</p><p><strong>std::unique_ptr</strong>ä¸ä»…å¯ä»¥æŒæœ‰ä¸€ä¸ªå †å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æŒæœ‰ä¸€ç»„å †å¯¹è±¡ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//åˆ›å»º10ä¸ªintç±»å‹çš„å †å¯¹è±¡</span><br>    <span class="hljs-comment">//å½¢å¼1</span><br>    <span class="hljs-function">std::unique_ptr&lt;<span class="hljs-type">int</span>[]&gt; <span class="hljs-title">sp1</span><span class="hljs-params">(<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[<span class="hljs-number">10</span>])</span></span>;<br><br>    <span class="hljs-comment">//å½¢å¼2</span><br>    std::unique_ptr&lt;<span class="hljs-type">int</span>[]&gt; sp2;<br>    sp2.<span class="hljs-built_in">reset</span>(<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>[<span class="hljs-number">10</span>]);<br>    <span class="hljs-comment">//å½¢å¼3</span><br>    <span class="hljs-function">std::unique_ptr&lt;<span class="hljs-type">int</span>[]&gt; <span class="hljs-title">sp3</span><span class="hljs-params">(std::make_unique&lt;<span class="hljs-type">int</span>[]&gt;(<span class="hljs-number">10</span>))</span></span>;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; ++i)<br>    &#123;<br>        sp1[i] = i;<br>        sp2[i] = i;<br>        sp3[i] = i;<br>    &#125;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; ++i)<br>    &#123;<br>        std::cout &lt;&lt; sp1[i] &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; sp2[i] &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; sp3[i] &lt;&lt; std::endl;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç¨‹åºæ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs autoit">[root<span class="hljs-symbol">@myaliyun</span> testmybook]<span class="hljs-meta"># g++ -g -o test_unique_ptr_with_array test_unique_ptr_with_array.cpp -std=c++17</span><br>[root<span class="hljs-symbol">@myaliyun</span> testmybook]<span class="hljs-meta"># ./test_unique_ptr_with_array </span><br><span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span><br><span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span><br><span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span><br><span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span><br><span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span><br><span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span><br><span class="hljs-number">6</span>, <span class="hljs-number">6</span>, <span class="hljs-number">6</span><br><span class="hljs-number">7</span>, <span class="hljs-number">7</span>, <span class="hljs-number">7</span><br><span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span><br><span class="hljs-number">9</span>, <span class="hljs-number">9</span>, <span class="hljs-number">9</span><br></code></pre></td></tr></table></figure><p><strong>std::shared_ptr</strong> å’Œ <strong>std::weak_ptr</strong>ä¹Ÿå¯ä»¥æŒæœ‰ä¸€ç»„å †å¯¹è±¡ï¼Œç”¨æ³•ä¸ <strong>std::unique_ptr</strong>ç›¸åŒï¼Œä¸‹æ–‡ä¸å†èµ˜è¿°ã€‚</p><p><strong>è‡ªå®šä¹‰æ™ºèƒ½æŒ‡é’ˆå¯¹è±¡æŒæœ‰çš„èµ„æºçš„é‡Šæ”¾å‡½æ•°</strong></p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ™ºèƒ½æŒ‡é’ˆå¯¹è±¡åœ¨ææ„æ—¶åªä¼šé‡Šæ”¾å…¶æŒæœ‰çš„å †å†…å­˜ï¼ˆè°ƒç”¨ deleteæˆ–è€…delete[]ï¼‰ï¼Œä½†æ˜¯å‡è®¾è¿™å—å †å†…å­˜ä»£è¡¨çš„å¯¹è±¡è¿˜å¯¹åº”ä¸€ç§éœ€è¦å›æ”¶çš„èµ„æºï¼ˆå¦‚æ“ä½œç³»ç»Ÿçš„å¥—æ¥å­—å¥æŸ„ã€æ–‡ä»¶å¥æŸ„ç­‰ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è‡ªå®šä¹‰æ™ºèƒ½æŒ‡é’ˆçš„èµ„æºé‡Šæ”¾å‡½æ•°ã€‚å‡è®¾ç°åœ¨æœ‰ä¸€ä¸ªSocketç±»ï¼Œå¯¹åº”ç€æ“ä½œç³»ç»Ÿçš„å¥—æ¥å­—å¥æŸ„ï¼Œåœ¨å›æ”¶æ—¶éœ€è¦å…³é—­è¯¥å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥å¦‚ä¸‹è‡ªå®šä¹‰æ™ºèƒ½æŒ‡é’ˆå¯¹è±¡çš„èµ„æºææ„å‡½æ•°ï¼Œè¿™é‡Œä»¥<strong>std::unique_ptr</strong> ä¸ºä¾‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Socket</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">Socket</span>()<br>    &#123;<br><br>    &#125;<br><br>    ~<span class="hljs-built_in">Socket</span>()<br>    &#123;<br><br>    &#125;<br><br>    <span class="hljs-comment">//å…³é—­èµ„æºå¥æŸ„</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">close</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br><br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">auto</span> deletor = [](Socket* pSocket) &#123;<br>        <span class="hljs-comment">//å…³é—­å¥æŸ„</span><br>        pSocket-&gt;<span class="hljs-built_in">close</span>();<br>        <span class="hljs-comment">//<span class="hljs-doctag">TODO:</span> ä½ ç”šè‡³å¯ä»¥åœ¨è¿™é‡Œæ‰“å°ä¸€è¡Œæ—¥å¿—...</span><br>        <span class="hljs-keyword">delete</span> pSocket;<br>    &#125;;<br><br>    <span class="hljs-function">std::unique_ptr&lt;Socket, <span class="hljs-title">void</span><span class="hljs-params">(*)</span><span class="hljs-params">(Socket * pSocket)</span>&gt; <span class="hljs-title">spSocket</span><span class="hljs-params">(<span class="hljs-keyword">new</span> Socket(), deletor)</span></span>;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è‡ªå®šä¹‰ <strong>std::unique_ptr</strong> çš„èµ„æºé‡Šæ”¾å‡½æ•°å…¶è§„åˆ™æ˜¯ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp">std::unique_ptr&lt;T, DeletorFuncPtr&gt;<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ T æ˜¯ä½ è¦é‡Šæ”¾çš„å¯¹è±¡ç±»å‹ï¼ŒDeletorPtræ˜¯ä¸€ä¸ªè‡ªå®šä¹‰å‡½æ•°æŒ‡é’ˆã€‚ä¸Šè¿°ä»£ç  <strong>33</strong> è¡Œè¡¨ç¤º DeletorPtræœ‰ç‚¹å¤æ‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <strong>decltype(deletor)</strong>è®©ç¼–è¯‘å™¨è‡ªå·±æ¨å¯¼ deletor çš„ç±»å‹ï¼Œå› æ­¤å¯ä»¥å°† <strong>33</strong>è¡Œä»£ç ä¿®æ”¹ä¸ºï¼š</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs elm"><span class="hljs-title">std</span>::unique_ptr&lt;<span class="hljs-type">Socket</span>, decl<span class="hljs-keyword">type</span>(deletor)&gt; spSocket(new <span class="hljs-type">Socket</span>(), deletor);<br></code></pre></td></tr></table></figure><h4 id="stdshared_ptr">std::shared_ptr</h4><p><strong>std::unique_ptr</strong> å¯¹å…¶æŒæœ‰çš„èµ„æºå…·æœ‰ç‹¬å æ€§ï¼Œè€Œ<strong>std::shared_ptr</strong> æŒæœ‰çš„èµ„æºå¯ä»¥åœ¨å¤šä¸ª<strong>std::shared_ptr</strong> ä¹‹é—´å…±äº«ï¼Œæ¯å¤šä¸€ä¸ª<strong>std::shared_ptr</strong> å¯¹èµ„æºçš„å¼•ç”¨ï¼Œèµ„æºå¼•ç”¨è®¡æ•°å°†å¢åŠ 1ï¼Œæ¯ä¸€ä¸ªæŒ‡å‘è¯¥èµ„æºçš„ <strong>std::shared_ptr</strong>å¯¹è±¡ææ„æ—¶ï¼Œèµ„æºå¼•ç”¨è®¡æ•°å‡ 1ï¼Œæœ€åä¸€ä¸ª <strong>std::shared_ptr</strong>å¯¹è±¡ææ„æ—¶ï¼Œå‘ç°èµ„æºè®¡æ•°ä¸º0ï¼Œå°†é‡Šæ”¾å…¶æŒæœ‰çš„èµ„æºã€‚å¤šä¸ªçº¿ç¨‹ä¹‹é—´ï¼Œé€’å¢å’Œå‡å°‘èµ„æºçš„å¼•ç”¨è®¡æ•°æ˜¯å®‰å…¨çš„ã€‚ï¼ˆæ³¨æ„ï¼šè¿™ä¸æ„å‘³ç€å¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œ<strong>std::shared_ptr</strong>å¼•ç”¨çš„å¯¹è±¡æ˜¯å®‰å…¨çš„ï¼‰ã€‚<strong>std::shared_ptr</strong> æä¾›äº†ä¸€ä¸ª<strong>use_count()</strong>æ–¹æ³•æ¥è·å–å½“å‰æŒæœ‰èµ„æºçš„å¼•ç”¨è®¡æ•°ã€‚é™¤äº†ä¸Šé¢æè¿°çš„ï¼Œ<strong>std::shared_ptr</strong>ç”¨æ³•å’Œ <strong>std::unique_ptr</strong> åŸºæœ¬ç›¸åŒã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªåˆå§‹åŒ– <strong>std::shared_ptr</strong> çš„ç¤ºä¾‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//åˆå§‹åŒ–æ–¹å¼1</span><br><span class="hljs-function">std::shared_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">sp1</span><span class="hljs-params">(<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>(<span class="hljs-number">123</span>))</span></span>;<br><br><span class="hljs-comment">//åˆå§‹åŒ–æ–¹å¼2</span><br>std::shared_ptr&lt;<span class="hljs-type">int</span>&gt; sp2;<br>sp2.<span class="hljs-built_in">reset</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(<span class="hljs-number">123</span>));<br><br><span class="hljs-comment">//åˆå§‹åŒ–æ–¹å¼3</span><br>std::shared_ptr&lt;<span class="hljs-type">int</span>&gt; sp3;<br>sp3 = std::<span class="hljs-built_in">make_shared</span>&lt;<span class="hljs-type">int</span>&gt;(<span class="hljs-number">123</span>);<br></code></pre></td></tr></table></figure><p>å’Œ <strong>std::unique_ptr</strong> ä¸€æ ·ï¼Œä½ åº”è¯¥ä¼˜å…ˆä½¿ç”¨<strong>std::make_shared</strong> å»åˆå§‹åŒ–ä¸€ä¸ª<strong>std::shared_ptr</strong> å¯¹è±¡ã€‚</p><p>å†æ¥çœ‹å¦å¤–ä¸€æ®µä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">A</span>()<br>    &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;A constructor&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br><br>    ~<span class="hljs-built_in">A</span>()<br>    &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;A destructor&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    &#123;<br>        <span class="hljs-comment">//åˆå§‹åŒ–æ–¹å¼1</span><br>        <span class="hljs-function">std::shared_ptr&lt;A&gt; <span class="hljs-title">sp1</span><span class="hljs-params">(<span class="hljs-keyword">new</span> A())</span></span>;<br><br>        std::cout &lt;&lt; <span class="hljs-string">&quot;use count: &quot;</span> &lt;&lt; sp1.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl;<br><br>        <span class="hljs-comment">//åˆå§‹åŒ–æ–¹å¼2</span><br>        <span class="hljs-function">std::shared_ptr&lt;A&gt; <span class="hljs-title">sp2</span><span class="hljs-params">(sp1)</span></span>;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;use count: &quot;</span> &lt;&lt; sp1.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl;<br><br>        sp2.<span class="hljs-built_in">reset</span>();<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;use count: &quot;</span> &lt;&lt; sp1.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl;<br><br>        &#123;<br>            std::shared_ptr&lt;A&gt; sp3 = sp1;<br>            std::cout &lt;&lt; <span class="hljs-string">&quot;use count: &quot;</span> &lt;&lt; sp1.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl;<br>        &#125;<br><br>        std::cout &lt;&lt; <span class="hljs-string">&quot;use count: &quot;</span> &lt;&lt; sp1.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>ä¸Šè¿°ä»£ç  <strong>22</strong> è¡Œ sp1 æ„é€ æ—¶ï¼ŒåŒæ—¶è§¦å‘å¯¹è±¡ Açš„æ„é€ ï¼Œå› æ­¤ A çš„æ„é€ å‡½æ•°ä¼šæ‰§è¡Œï¼›</li><li>æ­¤æ—¶åªæœ‰ä¸€ä¸ª sp1 å¯¹è±¡å¼•ç”¨ <strong>22</strong> è¡Œ new å‡ºæ¥çš„ Aå¯¹è±¡ï¼ˆä¸ºäº†å™è¿°æ–¹ä¾¿ï¼Œä¸‹æ–‡ç»Ÿä¸€ç§°ä¹‹ä¸º<strong>èµ„æºå¯¹è±¡A</strong>ï¼‰ï¼Œå› æ­¤ä»£ç  <strong>24</strong> è¡Œæ‰“å°å‡ºæ¥çš„å¼•ç”¨è®¡æ•°å€¼ä¸º<strong>1</strong>ï¼›</li><li>ä»£ç  <strong>27</strong> è¡Œï¼Œåˆ©ç”¨ sp1 æ‹·è´ä¸€ä»½ sp2ï¼Œå¯¼è‡´ä»£ç <strong>28</strong> è¡Œæ‰“å°å‡ºæ¥çš„å¼•ç”¨è®¡æ•°ä¸º <strong>2</strong>ï¼›</li><li>ä»£ç  <strong>30</strong> è¡Œè°ƒç”¨ sp2 çš„ reset() æ–¹æ³•ï¼Œsp2é‡Šæ”¾å¯¹èµ„æºå¯¹è±¡ A çš„å¼•ç”¨ï¼Œå› æ­¤ä»£ç  <strong>31</strong>è¡Œæ‰“å°çš„å¼•ç”¨è®¡æ•°å€¼å†æ¬¡å˜ä¸º <strong>1</strong>ï¼›</li><li>ä»£ç  <strong>34</strong> è¡Œ åˆ©ç”¨ sp1 å†æ¬¡ åˆ›å»º sp3ï¼Œå› æ­¤ä»£ç <strong>35</strong> è¡Œæ‰“å°çš„å¼•ç”¨è®¡æ•°å˜ä¸º <strong>2</strong>ï¼›</li><li>ç¨‹åºæ‰§è¡Œåˆ° <strong>36</strong> è¡Œä»¥åï¼Œsp3 å‡ºäº†å…¶ä½œç”¨åŸŸè¢«ææ„ï¼Œèµ„æºA çš„å¼•ç”¨è®¡æ•°é€’å‡ 1ï¼Œå› æ­¤ ä»£ç  <strong>38</strong> è¡Œæ‰“å°çš„å¼•ç”¨è®¡æ•°ä¸º<strong>1</strong>ï¼›</li><li>ç¨‹åºæ‰§è¡Œåˆ° <strong>39</strong> è¡Œä»¥åï¼Œsp1å‡ºäº†å…¶ä½œç”¨åŸŸè¢«ææ„ï¼Œåœ¨å…¶ææ„æ—¶é€’å‡èµ„æº A çš„å¼•ç”¨è®¡æ•°è‡³<strong>0</strong>ï¼Œå¹¶ææ„èµ„æº A å¯¹è±¡ï¼Œå› æ­¤ç±» A çš„ææ„å‡½æ•°è¢«è°ƒç”¨ã€‚</li></ul><p>æ‰€ä»¥æ•´ä¸ªç¨‹åºçš„æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs delphi">[root@myaliyun testmybook]# ./test_shared_ptr_use_count <br>A <span class="hljs-function"><span class="hljs-keyword">constructor</span></span><br><span class="hljs-function"><span class="hljs-title">use</span> <span class="hljs-title">count</span>:</span> <span class="hljs-number">1</span><br>use count: <span class="hljs-number">2</span><br>use count: <span class="hljs-number">1</span><br>use count: <span class="hljs-number">2</span><br>use count: <span class="hljs-number">1</span><br>A <span class="hljs-function"><span class="hljs-keyword">destructor</span></span><br></code></pre></td></tr></table></figure><p><strong>std::enable_shared_from_this</strong></p><p>å®é™…å¼€å‘ä¸­ï¼Œæœ‰æ—¶å€™éœ€è¦åœ¨ç±»ä¸­è¿”å›åŒ…è£¹å½“å‰å¯¹è±¡ï¼ˆthisï¼‰çš„ä¸€ä¸ª<strong>std::shared_ptr</strong> å¯¹è±¡ç»™å¤–éƒ¨ä½¿ç”¨ï¼ŒC++æ–°æ ‡å‡†ä¹Ÿä¸ºæˆ‘ä»¬è€ƒè™‘åˆ°äº†è¿™ä¸€ç‚¹ï¼Œæœ‰å¦‚æ­¤éœ€æ±‚çš„ç±»åªè¦ç»§æ‰¿è‡ª<strong>std::enable_shared_from_this</strong>æ¨¡æ¿å¯¹è±¡å³å¯ã€‚ç”¨æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> : <span class="hljs-keyword">public</span> std::enable_shared_from_this&lt;A&gt;<br>&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">A</span>()<br>    &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;A constructor&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br><br>    ~<span class="hljs-built_in">A</span>()<br>    &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;A destructor&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br><br>    <span class="hljs-function">std::shared_ptr&lt;A&gt; <span class="hljs-title">getSelf</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">shared_from_this</span>();<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-function">std::shared_ptr&lt;A&gt; <span class="hljs-title">sp1</span><span class="hljs-params">(<span class="hljs-keyword">new</span> A())</span></span>;<br><br>    std::shared_ptr&lt;A&gt; sp2 = sp1-&gt;<span class="hljs-built_in">getSelf</span>();<br><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;use count: &quot;</span> &lt;&lt; sp1.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ä¸­ï¼Œç±» A çš„ç»§æ‰¿ <strong>std::enable_shared_from_this</strong>å¹¶æä¾›ä¸€ä¸ª <strong>getSelf()</strong> æ–¹æ³•è¿”å›è‡ªèº«çš„<strong>std::shared_ptr</strong> å¯¹è±¡ï¼Œåœ¨ <strong>getSelf()</strong>ä¸­è°ƒç”¨ <strong>shared_from_this()</strong> å³å¯ã€‚</p><p><strong>std::enable_shared_from_this</strong>ç”¨èµ·æ¥æ¯”è¾ƒæ–¹ä¾¿ï¼Œä½†æ˜¯ä¹Ÿå­˜åœ¨å¾ˆå¤šä¸æ˜“å¯Ÿè§‰çš„é™·é˜±ã€‚</p><p><strong>é™·é˜±ä¸€ï¼šä¸åº”è¯¥å…±äº«æ ˆå¯¹è±¡çš„ this ç»™æ™ºèƒ½æŒ‡é’ˆå¯¹è±¡</strong></p><p>å‡è®¾æˆ‘ä»¬å°†ä¸Šé¢ä»£ç  main å‡½æ•° <strong>25</strong> è¡Œç”Ÿæˆ Aå¯¹è±¡çš„æ–¹å¼æ”¹æˆä¸€ä¸ªæ ˆå˜é‡ï¼Œå³ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//å…¶ä»–ç›¸åŒä»£ç çœç•¥...</span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    A a;<br><br>    std::shared_ptr&lt;A&gt; sp2 = a.<span class="hljs-built_in">getSelf</span>();<br><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;use count: &quot;</span> &lt;&lt; sp2.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œä¿®æ”¹åçš„ä»£ç ä¼šå‘ç°ç¨‹åºåœ¨<code>std::shared_ptr sp2 = a.getSelf();</code>äº§ç”Ÿå´©æºƒã€‚è¿™æ˜¯å› ä¸ºï¼Œæ™ºèƒ½æŒ‡é’ˆç®¡ç†çš„æ˜¯å †å¯¹è±¡ï¼Œæ ˆå¯¹è±¡ä¼šåœ¨å‡½æ•°è°ƒç”¨ç»“æŸåè‡ªè¡Œé”€æ¯ï¼Œå› æ­¤ä¸èƒ½é€šè¿‡<strong>shared_from_this()</strong>å°†è¯¥å¯¹è±¡äº¤ç”±æ™ºèƒ½æŒ‡é’ˆå¯¹è±¡ç®¡ç†ã€‚åˆ‡è®°ï¼š<strong>æ™ºèƒ½æŒ‡é’ˆæœ€åˆè®¾è®¡çš„ç›®çš„å°±æ˜¯ä¸ºäº†ç®¡ç†å †å¯¹è±¡çš„ï¼ˆå³é‚£äº›ä¸ä¼šè‡ªåŠ¨é‡Šæ”¾çš„èµ„æºï¼‰</strong>ã€‚</p><p><strong>é™·é˜±äºŒï¼šé¿å… std::enable_shared_from_thisçš„å¾ªç¯å¼•ç”¨é—®é¢˜</strong></p><p>å†æ¥çœ‹å¦å¤–ä¸€æ®µä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// test_std_enable_shared_from_this.cpp : This file contains the &#x27;main&#x27; function. Program execution begins and ends there.</span><br><span class="hljs-comment">//</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> : <span class="hljs-keyword">public</span> std::enable_shared_from_this&lt;A&gt;<br>&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">A</span>()<br>    &#123;<br>        m_i = <span class="hljs-number">9</span>;<br>        <span class="hljs-comment">//æ³¨æ„:</span><br>        <span class="hljs-comment">//æ¯”è¾ƒå¥½çš„åšæ³•æ˜¯åœ¨æ„é€ å‡½æ•°é‡Œé¢è°ƒç”¨shared_from_this()ç»™m_SelfPtrèµ‹å€¼</span><br>        <span class="hljs-comment">//ä½†æ˜¯å¾ˆé—æ†¾ä¸èƒ½è¿™ä¹ˆåš,å¦‚æœå†™åœ¨æ„é€ å‡½æ•°é‡Œé¢ç¨‹åºä¼šç›´æ¥å´©æºƒ</span><br><br>        std::cout &lt;&lt; <span class="hljs-string">&quot;A constructor&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br><br>    ~<span class="hljs-built_in">A</span>()<br>    &#123;<br>        m_i = <span class="hljs-number">0</span>;<br><br>        std::cout &lt;&lt; <span class="hljs-string">&quot;A destructor&quot;</span> &lt;&lt; std::endl;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">func</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        m_SelfPtr = <span class="hljs-built_in">shared_from_this</span>();<br>    &#125;<br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-type">int</span>                 m_i;<br>    std::shared_ptr&lt;A&gt;  m_SelfPtr;<br><br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    &#123;<br>        <span class="hljs-function">std::shared_ptr&lt;A&gt; <span class="hljs-title">spa</span><span class="hljs-params">(<span class="hljs-keyword">new</span> A())</span></span>;<br>        spa-&gt;<span class="hljs-built_in">func</span>();<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¹ä¸€çœ‹ä¸Šé¢çš„ä»£ç å¥½åƒçœ‹ä¸å‡ºä»€ä¹ˆé—®é¢˜ï¼Œè®©æˆ‘ä»¬æ¥å®é™…è¿è¡Œä¸€ä¸‹çœ‹çœ‹è¾“å‡ºç»“æœï¼š</p><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs delphi">[root@myaliyun testmybook]# g++ -g -o test_std_enable_shared_from_this_problem test_std_enable_shared_from_this_problem.cpp<br>[root@myaliyun testmybook]# ./test_std_enable_shared_from_this_problem<br>A <span class="hljs-function"><span class="hljs-keyword">constructor</span></span><br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬å‘ç°åœ¨ç¨‹åºçš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…ï¼Œåªæœ‰ A ç±»æ„é€ å‡½æ•°çš„è°ƒç”¨è¾“å‡ºï¼Œæ²¡æœ‰ Aç±»ææ„å‡½æ•°çš„è°ƒç”¨è¾“å‡ºï¼Œè¿™æ„å‘³ç€ new å‡ºæ¥çš„ A å¯¹è±¡äº§ç”Ÿäº†å†…å­˜æ³„æ¼äº†ï¼</p><p>æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹ä¸ºä»€ä¹ˆ new å‡ºæ¥çš„ A å¯¹è±¡å¾—ä¸åˆ°é‡Šæ”¾ã€‚å½“ç¨‹åºæ‰§è¡Œåˆ°<strong>42</strong> è¡Œåï¼Œspaå‡ºäº†å…¶ä½œç”¨åŸŸå‡†å¤‡ææ„ï¼Œåœ¨ææ„æ—¶å…¶å‘ç°ä»ç„¶æœ‰å¦å¤–çš„ä¸€ä¸ª std::shared_ptrå¯¹è±¡å³ A::m_SelfPtr å¼•ç”¨äº† Aï¼Œå› æ­¤ spa åªä¼šå°† A çš„å¼•ç”¨è®¡æ•°é€’å‡ä¸º1ï¼Œç„¶åå°±é”€æ¯è‡ªèº«äº†ã€‚ç°åœ¨ç•™ä¸‹ä¸€ä¸ªçŸ›ç›¾çš„å¤„å¢ƒï¼šå¿…é¡»é”€æ¯ Aæ‰èƒ½é”€æ¯å…¶æˆå‘˜å˜é‡ m_SelfPtrï¼Œè€Œé”€æ¯ m_SelfPtr å¿…é¡»å…ˆé”€æ¯Aã€‚è¿™å°±æ˜¯æ‰€è°“çš„ std::enable_shared_from_thisçš„å¾ªç¯å¼•ç”¨é—®é¢˜ã€‚æˆ‘ä»¬åœ¨å®é™…å¼€å‘ä¸­åº”è¯¥é¿å…åšå‡ºè¿™æ ·çš„é€»è¾‘è®¾è®¡ï¼Œè¿™ç§æƒ…å½¢ä¸‹å³ä½¿ä½¿ç”¨äº†æ™ºèƒ½æŒ‡é’ˆä¹Ÿä¼šé€ æˆå†…å­˜æ³„æ¼ã€‚ä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªèµ„æºçš„ç”Ÿå‘½å‘¨æœŸå¯ä»¥äº¤ç»™ä¸€ä¸ªæ™ºèƒ½æŒ‡é’ˆå¯¹è±¡ï¼Œä½†æ˜¯è¯¥æ™ºèƒ½æŒ‡é’ˆçš„ç”Ÿå‘½å‘¨æœŸä¸å¯ä»¥å†äº¤ç»™æ•´ä¸ªèµ„æºæ¥ç®¡ç†ã€‚</p><h4 id="stdweak_ptr">std::weak_ptr</h4><p><strong>std::weak_ptr</strong>æ˜¯ä¸€ä¸ªä¸æ§åˆ¶èµ„æºç”Ÿå‘½å‘¨æœŸçš„æ™ºèƒ½æŒ‡é’ˆï¼Œæ˜¯å¯¹å¯¹è±¡çš„ä¸€ç§å¼±å¼•ç”¨ï¼Œåªæ˜¯æä¾›äº†å¯¹å…¶ç®¡ç†çš„èµ„æºçš„ä¸€ä¸ªè®¿é—®æ‰‹æ®µï¼Œå¼•å…¥å®ƒçš„ç›®çš„ä¸ºååŠ©<strong>std::shared_ptr</strong> å·¥ä½œã€‚</p><p><strong>std::weak_ptr</strong> å¯ä»¥ä»ä¸€ä¸ª<strong>std::shared_ptr</strong> æˆ–å¦ä¸€ä¸ª <strong>std::weak_ptr</strong>å¯¹è±¡æ„é€ ï¼Œ<strong>std::shared_ptr</strong> å¯ä»¥ç›´æ¥èµ‹å€¼ç»™<strong>std::weak_ptr</strong> ï¼Œä¹Ÿå¯ä»¥é€šè¿‡<strong>std::weak_ptr</strong> çš„ <strong>lock()</strong> å‡½æ•°æ¥è·å¾—<strong>std::shared_ptr</strong>ã€‚å®ƒçš„æ„é€ å’Œææ„ä¸ä¼šå¼•èµ·å¼•ç”¨è®¡æ•°çš„å¢åŠ æˆ–å‡å°‘ã€‚<strong>std::weak_ptr</strong>å¯ç”¨æ¥è§£å†³ <strong>std::shared_ptr</strong>ç›¸äº’å¼•ç”¨æ—¶çš„æ­»é”é—®é¢˜ï¼ˆå³ä¸¤ä¸ª<strong>std::shared_ptr</strong>ç›¸äº’å¼•ç”¨ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæŒ‡é’ˆçš„å¼•ç”¨è®¡æ•°æ°¸è¿œä¸å¯èƒ½ä¸‹é™ä¸º 0ï¼Œèµ„æºæ°¸è¿œä¸ä¼šé‡Šæ”¾ï¼‰ã€‚</p><p>ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªstd::shared_ptrå¯¹è±¡</span><br>    <span class="hljs-function">std::shared_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">sp1</span><span class="hljs-params">(<span class="hljs-keyword">new</span> <span class="hljs-type">int</span>(<span class="hljs-number">123</span>))</span></span>;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;use count: &quot;</span> &lt;&lt; sp1.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl;<br><br>    <span class="hljs-comment">//é€šè¿‡æ„é€ å‡½æ•°å¾—åˆ°ä¸€ä¸ªstd::weak_ptrå¯¹è±¡</span><br>    <span class="hljs-function">std::weak_ptr&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">sp2</span><span class="hljs-params">(sp1)</span></span>;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;use count: &quot;</span> &lt;&lt; sp1.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl;<br><br>    <span class="hljs-comment">//é€šè¿‡èµ‹å€¼è¿ç®—ç¬¦å¾—åˆ°ä¸€ä¸ªstd::weak_ptrå¯¹è±¡</span><br>    std::weak_ptr&lt;<span class="hljs-type">int</span>&gt; sp3 = sp1;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;use count: &quot;</span> &lt;&lt; sp1.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl;<br><br>    <span class="hljs-comment">//é€šè¿‡ä¸€ä¸ªstd::weak_ptrå¯¹è±¡å¾—åˆ°å¦å¤–ä¸€ä¸ªstd::weak_ptrå¯¹è±¡</span><br>    std::weak_ptr&lt;<span class="hljs-type">int</span>&gt; sp4 = sp2;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;use count: &quot;</span> &lt;&lt; sp1.<span class="hljs-built_in">use_count</span>() &lt;&lt; std::endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç¨‹åºæ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs elixir">[root<span class="hljs-variable">@myaliyun</span> testmybook]<span class="hljs-comment"># g++ -g -o test_weak_ptr test_weak_ptr.cpp </span><br>[root<span class="hljs-variable">@myaliyun</span> testmybook]<span class="hljs-comment"># ./test_weak_ptr</span><br><span class="hljs-keyword">use</span> <span class="hljs-symbol">count:</span> <span class="hljs-number">1</span><br><span class="hljs-keyword">use</span> <span class="hljs-symbol">count:</span> <span class="hljs-number">1</span><br><span class="hljs-keyword">use</span> <span class="hljs-symbol">count:</span> <span class="hljs-number">1</span><br><span class="hljs-keyword">use</span> <span class="hljs-symbol">count:</span> <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p>æ— è®ºé€šè¿‡ä½•ç§æ–¹å¼åˆ›å»º <strong>std::weak_ptr</strong>éƒ½ä¸ä¼šå¢åŠ èµ„æºçš„å¼•ç”¨è®¡æ•°ï¼Œå› æ­¤æ¯æ¬¡è¾“å‡ºå¼•ç”¨è®¡æ•°çš„å€¼éƒ½æ˜¯ 1ã€‚</p><p>æ—¢ç„¶ï¼Œ<strong>std::weak_ptr</strong>ä¸ç®¡ç†å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œé‚£ä¹ˆå…¶å¼•ç”¨çš„å¯¹è±¡å¯èƒ½åœ¨æŸä¸ªæ—¶åˆ»è¢«é”€æ¯äº†ï¼Œå¦‚ä½•å¾—çŸ¥å‘¢ï¼Ÿ<strong>std::weak_ptr</strong>æä¾›äº†ä¸€ä¸ª <strong>expired()</strong> æ–¹æ³•æ¥åšè¿™ä¸€é¡¹æ£€æµ‹ï¼Œè¿”å›trueï¼Œè¯´æ˜å…¶å¼•ç”¨çš„èµ„æºå·²ç»ä¸å­˜åœ¨äº†ï¼›è¿”å›falseï¼Œè¯´æ˜è¯¥èµ„æºä»ç„¶å­˜åœ¨ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨<strong>std::weak_ptr</strong> çš„ <strong>lock()</strong> æ–¹æ³•å¾—åˆ°ä¸€ä¸ª<strong>std::shared_ptr</strong>å¯¹è±¡ç„¶åç»§ç»­æ“ä½œèµ„æºï¼Œä»¥ä¸‹ä»£ç æ¼”ç¤ºäº†è¯¥ç”¨æ³•ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//tmpConn_ æ˜¯ä¸€ä¸ª std::weak_ptr&lt;TcpConnection&gt; å¯¹è±¡</span><br><span class="hljs-comment">//tmpConn_å¼•ç”¨çš„TcpConnectionå·²ç»é”€æ¯ï¼Œç›´æ¥è¿”å›</span><br><span class="hljs-keyword">if</span> (tmpConn_.<span class="hljs-built_in">expired</span>())<br>    <span class="hljs-keyword">return</span>;<br><br>std::shared_ptr&lt;TcpConnection&gt; conn = tmpConn_.<span class="hljs-built_in">lock</span>();<br><span class="hljs-keyword">if</span> (conn)<br>&#123;<br>    <span class="hljs-comment">//å¯¹connè¿›è¡Œæ“ä½œï¼Œçœç•¥...</span><br>&#125;<br></code></pre></td></tr></table></figure><p>æœ‰è¯»è€…å¯èƒ½å¯¹ä¸Šè¿°ä»£ç äº§ç”Ÿç–‘é—®ï¼Œæ—¢ç„¶ä½¿ç”¨äº†<strong>std::weak_ptr</strong> çš„ <strong>expired()</strong>æ–¹æ³•åˆ¤æ–­äº†å¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨ <strong>std::weak_ptr</strong>å¯¹è±¡å¯¹å¼•ç”¨èµ„æºè¿›è¡Œæ“ä½œå‘¢ï¼Ÿå®é™…ä¸Šè¿™æ˜¯è¡Œä¸é€šçš„ï¼Œ<strong>std::weak_ptr</strong>ç±»æ²¡æœ‰é‡å†™ <strong>operator-&gt;</strong> å’Œ <strong>operator</strong>*æ–¹æ³•ï¼Œå› æ­¤ä¸èƒ½åƒ <strong>std::shared_ptr</strong> æˆ–<strong>std::unique_ptr</strong> ä¸€æ ·ç›´æ¥æ“ä½œå¯¹è±¡ï¼ŒåŒæ—¶<strong>std::weak_ptr</strong> ç±»ä¹Ÿæ²¡æœ‰é‡å†™ <strong>operator!</strong>æ“ä½œï¼Œå› æ­¤ä¹Ÿä¸èƒ½é€šè¿‡ <strong>std::weak_ptr</strong>å¯¹è±¡ç›´æ¥åˆ¤æ–­å…¶å¼•ç”¨çš„èµ„æºæ˜¯å¦å­˜åœ¨ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">doSomething</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br><br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;    <br>    <span class="hljs-function">std::shared_ptr&lt;A&gt; <span class="hljs-title">sp1</span><span class="hljs-params">(<span class="hljs-keyword">new</span> A())</span></span>;<br><br>    <span class="hljs-function">std::weak_ptr&lt;A&gt; <span class="hljs-title">sp2</span><span class="hljs-params">(sp1)</span></span>;<br><br>    <span class="hljs-comment">//æ­£ç¡®ä»£ç </span><br>    <span class="hljs-keyword">if</span> (sp1)<br>    &#123;<br>        <span class="hljs-comment">//æ­£ç¡®ä»£ç </span><br>        sp1 -&gt; <span class="hljs-built_in">doSomething</span>();<br>        (*sp1).<span class="hljs-built_in">doSomething</span>();<br>    &#125;<br><br>    <span class="hljs-comment">//æ­£ç¡®ä»£ç </span><br>    <span class="hljs-keyword">if</span> (!sp1)<br>    &#123;<br><br>    &#125;<br><br>    <span class="hljs-comment">//é”™è¯¯ä»£ç ï¼Œæ— æ³•ç¼–è¯‘é€šè¿‡</span><br>    <span class="hljs-comment">//if (sp2)</span><br>    <span class="hljs-comment">//&#123;</span><br>    <span class="hljs-comment">//    //é”™è¯¯ä»£ç ï¼Œæ— æ³•ç¼–è¯‘é€šè¿‡</span><br>    <span class="hljs-comment">//    sp2-&gt;doSomething();</span><br>    <span class="hljs-comment">//    (*sp2).doSomething();</span><br>    <span class="hljs-comment">//&#125;</span><br><br>    <span class="hljs-comment">//é”™è¯¯ä»£ç ï¼Œæ— æ³•ç¼–è¯‘é€šè¿‡</span><br>    <span class="hljs-comment">//if (!sp2)</span><br>    <span class="hljs-comment">//&#123;</span><br><br>    <span class="hljs-comment">//&#125;</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¹‹æ‰€ä»¥ <strong>std::weak_ptr</strong>ä¸å¢åŠ å¼•ç”¨èµ„æºçš„å¼•ç”¨è®¡æ•°ä¸ç®¡ç†èµ„æºçš„ç”Ÿå‘½å‘¨æœŸï¼Œæ˜¯å› ä¸ºï¼Œå³ä½¿å®ƒå®ç°äº†ä»¥ä¸Šè¯´çš„å‡ ä¸ªæ–¹æ³•ï¼Œè°ƒç”¨å®ƒä»¬ä¹Ÿæ˜¯ä¸å®‰å…¨çš„ï¼Œå› ä¸ºåœ¨è°ƒç”¨æœŸé—´ï¼Œå¼•ç”¨çš„èµ„æºå¯èƒ½æ°å¥½è¢«é”€æ¯äº†ï¼Œè¿™ä¼šé€ æˆæ£˜æ‰‹çš„é”™è¯¯å’Œéº»çƒ¦ã€‚</p><p>å› æ­¤ï¼Œ<strong>std::weak_ptr</strong>çš„æ­£ç¡®ä½¿ç”¨åœºæ™¯æ˜¯é‚£äº›èµ„æºå¦‚æœå¯ç”¨å°±ä½¿ç”¨ï¼Œå¦‚æœä¸å¯ä½¿ç”¨åˆ™ä¸ç”¨çš„åœºæ™¯ï¼Œå®ƒä¸å‚ä¸èµ„æºçš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚ä¾‹å¦‚ï¼Œç½‘ç»œåˆ†å±‚ç»“æ„ä¸­ï¼ŒSessionå¯¹è±¡ï¼ˆä¼šè¯å¯¹è±¡ï¼‰åˆ©ç”¨ Connection å¯¹è±¡ï¼ˆè¿æ¥å¯¹è±¡ï¼‰æä¾›çš„æœåŠ¡å·¥ä½œï¼Œä½†æ˜¯Session å¯¹è±¡ä¸ç®¡ç† Connection å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼ŒSession ç®¡ç† Connectionçš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä¸åˆç†çš„ï¼Œå› ä¸ºç½‘ç»œåº•å±‚å‡ºé”™ä¼šå¯¼è‡´ Connection å¯¹è±¡è¢«é”€æ¯ï¼Œæ­¤æ—¶Session å¯¹è±¡å¦‚æœå¼ºè¡ŒæŒæœ‰ Connection å¯¹è±¡ä¸äº‹å®çŸ›ç›¾ã€‚</p><p><strong>std::weak_ptr</strong>çš„åº”ç”¨åœºæ™¯ï¼Œç»å…¸çš„ä¾‹å­æ˜¯è®¢é˜…è€…æ¨¡å¼æˆ–è€…è§‚å¯Ÿè€…æ¨¡å¼ä¸­ã€‚è¿™é‡Œä»¥è®¢é˜…è€…ä¸ºä¾‹æ¥è¯´æ˜ï¼Œæ¶ˆæ¯å‘å¸ƒå™¨åªæœ‰åœ¨æŸä¸ªè®¢é˜…è€…å­˜åœ¨çš„æƒ…å†µä¸‹æ‰ä¼šå‘å…¶å‘å¸ƒæ¶ˆæ¯ï¼Œè€Œä¸èƒ½ç®¡ç†è®¢é˜…è€…çš„ç”Ÿå‘½å‘¨æœŸã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Subscriber</span><br>&#123;<br><br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">SubscribeManager</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">publish</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; iter : m_subscribers)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (!iter.<span class="hljs-built_in">expired</span>())<br>            &#123;<br>                <span class="hljs-comment">//TODOï¼šç»™è®¢é˜…è€…å‘é€æ¶ˆæ¯</span><br>            &#125;<br>        &#125;<br>    &#125;<br><br><span class="hljs-keyword">private</span>:<br>    std::vector&lt;std::weak_ptr&lt;Subscriber&gt;&gt;   m_subscribers;<br>&#125;;<br></code></pre></td></tr></table></figure><h4 id="æ™ºèƒ½æŒ‡é’ˆå¯¹è±¡çš„å¤§å°">æ™ºèƒ½æŒ‡é’ˆå¯¹è±¡çš„å¤§å°</h4><p>ä¸€ä¸ª <strong>std::unique_ptr</strong> å¯¹è±¡å¤§å°ä¸è£¸æŒ‡é’ˆå¤§å°ç›¸åŒï¼ˆå³sizeof(std::unique_ptr<T>) == sizeof(void*)ï¼‰ï¼Œè€Œ<strong>std::shared_ptr</strong> çš„å¤§å°æ˜¯<strong>std::unique_ptr</strong> çš„ä¸¤å€ã€‚ä»¥ä¸‹æ˜¯æˆ‘åˆ†åˆ«åœ¨ Visual Studio2019 å’Œ gcc/g++ 4.8 ä¸Šï¼ˆäºŒè€…éƒ½ç¼–è¯‘æˆ x64 ç¨‹åºï¼‰çš„æµ‹è¯•ç»“æœï¼š</p><p><strong>æµ‹è¯•ä»£ç </strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    std::shared_ptr&lt;<span class="hljs-type">int</span>&gt; sp0;<br>    std::shared_ptr&lt;std::string&gt; sp1;<br>    sp1.<span class="hljs-built_in">reset</span>(<span class="hljs-keyword">new</span> std::<span class="hljs-built_in">string</span>());<br>    std::unique_ptr&lt;<span class="hljs-type">int</span>&gt; sp2;<br>    std::weak_ptr&lt;<span class="hljs-type">int</span>&gt; sp3;<br><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;sp0 size: &quot;</span> &lt;&lt; <span class="hljs-built_in">sizeof</span>(sp0) &lt;&lt; std::endl;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;sp1 size: &quot;</span> &lt;&lt; <span class="hljs-built_in">sizeof</span>(sp1) &lt;&lt; std::endl;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;sp2 size: &quot;</span> &lt;&lt; <span class="hljs-built_in">sizeof</span>(sp2) &lt;&lt; std::endl;<br>    std::cout &lt;&lt; <span class="hljs-string">&quot;sp3 size: &quot;</span> &lt;&lt; <span class="hljs-built_in">sizeof</span>(sp3) &lt;&lt; std::endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>Visual Studio 2019 è¿è¡Œç»“æœï¼š</p><p><img src="/img/C++/æ™ºèƒ½æŒ‡é’ˆ/sp1.webp" /></p><p>gcc/g++ è¿è¡Œç»“æœï¼š</p><p><img src="/img/C++/æ™ºèƒ½æŒ‡é’ˆ/sp2.webp" /></p><p>åœ¨ 32 ä½æœºå™¨ä¸Šï¼Œ<strong>std_unique_ptr</strong> å  4å­—èŠ‚ï¼Œ<strong>std::shared_ptr</strong> å’Œ <strong>std::weak_ptr</strong>å  8 å­—èŠ‚ï¼›åœ¨ 64 ä½æœºå™¨ä¸Šï¼Œ<strong>std_unique_ptr</strong> å  8å­—èŠ‚ï¼Œ<strong>std::shared_ptr</strong> å’Œ <strong>std::weak_ptr</strong>å  16 å­—èŠ‚ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>std_unique_ptr</strong>çš„å¤§å°æ€»æ˜¯å’ŒåŸå§‹æŒ‡é’ˆå¤§å°ä¸€æ ·ï¼Œ<strong>std::shared_ptr</strong> å’Œ<strong>std::weak_ptr</strong> å¤§å°æ˜¯åŸå§‹æŒ‡é’ˆçš„ä¸¤å€ã€‚</p><h4 id="æ™ºèƒ½æŒ‡é’ˆä½¿ç”¨æ³¨æ„äº‹é¡¹">æ™ºèƒ½æŒ‡é’ˆä½¿ç”¨æ³¨æ„äº‹é¡¹</h4><p>C++ æ–°æ ‡å‡†æå€¡çš„ç†å¿µä¹‹ä¸€æ˜¯ä¸åº”è¯¥å†æ‰‹åŠ¨è°ƒç”¨ delete æˆ–è€… freeå‡½æ•°å»é‡Šæ”¾å†…å­˜äº†ï¼Œè€Œåº”è¯¥æŠŠå®ƒä»¬äº¤ç»™æ–°æ ‡å‡†æä¾›çš„å„ç§æ™ºèƒ½æŒ‡é’ˆå¯¹è±¡ã€‚C++æ–°æ ‡å‡†ä¸­çš„å„ç§æ™ºèƒ½æŒ‡é’ˆæ˜¯å¦‚æ­¤çš„å®ç”¨ä¸å¼ºå¤§ï¼Œåœ¨ç°ä»£ C++é¡¹ç›®å¼€å‘ä¸­ï¼Œè¯»è€…åº”è¯¥å°½é‡å»ä½¿ç”¨å®ƒä»¬ã€‚æ™ºèƒ½æŒ‡é’ˆè™½ç„¶å¥½ç”¨ï¼Œä½†ç¨ä¸æ³¨æ„ï¼Œä¹Ÿå¯èƒ½å­˜åœ¨è®¸å¤šéš¾ä»¥å‘ç°çš„bugï¼Œè¿™é‡Œæˆ‘æ ¹æ®ç»éªŒæ€»ç»“äº†å‡ æ¡ï¼š</p><ul><li><p>ä¸€æ—¦ä¸€ä¸ªå¯¹è±¡ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆç®¡ç†åï¼Œå°±ä¸è¯¥å†ä½¿ç”¨åŸå§‹è£¸æŒ‡é’ˆå»æ“ä½œï¼›</p><p>çœ‹ä¸€æ®µä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Subscriber</span><br>&#123;<br><br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;    <br>  Subscriber* pSubscriber = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Subscriber</span>();<br><br>  <span class="hljs-function">std::unique_ptr&lt;Subscriber&gt; <span class="hljs-title">spSubscriber</span><span class="hljs-params">(pSubscriber)</span></span>;<br><br>  <span class="hljs-keyword">delete</span> pSubscriber;<br><br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™æ®µä»£ç åˆ©ç”¨åˆ›å»ºäº†ä¸€ä¸ªå †å¯¹è±¡ Subscriberï¼Œç„¶ååˆ©ç”¨æ™ºèƒ½æŒ‡é’ˆspSubscriberå»ç®¡ç†ä¹‹ï¼Œå¯ä»¥å´ç§ä¸‹åˆ©ç”¨åŸå§‹æŒ‡é’ˆé”€æ¯äº†è¯¥å¯¹è±¡ï¼Œè¿™è®©æ™ºèƒ½æŒ‡é’ˆå¯¹è±¡<strong>spSubscriber</strong> æƒ…ä½•ä»¥å ªå•Šï¼Ÿ</p><p>è®°ä½ï¼Œä¸€æ—¦æ™ºèƒ½æŒ‡é’ˆå¯¹è±¡æ¥ç®¡äº†ä½ çš„èµ„æºï¼Œæ‰€æœ‰å¯¹èµ„æºçš„æ“ä½œéƒ½åº”è¯¥é€šè¿‡æ™ºèƒ½æŒ‡é’ˆå¯¹è±¡è¿›è¡Œï¼Œä¸å»ºè®®å†é€šè¿‡åŸå§‹æŒ‡é’ˆè¿›è¡Œæ“ä½œäº†ã€‚å½“ç„¶ï¼Œé™¤äº†<strong>std::weak_ptr</strong>ï¼Œ<strong>std::unique_ptr</strong> å’Œ<strong>std::shared_ptr</strong>éƒ½æä¾›äº†è·å–åŸå§‹æŒ‡é’ˆçš„æ–¹æ³•â€”â€”<strong>get()</strong> å‡½æ•°ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;    <br>  Subscriber* pSubscriber = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Subscriber</span>();<br><br>  <span class="hljs-function">std::unique_ptr&lt;Subscriber&gt; <span class="hljs-title">spSubscriber</span><span class="hljs-params">(pSubscriber)</span></span>;<br><br>  <span class="hljs-comment">//pTheSameSubscriberå’ŒpSubscriberæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡</span><br>  Subscriber* pTheSameSubscriber= spSubscriber.<span class="hljs-built_in">get</span>();<br><br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>åˆ†æ¸…æ¥šåœºåˆåº”è¯¥ä½¿ç”¨å“ªç§ç±»å‹çš„æ™ºèƒ½æŒ‡é’ˆï¼›</p><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œå¦‚æœä½ çš„èµ„æºä¸éœ€è¦åœ¨å…¶ä»–åœ°æ–¹å…±äº«ï¼Œé‚£ä¹ˆåº”è¯¥ä¼˜å…ˆä½¿ç”¨<strong>std::unique_ptr</strong>ï¼Œåä¹‹ä½¿ç”¨<strong>std::shared_ptr</strong>ï¼Œå½“ç„¶è¿™æ˜¯åœ¨è¯¥æ™ºèƒ½æŒ‡é’ˆéœ€è¦ç®¡ç†èµ„æºçš„ç”Ÿå‘½å‘¨æœŸçš„æƒ…å†µä¸‹ï¼›å¦‚æœä¸éœ€è¦ç®¡ç†å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œè¯·ä½¿ç”¨<strong>std::weak_ptr</strong>ã€‚</p></li><li><p>è®¤çœŸè€ƒè™‘ï¼Œé¿å…æ“ä½œæŸä¸ªå¼•ç”¨èµ„æºå·²ç»é‡Šæ”¾çš„æ™ºèƒ½æŒ‡é’ˆï¼›</p><p>å‰é¢çš„ä¾‹å­ï¼Œä¸€å®šè®©ä½ è§‰å¾—éå¸¸å®¹æ˜“çŸ¥é“ä¸€ä¸ªæ™ºèƒ½æŒ‡é’ˆçš„æŒæœ‰çš„èµ„æºæ˜¯å¦è¿˜æœ‰æ•ˆï¼Œä½†æ˜¯è¿˜æ˜¯å»ºè®®åœ¨ä¸åŒåœºæ™¯è°¨æ…ä¸€ç‚¹ï¼Œæœ‰äº›åœºæ™¯æ˜¯å¾ˆå®¹æ˜“é€ æˆè¯¯åˆ¤ã€‚ä¾‹å¦‚ä¸‹é¢çš„ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">T</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">doSomething</span><span class="hljs-params">()</span></span><br><span class="hljs-function">  </span>&#123;<br>      std::cout &lt;&lt; <span class="hljs-string">&quot;T do something...&quot;</span> &lt;&lt; m_i &lt;&lt; std::endl;<br>  &#125;<br><br><span class="hljs-keyword">private</span>:<br>  <span class="hljs-type">int</span> m_i;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;    <br>  <span class="hljs-function">std::shared_ptr&lt;T&gt; <span class="hljs-title">sp1</span><span class="hljs-params">(<span class="hljs-keyword">new</span> T())</span></span>;<br>  <span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp; sp2 = sp1;<br><br>  sp1.<span class="hljs-built_in">reset</span>();<br><br>  <span class="hljs-comment">//ç”±äºsp2å·²ç»ä¸å†æŒæœ‰å¯¹è±¡çš„å¼•ç”¨ï¼Œç¨‹åºä¼šåœ¨è¿™é‡Œå‡ºç°æ„å¤–çš„è¡Œä¸º</span><br>  sp2-&gt;<span class="hljs-built_in">doSomething</span>();<br><br>  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ä¸­ï¼Œsp2 æ˜¯ sp1 çš„å¼•ç”¨ï¼Œsp1 è¢«ç½®ç©ºåï¼Œsp2ä¹Ÿä¸€åŒä¸ºç©ºã€‚è¿™æ—¶å€™è°ƒç”¨ sp2-&gt;doSomething()ï¼Œsp2-&gt;ï¼ˆå³<strong>operator-&gt;</strong>ï¼‰åœ¨å†…éƒ¨ä¼šè°ƒç”¨ <strong>get()</strong>æ–¹æ³•è·å–åŸå§‹æŒ‡é’ˆå¯¹è±¡ï¼Œè¿™æ—¶ä¼šå¾—åˆ°ä¸€ä¸ªç©ºæŒ‡é’ˆï¼ˆåœ°å€ä¸º 0ï¼‰ï¼Œç»§ç»­è°ƒç”¨doSomething() å¯¼è‡´ç¨‹åºå´©æºƒã€‚</p><p>ä½ ä¸€å®šä»ç„¶è§‰å¾—è¿™ä¸ªä¾‹å­ä¹Ÿèƒ½å¾ˆæ˜æ˜¾åœ°çœ‹å‡ºé—®é¢˜ï¼Œokï¼Œè®©æˆ‘ä»¬æŠŠè¿™ä¸ªä¾‹å­æ”¾åˆ°å®é™…å¼€å‘ä¸­å†æ¥çœ‹ä¸€ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//è¿æ¥æ–­å¼€</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">MonitorServer::OnClose</span><span class="hljs-params">(<span class="hljs-type">const</span> std::shared_ptr&lt;TcpConnection&gt;&amp; conn)</span></span><br><span class="hljs-function"></span>&#123;    <br>  <span class="hljs-function">std::lock_guard&lt;std::mutex&gt; <span class="hljs-title">guard</span><span class="hljs-params">(m_sessionMutex)</span></span>;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> iter = m_sessions.<span class="hljs-built_in">begin</span>(); iter != m_sessions.<span class="hljs-built_in">end</span>(); ++iter)<br>  &#123;<br>      <span class="hljs-comment">//é€šè¿‡æ¯”å¯¹connectionå¯¹è±¡æ‰¾åˆ°å¯¹åº”çš„session</span><br>      <span class="hljs-keyword">if</span> ((*iter)-&gt;<span class="hljs-built_in">GetConnectionPtr</span>() == conn)<br>      &#123;<br>          m_sessions.<span class="hljs-built_in">erase</span>(iter);<br>          <span class="hljs-comment">//æ³¨æ„è¿™é‡Œï¼šç¨‹åºåœ¨æ­¤å¤„å´©æºƒ</span><br>          <span class="hljs-built_in">LOGI</span>(<span class="hljs-string">&quot;monitor client disconnected: %s&quot;</span>, conn-&gt;<span class="hljs-built_in">peerAddress</span>().<span class="hljs-built_in">toIpPort</span>().<span class="hljs-built_in">c_str</span>());<br>          <span class="hljs-keyword">break</span>;<br>      &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™æ®µä»£ç ä¸æ˜¯æˆ‘æœæ’°çš„ï¼Œè€Œæ˜¯æ¥è‡ªäºæˆ‘å®é™…çš„ä¸€ä¸ªå•†ä¸šé¡¹ç›®ä¸­ã€‚æ³¨æ„ä»£ç ä¸­æˆ‘æé†’æ³¨æ„çš„åœ°æ–¹ï¼Œè¯¥æ®µç¨‹åºä¼šåœ¨ä»£ç <strong>12</strong> è¡Œå¤„å´©æºƒï¼Œå´©æºƒåŸå› æ˜¯è°ƒç”¨äº†<code>conn-&gt;peerAddress()</code>æ–¹æ³•ã€‚ä¸ºä»€ä¹ˆè¿™ä¸ªæ–¹æ³•çš„è°ƒç”¨å¯èƒ½ä¼šå¼•èµ·å´©æºƒï¼Ÿç°åœ¨å¯ä»¥ä¸€ç›®äº†ç„¶åœ°çœ‹å‡ºäº†å—ï¼Ÿ</p><p>å´©æºƒåŸå› æ˜¯ä¼ å…¥çš„ conn å¯¹è±¡å’Œä¸Šä¸€ä¸ªä¾‹å­ä¸­çš„ sp2 ä¸€æ ·éƒ½æ˜¯å¦å¤–ä¸€ä¸ª<strong>std::shared_ptr</strong> çš„å¼•ç”¨ï¼Œå½“è¿æ¥æ–­å¼€æ—¶ï¼Œå¯¹åº”çš„TcpConnection å¯¹è±¡å¯èƒ½æ—©å·²è¢«é”€æ¯ï¼Œè€Œ connå¼•ç”¨å°±ä¼šå˜æˆç©ºæŒ‡é’ˆï¼ˆä¸¥æ ¼æ¥è¯´æ˜¯ä¸å†æ‹¥æœ‰ä¸€ä¸ª TcpConnectionå¯¹è±¡ï¼‰ï¼Œæ­¤æ—¶è°ƒç”¨ TcpConnection çš„ peerAddress()æ–¹æ³•å°±ä¼šäº§ç”Ÿå’Œä¸Šä¸€ä¸ªç¤ºä¾‹ä¸€æ ·çš„é”™è¯¯ã€‚</p></li><li><p>ä½œä¸ºç±»æˆå‘˜å˜é‡æ—¶ï¼Œåº”è¯¥ä¼˜å…ˆä½¿ç”¨å‰ç½®å£°æ˜ï¼ˆforwarddeclarationsï¼‰</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œä¸ºäº†å‡å°ç¼–è¯‘ä¾èµ–åŠ å¿«ç¼–è¯‘é€Ÿåº¦å’Œç”ŸæˆäºŒè¿›åˆ¶æ–‡ä»¶çš„å¤§å°ï¼ŒC/C++é¡¹ç›®ä¸­ä¸€èˆ¬åœ¨ *.hæ–‡ä»¶å¯¹äºæŒ‡é’ˆç±»å‹å°½é‡ä½¿ç”¨å‰ç½®å£°æ˜ï¼Œè€Œä¸æ˜¯ç›´æ¥åŒ…å«å¯¹åº”ç±»çš„å¤´æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//Test.h</span><br><span class="hljs-comment">//åœ¨è¿™é‡Œä½¿ç”¨Açš„å‰ç½®å£°æ˜ï¼Œè€Œä¸æ˜¯ç›´æ¥åŒ…å«A.hæ–‡ä»¶</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>  <span class="hljs-built_in">Test</span>();<br>  ~<span class="hljs-built_in">Test</span>();<br><br><span class="hljs-keyword">private</span>:<br>  A*      m_pA;<br>&#125;;<br></code></pre></td></tr></table></figure><p>åŒæ ·çš„é“ç†ï¼Œåœ¨å¤´æ–‡ä»¶ä¸­å½“ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆå¯¹è±¡ä½œä¸ºç±»æˆå‘˜å˜é‡æ—¶ï¼Œä¹Ÿåº”è¯¥ä¼˜å…ˆä½¿ç”¨å‰ç½®å£°æ˜å»å¼•ç”¨æ™ºèƒ½æŒ‡é’ˆå¯¹è±¡çš„åŒ…è£¹ç±»ï¼Œè€Œä¸æ˜¯ç›´æ¥åŒ…å«åŒ…è£¹ç±»çš„å¤´æ–‡ä»¶ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//Test.h</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;memory&gt;</span></span><br><br><span class="hljs-comment">//æ™ºèƒ½æŒ‡é’ˆåŒ…è£¹ç±»Aï¼Œè¿™é‡Œä¼˜å…ˆä½¿ç”¨Açš„å‰ç½®å£°æ˜ï¼Œè€Œä¸æ˜¯ç›´æ¥åŒ…å«A.h</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span><br>&#123;<br><span class="hljs-keyword">public</span>:<br>  <span class="hljs-built_in">Test</span>();<br>  ~<span class="hljs-built_in">Test</span>();<br><br><span class="hljs-keyword">private</span>:  <br>  std::unique_ptr&lt;A&gt;  m_spA;<br>&#125;;<br></code></pre></td></tr></table></figure></li></ul><p>C++ æ–°æ ‡å‡†ä¸­çš„æ™ºèƒ½æŒ‡é’ˆæˆ‘æƒ³ä»‹ç»çš„å°±è¿™ä¹ˆå¤šäº†ï¼ŒModern C/C++ å·²ç»å˜ä¸ºC/C++å¼€å‘çš„è¶‹åŠ¿ï¼Œå¸Œæœ›è¯»è€…èƒ½å–„ç”¨å’Œç†Ÿç»ƒä½¿ç”¨æœ¬èŠ‚ä»‹ç»çš„åä¸‰ç§æ™ºèƒ½æŒ‡é’ˆå¯¹è±¡ã€‚</p><p>è½¬è½½è‡ª <ahref="https://github.com/balloonwj/CppGuide/blob/master/articles/C++%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A%E7%9A%84%E7%9F%A5%E8%AF%86%E7%82%B9/%E8%AF%A6%E8%A7%A3C++11%E4%B8%AD%E7%9A%84%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88.md">è¯¦è§£C++11ä¸­çš„æ™ºèƒ½æŒ‡é’ˆ</a></p>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>C++ STL å®¹å™¨ä»¥åŠå¸¸ç”¨æ“ä½œ</title>
    <link href="/2023/03/02/CppSTL%E5%AE%B9%E5%99%A8%E4%BB%A5%E5%8F%8A%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/"/>
    <url>/2023/03/02/CppSTL%E5%AE%B9%E5%99%A8%E4%BB%A5%E5%8F%8A%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/</url>
    
    <content type="html"><![CDATA[<h2 id="vectorå®¹å™¨">vectorå®¹å™¨</h2><p>C++ STL vectoræ˜¯ä¸€ä¸ªåŠ¨æ€æ•°ç»„å®¹å™¨ï¼Œå®ƒå¯ä»¥åœ¨è¿è¡Œæ—¶è°ƒæ•´å¤§å°ï¼Œå¹¶ä¸”æ”¯æŒéšæœºè®¿é—®ã€‚ä»¥ä¸‹æ˜¯vector å¸¸ç”¨çš„åŸºæœ¬æ“ä½œï¼š</p><h3 id="åˆ›å»ºvector">åˆ›å»ºvector</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><br>std::vector&lt;<span class="hljs-type">int</span>&gt; v;             <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªç©º vector</span><br><span class="hljs-function">std::vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">v</span><span class="hljs-params">(size)</span></span>;       <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªå¤§å°ä¸º size çš„ vector</span><br><span class="hljs-function">std::vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">v</span><span class="hljs-params">(size, value)</span></span>;<span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªå¤§å°ä¸º sizeï¼Œå¹¶ä¸”æ‰€æœ‰å…ƒç´ éƒ½åˆå§‹åŒ–ä¸º value çš„ vector</span><br><span class="hljs-function">std::vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">v2</span><span class="hljs-params">(v1)</span></span>;        <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªå‰¯æœ¬ vectorï¼Œv2 å’Œ v1 ä¸­çš„å…ƒç´ ç›¸åŒ</span><br>std::vector&lt;<span class="hljs-type">int</span>&gt; v3 = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>&#125;;  <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªåˆå§‹å…ƒç´ åˆ†åˆ«ä¸º1 2 3çš„vector</span><br><span class="hljs-function">std::vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">v4</span><span class="hljs-params">(v3.begin() + <span class="hljs-number">1</span>, ilist.end() - <span class="hljs-number">1</span>)</span></span>;   <span class="hljs-comment">// ç”¨v3çš„æŸä¸ªèŒƒå›´å…ƒç´ åˆå§‹åŒ–v4</span><br></code></pre></td></tr></table></figure><h3 id="è®¿é—®-vector-å…ƒç´ ">è®¿é—® vector å…ƒç´ </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++">v[index];                 <span class="hljs-comment">// è®¿é—®ç¬¬ index ä¸ªå…ƒç´ </span><br>v.<span class="hljs-built_in">at</span>(index);              <span class="hljs-comment">// è®¿é—®ç¬¬ index ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”è¿›è¡Œè¾¹ç•Œæ£€æŸ¥</span><br>v.<span class="hljs-built_in">front</span>();                <span class="hljs-comment">// è®¿é—®ç¬¬ä¸€ä¸ªå…ƒç´ </span><br>v.<span class="hljs-built_in">back</span>();                 <span class="hljs-comment">// è®¿é—®æœ€åä¸€ä¸ªå…ƒç´ </span><br>v.<span class="hljs-built_in">data</span>();                 <span class="hljs-comment">// è¿”å›æŒ‡å‘ vector æ•°æ®çš„æŒ‡é’ˆ</span><br></code></pre></td></tr></table></figure><h3 id="ä¿®æ”¹-vector-å…ƒç´ ">ä¿®æ”¹ vector å…ƒç´ </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs C++">v[index] = value;         <span class="hljs-comment">// ä¿®æ”¹ç¬¬ index ä¸ªå…ƒç´ ä¸º value</span><br>v.<span class="hljs-built_in">at</span>(index) = value;      <span class="hljs-comment">// ä¿®æ”¹ç¬¬ index ä¸ªå…ƒç´ ä¸º valueï¼Œå¹¶ä¸”è¿›è¡Œè¾¹ç•Œæ£€æŸ¥</span><br>v.<span class="hljs-built_in">emplace_back</span>(value);       <span class="hljs-comment">// åœ¨ vector çš„æœ«å°¾æ’å…¥ä¸€ä¸ªå…ƒç´ </span><br>v.<span class="hljs-built_in">pop_back</span>();             <span class="hljs-comment">// åˆ é™¤ vector çš„æœ«å°¾å…ƒç´ </span><br>v.<span class="hljs-built_in">insert</span>(iterator, value);<span class="hljs-comment">// åœ¨ iterator æŒ‡å®šçš„ä½ç½®æ’å…¥ value</span><br>v.<span class="hljs-built_in">erase</span>(iterator);        <span class="hljs-comment">// åˆ é™¤ iterator æŒ‡å®šçš„å…ƒç´ </span><br>v.<span class="hljs-built_in">clear</span>();                <span class="hljs-comment">// åˆ é™¤ vector ä¸­æ‰€æœ‰çš„å…ƒç´ </span><br>v.<span class="hljs-built_in">resize</span>(size);           <span class="hljs-comment">// ä¿®æ”¹ vector çš„å¤§å°ä¸º sizeï¼Œå¦‚æœåŸæ¥çš„å¤§å°æ¯” size å¤§ï¼Œåˆ™åˆ é™¤åé¢çš„å…ƒç´ ï¼Œå¦åˆ™å¢åŠ é»˜è®¤å€¼çš„å…ƒç´ </span><br>v.<span class="hljs-built_in">resize</span>(size, value);    <span class="hljs-comment">// ä¿®æ”¹ vector çš„å¤§å°ä¸º sizeï¼Œå¹¶ä¸”ç”¨ value è¿›è¡Œåˆå§‹åŒ–ï¼Œå¦‚æœåŸæ¥çš„å¤§å°æ¯” size å¤§ï¼Œåˆ™åˆ é™¤åé¢çš„å…ƒç´ ï¼Œå¦åˆ™å¢åŠ  value çš„å…ƒç´ </span><br></code></pre></td></tr></table></figure><h3 id="vector-å®¹é‡æ“ä½œ">vector å®¹é‡æ“ä½œ</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++">v.<span class="hljs-built_in">size</span>();                 <span class="hljs-comment">// è¿”å› vector ä¸­å…ƒç´ çš„ä¸ªæ•°</span><br>v.<span class="hljs-built_in">capacity</span>();             <span class="hljs-comment">// è¿”å› vector å¯ä»¥å­˜å‚¨çš„å…ƒç´ çš„æ•°é‡ï¼Œä¹Ÿå°±æ˜¯é¢„ç•™çš„ç©ºé—´</span><br>v.<span class="hljs-built_in">empty</span>();                <span class="hljs-comment">// å¦‚æœ vector ä¸ºç©ºï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› false</span><br>v.<span class="hljs-built_in">reserve</span>(capacity);      <span class="hljs-comment">// é¢„ç•™ capacity çš„å­˜å‚¨ç©ºé—´</span><br>v.<span class="hljs-built_in">shrink_to_fit</span>();        <span class="hljs-comment">// é‡Šæ”¾ vector å¤šä½™çš„å­˜å‚¨ç©ºé—´</span><br></code></pre></td></tr></table></figure><h3 id="vector-éå†æ“ä½œ">vector éå†æ“ä½œ</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> it = v.<span class="hljs-built_in">begin</span>(); it != v.<span class="hljs-built_in">end</span>(); it++) &#123;<br>    std::cout &lt;&lt; *it &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>&#125;<br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> x : v) &#123;<br>    std::cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>&#125;<br><br>std::for_each(v.<span class="hljs-built_in">begin</span>(), v.<span class="hljs-built_in">end</span>(), [](<span class="hljs-type">int</span> x) &#123;<br>    std::cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>&#125;);<br></code></pre></td></tr></table></figure><h3 id="ä¸¤ä¸ªå…ƒç´ ä¹‹é—´çš„èŒƒå›´">ä¸¤ä¸ªå…ƒç´ ä¹‹é—´çš„èŒƒå›´</h3><p>æˆ‘ä»¬çŸ¥é“ï¼Œä½œç”¨äºåŒä¸€å®¹å™¨çš„ 2ä¸ªåŒç±»å‹è¿­ä»£å™¨å¯ä»¥æœ‰æ•ˆæŒ‡å®šä¸€ä¸ªåŒºé—´èŒƒå›´ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå¦‚æœæƒ³è·å–è¯¥æŒ‡å®šèŒƒå›´å†…åŒ…å«å…ƒç´ çš„ä¸ªæ•°ï¼Œå°±å¯ä»¥å€ŸåŠ©distance() å‡½æ•°ã€‚</p><p>distance()å‡½æ•°ç”¨äºè®¡ç®—ä¸¤ä¸ªè¿­ä»£å™¨è¡¨ç¤ºçš„èŒƒå›´å†…åŒ…å«å…ƒç´ çš„ä¸ªæ•°ï¼Œå…¶è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">InputIterator</span>&gt;<br>  <span class="hljs-keyword">typename</span> iterator_traits&lt;InputIterator&gt;::<span class="hljs-function">difference_type <span class="hljs-title">distance</span> <span class="hljs-params">(InputIterator first, InputIterator last)</span></span>;<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œfirst å’Œ lastéƒ½ä¸º<strong>è¿­ä»£å™¨</strong>ï¼Œå…¶ç±»å‹å¯ä»¥æ˜¯è¾“å…¥è¿­ä»£å™¨ã€å‰å‘è¿­ä»£å™¨ã€åŒå‘è¿­ä»£å™¨ä»¥åŠéšæœºè®¿é—®è¿­ä»£å™¨ï¼›è¯¥å‡½æ•°ä¼šè¿”å›[first,last)èŒƒå›´å†…åŒ…å«çš„å…ƒç´ çš„ä¸ªæ•°ã€‚</p><p>ä¾‹å­ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span>     <span class="hljs-comment">// cout</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iterator&gt;</span>     <span class="hljs-comment">// distance</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;list&gt;</span>         <span class="hljs-comment">// list</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br> <br><span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªç©º list å®¹å™¨</span><br>list&lt;<span class="hljs-type">int</span>&gt; mylist;<br><span class="hljs-comment">//å‘ç©º list å®¹å™¨ä¸­æ·»åŠ å…ƒç´  0~9</span><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>mylist.<span class="hljs-built_in">push_back</span>(i);<br>&#125;<br><span class="hljs-comment">//æŒ‡å®š 2 ä¸ªåŒå‘è¿­ä»£å™¨ï¼Œç”¨äºæ‰§è¡ŒæŸä¸ªåŒºé—´</span><br>list&lt;<span class="hljs-type">int</span>&gt;::iterator first = mylist.<span class="hljs-built_in">begin</span>();<span class="hljs-comment">//æŒ‡å‘å…ƒç´  0</span><br>list&lt;<span class="hljs-type">int</span>&gt;::iterator last = mylist.<span class="hljs-built_in">end</span>();<span class="hljs-comment">//æŒ‡å‘å…ƒç´  9 ä¹‹åçš„ä½ç½®</span><br><span class="hljs-comment">//è·å– [first,last) èŒƒå›´å†…åŒ…å«å…ƒç´ çš„ä¸ªæ•°</span><br>cout &lt;&lt; <span class="hljs-string">&quot;distance() = &quot;</span> &lt;&lt; <span class="hljs-built_in">distance</span>(first, last);<br></code></pre></td></tr></table></figure><h3 id="æŸ¥æ‰¾æŸä¸ªå€¼æ‰€åœ¨ä½ç½®">æŸ¥æ‰¾æŸä¸ªå€¼æ‰€åœ¨ä½ç½®</h3><p>ä½¿ç”¨ std::find()æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;algorithm&gt;</span></span><br> <br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    std::vector&lt;<span class="hljs-type">int</span>&gt; v = &#123; <span class="hljs-number">7</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>, <span class="hljs-number">2</span>, <span class="hljs-number">6</span> &#125;;<br>    <span class="hljs-type">int</span> key = <span class="hljs-number">6</span>;<br> <br>    std::vector&lt;<span class="hljs-type">int</span>&gt;::iterator itr = std::<span class="hljs-built_in">find</span>(v.<span class="hljs-built_in">begin</span>(), v.<span class="hljs-built_in">end</span>(), key);<br> <br>    <span class="hljs-keyword">if</span> (itr != v.<span class="hljs-built_in">cend</span>()) &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Element present at index &quot;</span> &lt;&lt; std::<span class="hljs-built_in">distance</span>(v.<span class="hljs-built_in">begin</span>(), itr);<br>    &#125;<br>    <span class="hljs-keyword">else</span> &#123;<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Element not found&quot;</span>;<br>    &#125;<br> <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æŸ¥æ‰¾æœ€å¤§å…ƒç´ å’Œæœ€å°å…ƒç´ ">æŸ¥æ‰¾æœ€å¤§å…ƒç´ å’Œæœ€å°å…ƒç´ </h3><p><code>max_element()</code>å‡½æ•°æ˜¯ç®—æ³•æ ‡å¤´çš„åº“å‡½æ•°ï¼Œç”¨äºæŸ¥æ‰¾èŒƒå›´ä¸­çš„æœ€å¤§å…ƒç´ ï¼Œå®ƒæ¥å—å®¹å™¨èŒƒå›´[startï¼Œend]ï¼Œå¹¶è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œè¯¥è¿­ä»£å™¨æŒ‡å‘ç»™å®šèŒƒå›´ä¸­å…·æœ‰æœ€å¤§å€¼çš„å…ƒç´ ã€‚</p><p><strong>å‚æ•°</strong>ï¼š</p><ul><li>iterator start, iterator end,å®¹å™¨å¼€å§‹å’Œç»“æŸä½ç½®;</li><li>[compare comp]ï¼Œå¯é€‰å‚æ•°ï¼Œå¯ä»¥ä¸ç»™å®šèŒƒå›´å†…çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒã€‚</li></ul><p><strong>è¿”å›å€¼</strong>:</p><p>iterator -è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼Œè¯¥è¿­ä»£å™¨æŒ‡å‘ç»™å®šèŒƒå›´å†…å…·æœ‰æœ€å¤§å€¼çš„å…ƒç´ ã€‚</p><p><code>min_element()</code>åŒç†ï¼Œå‚æ•°ç”¨æ³•ä¹Ÿç›¸åŒï¼Œä¸åŒçš„æ˜¯å®ƒè¿”å›çš„æ˜¯æœ€å°å…ƒç´ çš„è¿­ä»£å™¨ã€‚</p><h2 id="stackå®¹å™¨">stackå®¹å™¨</h2><p>C++ STL æ ‡å‡†åº“ä¸­çš„ stackæ˜¯ä¸€ä¸ªåè¿›å…ˆå‡ºï¼ˆLIFOï¼‰çš„å®¹å™¨é€‚é…å™¨ï¼Œå®ƒå¯ä»¥ä½¿ç”¨ä¸åŒçš„åº•å±‚å®¹å™¨ï¼ˆé»˜è®¤ä½¿ç”¨dequeï¼‰å®ç°ã€‚ä»¥ä¸‹æ˜¯ stack å¸¸ç”¨çš„åŸºæœ¬æ“ä½œï¼š</p><h3 id="åˆ›å»º-stack">åˆ›å»º stack</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stack&gt;</span></span><br><br>std::stack&lt;<span class="hljs-type">int</span>&gt; s;       <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªç©º stack</span><br><span class="hljs-function">std::stack&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">s1</span><span class="hljs-params">(s)</span></span>;   <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªå‰¯æœ¬ stackï¼Œs1 å’Œ s ä¸­çš„å…ƒç´ ç›¸åŒ</span><br>std::stack&lt;<span class="hljs-type">int</span>, std::vector&lt;<span class="hljs-type">int</span>&gt;&gt; s2; <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªåº•å±‚å®¹å™¨ä¸º vector çš„ stack</span><br></code></pre></td></tr></table></figure><h3 id="stack-å…ƒç´ æ“ä½œ">stack å…ƒç´ æ“ä½œ</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++">s.<span class="hljs-built_in">emplace</span>(value);       <span class="hljs-comment">// å°† value å‹å…¥ stack é¡¶éƒ¨</span><br>s.<span class="hljs-built_in">pop</span>();                <span class="hljs-comment">// å¼¹å‡º stack é¡¶éƒ¨çš„å…ƒç´ </span><br>s.<span class="hljs-built_in">top</span>();                <span class="hljs-comment">// è¿”å› stack é¡¶éƒ¨çš„å…ƒç´ </span><br>s.<span class="hljs-built_in">empty</span>();              <span class="hljs-comment">// å¦‚æœ stack ä¸ºç©ºï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› false</span><br>s.<span class="hljs-built_in">size</span>();               <span class="hljs-comment">// è¿”å› stack ä¸­å…ƒç´ çš„ä¸ªæ•°</span><br></code></pre></td></tr></table></figure><h3 id="éå†-stack">éå† stack</h3><p>stack æ˜¯ä¸æ”¯æŒè¿­ä»£å™¨çš„å®¹å™¨ï¼Œå› æ­¤æˆ‘ä»¬åªèƒ½é€šè¿‡å¼¹å‡ºå…ƒç´ çš„æ–¹å¼éå†stackã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">while</span> (!s.<span class="hljs-built_in">empty</span>()) <br>&#123;<br>    <span class="hljs-type">int</span> x = s.<span class="hljs-built_in">top</span>();<br>    s.<span class="hljs-built_in">pop</span>();<br>    std::cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼šåœ¨éå† stack æ—¶ï¼Œä¸€å®šè¦åˆ¤æ–­ stack æ˜¯å¦ä¸ºç©ºï¼Œå¦åˆ™ä¼šå‘ç”Ÿundefined behaviorã€‚</p><h2 id="queueå®¹å™¨">queueå®¹å™¨</h2><p>C++ STL æ ‡å‡†åº“ä¸­çš„ queueæ˜¯ä¸€ä¸ªå…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰çš„å®¹å™¨é€‚é…å™¨ï¼Œå®ƒä¹Ÿå¯ä»¥ä½¿ç”¨ä¸åŒçš„åº•å±‚å®¹å™¨ï¼ˆé»˜è®¤ä½¿ç”¨dequeï¼‰å®ç°ã€‚ä»¥ä¸‹æ˜¯ queue å¸¸ç”¨çš„åŸºæœ¬æ“ä½œï¼š</p><h3 id="åˆ›å»º-queue">åˆ›å»º queue</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;queue&gt;</span></span><br><br>std::queue&lt;<span class="hljs-type">int</span>&gt; q;           <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªç©º queue</span><br><span class="hljs-function">std::queue&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">q1</span><span class="hljs-params">(q)</span></span>;       <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªå‰¯æœ¬ queueï¼Œq1 å’Œ q ä¸­çš„å…ƒç´ ç›¸åŒ</span><br>std::queue&lt;<span class="hljs-type">int</span>, std::list&lt;<span class="hljs-type">int</span>&gt;&gt; q2;  <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªåº•å±‚å®¹å™¨ä¸º list çš„ queue</span><br></code></pre></td></tr></table></figure><h3 id="queue-å…ƒç´ æ“ä½œ">queue å…ƒç´ æ“ä½œ</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs C++">q.<span class="hljs-built_in">emplace</span>(value);           <span class="hljs-comment">// å°† value æ’å…¥ queue å°¾éƒ¨</span><br>q.<span class="hljs-built_in">pop</span>();                    <span class="hljs-comment">// å¼¹å‡º queue å¤´éƒ¨çš„å…ƒç´ </span><br>q.<span class="hljs-built_in">front</span>();                  <span class="hljs-comment">// è¿”å› queue å¤´éƒ¨çš„å…ƒç´ </span><br>q.<span class="hljs-built_in">back</span>();                   <span class="hljs-comment">// è¿”å› queue å°¾éƒ¨çš„å…ƒç´ </span><br>q.<span class="hljs-built_in">empty</span>();                  <span class="hljs-comment">// å¦‚æœ queue ä¸ºç©ºï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› false</span><br>q.<span class="hljs-built_in">size</span>();                   <span class="hljs-comment">// è¿”å› queue ä¸­å…ƒç´ çš„ä¸ªæ•°</span><br></code></pre></td></tr></table></figure><h3 id="éå†-queue">éå† queue</h3><p>queue æ˜¯ä¸æ”¯æŒè¿­ä»£å™¨çš„å®¹å™¨ï¼Œå› æ­¤æˆ‘ä»¬åªèƒ½é€šè¿‡å¼¹å‡ºå…ƒç´ çš„æ–¹å¼éå†queueã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">while</span> (!q.<span class="hljs-built_in">empty</span>()) <br>&#123;<br>    <span class="hljs-type">int</span> x = q.<span class="hljs-built_in">front</span>();<br>    q.<span class="hljs-built_in">pop</span>();<br>    std::cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼šåœ¨éå† queue æ—¶ï¼Œä¸€å®šè¦åˆ¤æ–­ queue æ˜¯å¦ä¸ºç©ºï¼Œå¦åˆ™ä¼šå‘ç”Ÿundefined behaviorã€‚</p><h2 id="unordered_mapå®¹å™¨">unordered_mapå®¹å™¨</h2><p>unordered_mapå®šä¹‰å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">class</span> <span class="hljs-title class_">Key</span>,<br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Ty</span>,<br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Hash</span> = std::hash&lt;Key&gt;,<br>    <span class="hljs-keyword">class</span> Pred = std::equal_to&lt;Key&gt;,<br>    <span class="hljs-keyword">class</span> Alloc = std::allocator&lt;std::pair&lt;<span class="hljs-type">const</span> Key, Ty&gt; &gt; &gt;<br>    <span class="hljs-keyword">class</span> unordered_map;<br>    &gt; <span class="hljs-keyword">class</span> <span class="hljs-title class_">unordered_map</span><br></code></pre></td></tr></table></figure><ul><li><strong>ç¬¬1ä¸ªå‚æ•°</strong>:å­˜å‚¨keyå€¼ã€‚</li><li><strong>ç¬¬2ä¸ªå‚æ•°</strong>:å­˜å‚¨mapped valueã€‚</li><li><strong>ç¬¬3ä¸ªå‚æ•°</strong>:ä¸ºå“ˆå¸Œå‡½æ•°çš„å‡½æ•°å¯¹è±¡ã€‚å®ƒå°†keyä½œä¸ºå‚æ•°ï¼Œå¹¶åˆ©ç”¨å‡½æ•°å¯¹è±¡ä¸­çš„å“ˆå¸Œå‡½æ•°è¿”å›ç±»å‹ä¸ºsize_tçš„å”¯ä¸€å“ˆå¸Œå€¼ã€‚é»˜è®¤å€¼ä¸ºstd::hash&lt;key &gt;ã€‚</li><li><strong>ç¬¬4ä¸ªå‚æ•°</strong>:ä¸ºç­‰æ¯”å‡½æ•°çš„å‡½æ•°å¯¹è±¡ã€‚å®ƒå†…éƒ¨é€šè¿‡ç­‰æ¯”æ“ä½œç¬¦â€™=='æ¥åˆ¤æ–­ä¸¤ä¸ªkeyæ˜¯å¦ç›¸ç­‰ï¼Œè¿”å›å€¼ä¸ºboolç±»å‹ã€‚é»˜è®¤å€¼æ˜¯std::equal_to&lt;key &gt;ã€‚</li></ul><p>åŸºæœ¬æ“ä½œ</p><h3 id="æ’å…¥å…ƒç´ ">æ’å…¥å…ƒç´ </h3><p>ä¸€ç§æ’å…¥çš„ç‰¹æ®Šæƒ…å†µæ˜¯ï¼Œunordered_mapæ’å…¥çš„<strong>å€¼</strong>æ˜¯intç±»å‹(keyçš„ç±»å‹æ— æ‰€è°“)ï¼Œè¿™æ—¶å€™å¯ä»¥ç”¨ç¬¬äºŒç§æ–¹å¼æ’å…¥:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span> <span class="hljs-type">const</span> *argv[])</span> </span><br><span class="hljs-function"></span>&#123;<br>    <br>    std::unordered_map&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; hash_map;<br>    hash_map.<span class="hljs-built_in">insert</span>(&#123;<span class="hljs-number">1</span>, <span class="hljs-number">1</span>&#125;);      <span class="hljs-comment">//æ•°ç»„æ’å…¥</span><br>    hash_map[<span class="hljs-number">0</span>]++;                <span class="hljs-comment">//é”®å€¼æ’å…¥</span><br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></p><h3 id="åˆ é™¤å…ƒç´ ">åˆ é™¤å…ƒç´ </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span> <span class="hljs-type">const</span> *argv[])</span> </span><br><span class="hljs-function"></span>&#123;<br>    <br>    std::unordered_map&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; hash_map;<br>    hash_map.<span class="hljs-built_in">insert</span>(&#123;<span class="hljs-number">1</span>, <span class="hljs-number">1</span>&#125;);      <span class="hljs-comment">//æ•°ç»„æ’å…¥</span><br>    hash_map[<span class="hljs-number">0</span>]++;                <span class="hljs-comment">//é”®å€¼æ’å…¥</span><br><br>    <span class="hljs-comment">// åˆ é™¤</span><br>    mymap.<span class="hljs-built_in">erase</span>(mymap.<span class="hljs-built_in">begin</span>());    <br>    mymap.<span class="hljs-built_in">erase</span>(<span class="hljs-number">1</span>);<br>    mymap.<span class="hljs-built_in">clear</span>();<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æŸ¥æ‰¾å…ƒç´ ">æŸ¥æ‰¾å…ƒç´ </h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc, <span class="hljs-type">char</span> <span class="hljs-type">const</span> *argv[])</span> </span><br><span class="hljs-function"></span>&#123;<br>    <br>    std::unordered_map&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; hash_map;<br>    hash_map.<span class="hljs-built_in">insert</span>(&#123;<span class="hljs-number">1</span>, <span class="hljs-number">1</span>&#125;);      <span class="hljs-comment">//æ•°ç»„æ’å…¥</span><br>    hash_map[<span class="hljs-number">0</span>]++;                <span class="hljs-comment">//é”®å€¼æ’å…¥</span><br><br>    <span class="hljs-keyword">if</span>(hash_map.<span class="hljs-built_in">find</span>(key) != hash_map.<span class="hljs-built_in">end</span>())       <span class="hljs-comment">// æŸ¥æ‰¾</span><br>        std::cout&lt;&lt;<span class="hljs-string">&quot;True&quot;</span>&lt;&lt;endl;<br>    <span class="hljs-keyword">else</span><br>        std::cout&lt;&lt;<span class="hljs-string">&quot;False&quot;</span>&lt;&lt;endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="unordered_setå®¹å™¨">unordered_setå®¹å™¨</h2><p>C++ STL ä¸­çš„ unordered_setæ˜¯ä¸€ä¸ªå…³è”å®¹å™¨ï¼Œå®ƒæä¾›äº†ä¸€ç§å­˜å‚¨å”¯ä¸€å…ƒç´ çš„æ— åºé›†åˆã€‚ä¸ setä¸åŒï¼Œunordered_setå†…éƒ¨çš„å…ƒç´ æ˜¯æ— åºçš„ï¼Œå› æ­¤åœ¨æ’å…¥å’ŒæŸ¥æ‰¾æ—¶ï¼Œå®ƒçš„æ€§èƒ½é€šå¸¸æ¯”æœ‰åºçš„å…³è”å®¹å™¨ setæ›´å¿«ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€äº› unordered_set çš„åŸºæœ¬ç”¨æ³•ç¤ºä¾‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unordered_set&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ª unordered_set å¯¹è±¡</span><br>    std::unordered_set&lt;<span class="hljs-type">int</span>&gt; mySet;<br><br>    <span class="hljs-comment">// æ’å…¥å…ƒç´ </span><br>    mySet.<span class="hljs-built_in">insert</span>(<span class="hljs-number">2</span>);<br>    mySet.<span class="hljs-built_in">insert</span>(<span class="hljs-number">3</span>);<br>    mySet.<span class="hljs-built_in">insert</span>(<span class="hljs-number">4</span>);<br><br>    <span class="hljs-comment">// ä½¿ç”¨ find() æ–¹æ³•æŸ¥æ‰¾å…ƒç´ </span><br>    <span class="hljs-keyword">auto</span> it = mySet.<span class="hljs-built_in">find</span>(<span class="hljs-number">3</span>);<br>    <span class="hljs-keyword">if</span> (it != mySet.<span class="hljs-built_in">end</span>())<br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Found &quot;</span> &lt;&lt; *it &lt;&lt; std::endl;<br>    <span class="hljs-keyword">else</span><br>        std::cout &lt;&lt; <span class="hljs-string">&quot;Not found&quot;</span> &lt;&lt; std::endl;<br><br>    <span class="hljs-comment">// ä½¿ç”¨ count() æ–¹æ³•æ£€æŸ¥å…ƒç´ æ˜¯å¦åœ¨ unordered_set ä¸­</span><br>    <span class="hljs-keyword">if</span> (mySet.<span class="hljs-built_in">count</span>(<span class="hljs-number">4</span>) &gt; <span class="hljs-number">0</span>) <br>        std::cout &lt;&lt; <span class="hljs-string">&quot;4 is in the set&quot;</span> &lt;&lt; std::endl;<br><br>    <span class="hljs-comment">// éå† unordered_set ä¸­çš„æ‰€æœ‰å…ƒç´ </span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; element : mySet)<br>        std::cout &lt;&lt; element &lt;&lt; std::endl;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¾“å‡ºä¸º:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">Found <span class="hljs-number">3</span><br><span class="hljs-number">4</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">in</span> the <span class="hljs-built_in">set</span><br><span class="hljs-number">2</span><br><span class="hljs-number">3</span><br><span class="hljs-number">4</span><br></code></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ unordered_setä¸­ï¼Œå…ƒç´ çš„é¡ºåºæ˜¯ä¸ç¡®å®šçš„ï¼Œå› æ­¤è¾“å‡ºçš„ç»“æœå¯èƒ½ä¸ä¸Šé¢çš„ç¤ºä¾‹ä¸å®Œå…¨ä¸€è‡´ã€‚</p><h2 id="stlä¸­emplaceå’Œpushçš„åŒºåˆ«">STLä¸­emplaceå’Œpushçš„åŒºåˆ«</h2><p>åœ¨ C++ STL æ ‡å‡†åº“ä¸­ï¼Œå®¹å™¨ä¸­çš„ <code>emplace()</code> å’Œ<code>push()</code>éƒ½å¯ä»¥ç”¨æ¥å‘å®¹å™¨ä¸­æ·»åŠ æ–°å…ƒç´ ã€‚ä½†æ˜¯å®ƒä»¬çš„åº•å±‚å®ç°å’Œä½œç”¨ä¸åŒã€‚</p><h3 id="push">push()</h3><p><code>push()</code>æ˜¯ä¸€ä¸ªæˆå‘˜å‡½æ•°ï¼Œç”¨äºå°†ä¸€ä¸ªå·²ç»æ„é€ å¥½çš„å…ƒç´ åŠ å…¥åˆ°å®¹å™¨çš„å°¾éƒ¨ï¼Œå³å°†å…ƒç´ çš„å‰¯æœ¬æˆ–å¼•ç”¨æ·»åŠ åˆ°å®¹å™¨ä¸­ã€‚å› æ­¤ï¼Œéœ€è¦å°†å…ƒç´ å…ˆæ„é€ å‡ºæ¥ï¼Œå†å°†å…¶åŠ å…¥å®¹å™¨ä¸­ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++">std::vector&lt;<span class="hljs-type">int</span>&gt; v;<br>v.<span class="hljs-built_in">push_back</span>(<span class="hljs-number">1</span>);<br></code></pre></td></tr></table></figure><p>è¿™é‡Œçš„ <code>push_back()</code> å‡½æ•°é¦–å…ˆæ„é€ äº†ä¸€ä¸ª intç±»å‹çš„å…ƒç´ ï¼Œç„¶åå°†å…¶åŠ å…¥åˆ°äº† vector çš„å°¾éƒ¨ã€‚</p><h3 id="emplace">emplace()</h3><p><code>emplace()</code>æ˜¯ä¸€ä¸ªå¯å˜å‚æ•°æ¨¡æ¿å‡½æ•°ï¼Œå®ƒåœ¨å®¹å™¨çš„å°¾éƒ¨ç›´æ¥æ„é€ ä¸€ä¸ªæ–°çš„å…ƒç´ ï¼Œè€Œä¸éœ€è¦å°†å…ƒç´ æ„é€ å‡ºæ¥å†åŠ å…¥å®¹å™¨ã€‚å› æ­¤ï¼Œå®ƒæ¯”<code>push()</code> æ›´åŠ é«˜æ•ˆã€‚</p><p>ä¾‹å¦‚ï¼Œå¯¹äº vector å®¹å™¨æ¥è¯´ï¼Œä¸‹é¢çš„ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++">std::vector&lt;std::pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">double</span>&gt;&gt; v;<br>v.<span class="hljs-built_in">emplace_back</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2.0</span>);<br></code></pre></td></tr></table></figure><p>å°†ç›´æ¥åœ¨ vector çš„å°¾éƒ¨æ„é€ ä¸€ä¸ª <code>pair&lt;int, double&gt;</code>ç±»å‹çš„å…ƒç´ ï¼Œè€Œä¸éœ€è¦å…ˆæ„é€ ä¸€ä¸ª <code>pair&lt;int, double&gt;</code>å¯¹è±¡ï¼Œç„¶åå†å°†å…¶åŠ å…¥åˆ° vector ä¸­ã€‚</p><h3 id="æ€»ç»“">æ€»ç»“</h3><ul><li><code>emplace()</code> å¯ä»¥ç›´æ¥åœ¨å®¹å™¨ä¸­æ„é€ æ–°çš„å…ƒç´ ï¼Œè€Œ<code>push()</code> éœ€è¦å…ˆå°†å…ƒç´ æ„é€ å‡ºæ¥ï¼Œå†åŠ å…¥åˆ°å®¹å™¨ä¸­ã€‚</li><li><code>emplace()</code> æ›´åŠ é«˜æ•ˆï¼Œå› ä¸ºå®ƒçœå»äº†å…ƒç´ æ„é€ çš„è¿‡ç¨‹ï¼Œè€Œ<code>push()</code> åˆ™éœ€è¦å…ˆæ„é€ å…ƒç´ ï¼Œå†å°†å…¶åŠ å…¥å®¹å™¨ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
      <tag>STL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>äºŒå‰æ ‘</title>
    <link href="/2023/03/01/%E4%BA%8C%E5%8F%89%E6%A0%91/"/>
    <url>/2023/03/01/%E4%BA%8C%E5%8F%89%E6%A0%91/</url>
    
    <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯äºŒå‰æ ‘">ä»€ä¹ˆæ˜¯äºŒå‰æ ‘</h2><p>äºŒå‰æ ‘æ˜¯ä¸€ç§å¸¸è§çš„æ•°æ®ç»“æ„ï¼Œå®ƒæ˜¯æ¯ä¸ªèŠ‚ç‚¹è‡³å¤šæœ‰ä¸¤æ£µå­æ ‘çš„æ ‘ã€‚</p><p>äºŒå‰æ ‘æœ‰ä¸¤ç§ç‰¹æ®Šçš„å½¢å¼ï¼Œæ»¡äºŒå‰æ ‘å’Œå®Œå…¨äºŒå‰æ ‘ã€‚</p><p><strong>æ»¡â¼†å‰æ ‘</strong>ï¼šå¦‚æœâ¼€æ£µâ¼†å‰æ ‘åªæœ‰åº¦ä¸º0çš„ç»“ç‚¹å’Œåº¦ä¸º2çš„ç»“ç‚¹ï¼Œå¹¶ä¸”åº¦ä¸º0çš„ç»“ç‚¹åœ¨åŒâ¼€å±‚ä¸Šï¼Œåˆ™è¿™æ£µâ¼†å‰æ ‘ä¸ºæ»¡â¼†å‰æ ‘ã€‚ä¸€æ£µæ·±åº¦ä¸ºkçš„æ»¡äºŒå‰æ ‘èŠ‚ç‚¹ä¸ªæ•°ä¸º<spanclass="math inline">\(2^k -1\)</span>ã€‚</p><p><strong>å®Œå…¨â¼†å‰æ ‘</strong>ï¼šè‡³å¤šåªæœ‰æœ€ä¸‹é¢çš„ä¸¤å±‚ç»“ç‚¹çš„åº¦æ•°å¯ä»¥å°äº2,å¹¶ä¸”æœ€ä¸‹ä¸€å±‚ä¸Šçš„ç»“ç‚¹éƒ½é›†ä¸­åœ¨è¯¥å±‚æœ€å·¦è¾¹çš„è‹¥å¹²ä½ç½®ä¸Šï¼Œåˆ™æ­¤äºŒå‰æ ‘ç§°ä¸ºå®Œå…¨äºŒå‰æ ‘ã€‚</p><p><img src="/img/ç®—æ³•/äºŒå‰æ ‘/å®Œå…¨äºŒå‰æ ‘å’Œæ»¡äºŒå‰æ ‘.png" /></p><p>æˆ‘ä»¬å¯ä»¥çœ‹å‡ºæ»¡äºŒå‰æ ‘æ˜¯å®Œå…¨äºŒå‰æ ‘ï¼Œ ä½†å®Œå…¨äºŒå‰æ ‘ä¸ä¸€å®šæ˜¯æ»¡äºŒå‰æ ‘ã€‚</p><h2 id="äºŒå‰æœç´¢æ ‘äºŒå‰æ’åºæ ‘">äºŒå‰æœç´¢æ ‘ï¼ˆäºŒå‰æ’åºæ ‘ï¼‰</h2><p>äºŒå‰æ’åºæ ‘è™½ç„¶åå«æ’åºæ ‘ï¼Œä½†æ˜¯å®ƒå…¶å®æ˜¯ç”¨æ¥æœç´¢çš„ï¼Œæ˜¯ä¸€ç§æœ‰åºçš„äºŒå‰æ ‘ã€‚å®ƒéµå¾ªç€å·¦å°å³å¤§çš„è§„åˆ™ï¼š</p><ul><li>è‹¥å®ƒçš„å·¦â¼¦æ ‘ä¸ç©ºï¼Œåˆ™å·¦â¼¦æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡â¼©äºå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼›</li><li>è‹¥å®ƒçš„å³â¼¦æ ‘ä¸ç©ºï¼Œåˆ™å³â¼¦æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹çš„å€¼å‡â¼¤äºå®ƒçš„æ ¹ç»“ç‚¹çš„å€¼ï¼›</li><li>å®ƒçš„å·¦ã€å³â¼¦æ ‘ä¹Ÿåˆ†åˆ«ä¸ºâ¼†å‰æœç´¢æ ‘ã€‚</li></ul><p><img src="/img/ç®—æ³•/äºŒå‰æ ‘/äºŒå‰æ’åºæ ‘.jpg" /></p><h2 id="å¹³è¡¡äºŒå‰æ ‘">å¹³è¡¡äºŒå‰æ ‘</h2><p>äºŒå‰æœç´¢æ ‘æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œåœ¨æ’å…¥æ•°æ®æ˜¯æœ‰åºçš„åºåˆ—ï¼ˆåŒ…æ‹¬å‡åºå’Œé™åºï¼‰ï¼Œä¼šå¯¼è‡´äºŒå‰æ ‘é€€åŒ–æˆé“¾è¡¨ï¼Œä»è€Œå¯¼è‡´åœ¨æŸ¥æ‰¾ï¼Œåˆ é™¤ï¼Œæ·»åŠ æ—¶çš„æ€§èƒ½å‡ä»Oï¼ˆlogNï¼‰é™ä½ä¸ºOï¼ˆNï¼‰ï¼Œè¿™æ˜¯ä¸èƒ½æ¥å—çš„ã€‚</p><p>ç©¶å…¶åŸå› ï¼Œæ˜¯å› ä¸ºäºŒå‰æœç´¢æ ‘é€€åŒ–æˆé“¾è¡¨çš„æ—¶å€™ï¼Œæ ‘çš„é«˜åº¦ä¸èŠ‚ç‚¹çš„ä¸ªæ•°ç›¸ç­‰ï¼Œä¹Ÿå°±æ˜¯æˆæ­£æ¯”ï¼Œæ‰€ä»¥ä¸ºäº†ä¼˜åŒ–è¿™ç§æƒ…å†µï¼Œå°±å‡ºç°äº†å…·æœ‰å¹³è¡¡èƒ½åŠ›çš„äºŒå‰æœç´¢æ ‘ï¼Œå…¶ä¸­AVLæ ‘æ˜¯æœ€æ—©è¢«å‘æ˜çš„è‡ªå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘ã€‚åœ¨AVLæ ‘ä¸­ï¼Œä»»ä¸€èŠ‚ç‚¹å¯¹åº”çš„ä¸¤æ£µå­æ ‘çš„æœ€å¤§é«˜åº¦å·®ä¸º1ï¼Œå› æ­¤å®ƒä¹Ÿè¢«ç§°ä¸ºé«˜åº¦å¹³è¡¡æ ‘ã€‚æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤åœ¨å¹³å‡å’Œæœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯Oï¼ˆlogNï¼‰ã€‚å¢åŠ å’Œåˆ é™¤å…ƒç´ çš„æ“ä½œåˆ™å¯èƒ½éœ€è¦å€Ÿç”±ä¸€æ¬¡æˆ–å¤šæ¬¡æ ‘æ—‹è½¬ï¼Œä»¥å®ç°æ ‘çš„é‡æ–°å¹³è¡¡ã€‚AVLæ ‘å¾—åäºå®ƒçš„å‘æ˜è€…G.M. Adelson-Velskyå’ŒEvgenii Landisï¼Œä»–ä»¬åœ¨1962å¹´çš„è®ºæ–‡ã€ŠAn algorithm forthe organization of informationã€‹ä¸­å…¬å¼€äº†è¿™ä¸€æ•°æ®ç»“æ„ã€‚</p><p><strong>å¹³è¡¡äºŒå‰æ ‘çš„æ€§è´¨</strong></p><p>å¹³è¡¡äºŒå‰æ ‘æœ¬è´¨ä¸Šæ˜¯ç‰¹æ®Šçš„äºŒå‰æœç´¢æ ‘ï¼ˆäºŒå‰æ’åºæ ‘ï¼‰ï¼Œå®ƒå…·æœ‰äºŒå‰æœç´¢æ ‘æ‰€æœ‰çš„ç‰¹ç‚¹ï¼Œæ­¤å¤–å®ƒæœ‰è‡ªå·±çš„ç‰¹åˆ«çš„æ€§è´¨ï¼Œå¦‚ä¸‹ï¼š</p><ul><li>å®ƒæ˜¯ä¸€æ£µç©ºæ ‘æˆ–å®ƒçš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1ï¼›</li><li>å¹³è¡¡äºŒå‰æ ‘çš„å·¦å³ä¸¤ä¸ªå­æ ‘éƒ½æ˜¯ä¸€æ£µå¹³è¡¡äºŒå‰æ ‘ã€‚</li></ul><p>å¹³è¡¡å› å­æŒ‡çš„æ˜¯ï¼Œå¹³è¡¡äºŒå‰æ ‘åœ¨ä¿æŒå¹³è¡¡çš„æ—¶å€™ï¼Œæ˜¯é€šè¿‡å¹³è¡¡å› å­æ¥åˆ¤æ–­çš„</p><p><span class="math display">\[èŠ‚ç‚¹çš„å¹³è¡¡å› å­ = è¯¥èŠ‚ç‚¹çš„å·¦å­æ ‘çš„é«˜åº¦ -è¯¥èŠ‚ç‚¹å³å­æ ‘çš„é«˜åº¦\]</span></p><p>åªæœ‰å½“å€¼ç­‰äº-1ï¼ˆå³å­æ ‘çš„é«˜åº¦å¤§ï¼‰ï¼Œ0ï¼ˆå·¦å³å­æ ‘çš„é«˜åº¦ç›¸ç­‰ï¼‰ï¼Œ1ï¼ˆå·¦å­æ ‘çš„é«˜åº¦å¤§ï¼‰çš„æ—¶å€™ï¼Œèƒ½å¤Ÿä»£è¡¨è¯¥å­æ ‘æ˜¯å¹³è¡¡çš„é™¤æ­¤ä¹‹å¤–ï¼Œå°±è®¤ä¸ºè¯¥èŠ‚ç‚¹å·²ç»å¤±è¡¡äº†ï¼Œéœ€è¦æ—‹è½¬æ¥ç»´æŒå¹³è¡¡ã€‚</p><h2 id="äºŒå‰æ ‘çš„éå†">äºŒå‰æ ‘çš„éå†</h2><p>äºŒå‰æ ‘çš„éå†æ˜¯å¯¹äºç†è§£äºŒå‰æ ‘ä»¥åŠåº”å¯¹äºŒå‰æ ‘é—®é¢˜å¿…ä¸å¯å°‘çš„å› ç´ ï¼Œç”šè‡³æœ‰å¾ˆå¤šç®—æ³•é—®é¢˜éƒ½æ˜¯åŸºäºäºŒå‰æ ‘çš„ä¸åŒéå†ç®—æ³•æ¥åšçš„ã€‚</p><p>äºŒå‰æ ‘çš„éå†æœ‰å¤šç§å®ç°æ–¹å¼ï¼Œä¸åŒçš„æ–¹å¼è¿™é‡Œéƒ½è¦ç†Ÿç»ƒæŒæ¡ï¼Œåªæœ‰ç†Ÿç»ƒæŒæ¡ä¸åŒçš„éå†æ–¹å¼æ‰èƒ½ä»¥ä¸å˜åº”ä¸‡å˜æ¥åº”å¯¹ä¸åŒçš„é—®é¢˜ã€‚</p><h3 id="é€’å½’æ³•">é€’å½’æ³•</h3><p>å¾ˆç®€å•ï¼Œä¸éœ€è¦å¤šè¯´ï¼ŒäºŒå‰æ ‘çš„å‰åºã€ä¸­åºã€ååºéå†å…¶å®éƒ½æ˜¯ä¸€ä¸ªæ¨¡æ¿ï¼ŒåŒºåˆ«åœ¨äºå®ƒä»¬å°†å½“å‰èŠ‚ç‚¹å€¼æ·»åŠ åˆ°ç»“æœæ•°ç»„<code>res</code>çš„æ—¶é—´ä¸ä¸€æ ·ï¼Œè€Œè¿™ç§åŒºåˆ«æ˜¯ç”±ä¸åŒéå†æ–¹å¼ä¸‹çˆ¶èŠ‚ç‚¹ä¸å­èŠ‚ç‚¹çš„éå†æ¬¡åºå¯¼è‡´çš„ã€‚</p><h4 id="å‰åºéå†">å‰åºéå†</h4><p>ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for a binary tree node.</span><br><span class="hljs-comment"> * struct TreeNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     TreeNode *left;</span><br><span class="hljs-comment"> *     TreeNode *right;</span><br><span class="hljs-comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">inorderTraversal</span><span class="hljs-params">(TreeNode* root)</span></span><br><span class="hljs-function"></span>&#123;<br>    vector&lt;<span class="hljs-type">int</span>&gt; res;<br>    <span class="hljs-built_in">oreOrder</span>(root, res);<br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">preOrder</span><span class="hljs-params">(TreeNode *root, vector&lt;<span class="hljs-type">int</span>&gt; &amp;res)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">nullptr</span>)<br>        <span class="hljs-keyword">return</span> ;<br>    res.<span class="hljs-built_in">emplace_back</span>(res -&gt; val, res);<br>    <span class="hljs-built_in">preOrder</span>(root -&gt; left);<br>    <span class="hljs-built_in">preOrder</span>(root -&gt; right, res);<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(n)\)</span>,å…¶ä¸­ <spanclass="math inline">\(n\)</span>æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚æ¯ä¸€ä¸ªèŠ‚ç‚¹æ°å¥½è¢«éå†ä¸€æ¬¡ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<spanclass="math inline">\(O(n)\)</span>ï¼Œä¸ºè¿­ä»£è¿‡ç¨‹ä¸­æ˜¾å¼æ ˆçš„å¼€é”€ï¼Œå¹³å‡æƒ…å†µä¸‹ä¸º<span class="math inline">\(O(\log n)\)</span>ï¼Œæœ€åæƒ…å†µä¸‹æ ‘å‘ˆç°é“¾çŠ¶ï¼Œä¸º<span class="math inline">\(O(n)\)</span>ã€‚</li></ul><h4 id="ä¸­åºéå†">ä¸­åºéå†</h4><p>ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for a binary tree node.</span><br><span class="hljs-comment"> * struct TreeNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     TreeNode *left;</span><br><span class="hljs-comment"> *     TreeNode *right;</span><br><span class="hljs-comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">inorderTraversal</span><span class="hljs-params">(TreeNode* root)</span></span><br><span class="hljs-function"></span>&#123;<br>    vector&lt;<span class="hljs-type">int</span>&gt; res;<br>    <span class="hljs-built_in">inOrder</span>(root, res);<br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">inOrder</span><span class="hljs-params">(TreeNode* root, vector&lt;<span class="hljs-type">int</span>&gt; &amp;res)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">nullptr</span>)<br>        <span class="hljs-keyword">return</span> ;<br>    <span class="hljs-built_in">inOrder</span>(root -&gt; left, res);<br>    res.<span class="hljs-built_in">emplace_back</span>(root -&gt; val);<br>    <span class="hljs-built_in">inOrder</span>(root -&gt; right, res);<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(n)\)</span>,å…¶ä¸­ <spanclass="math inline">\(n\)</span>æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚æ¯ä¸€ä¸ªèŠ‚ç‚¹æ°å¥½è¢«éå†ä¸€æ¬¡ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<spanclass="math inline">\(O(n)\)</span>ï¼Œä¸ºè¿­ä»£è¿‡ç¨‹ä¸­æ˜¾å¼æ ˆçš„å¼€é”€ï¼Œå¹³å‡æƒ…å†µä¸‹ä¸º<span class="math inline">\(O(\log n)\)</span>ï¼Œæœ€åæƒ…å†µä¸‹æ ‘å‘ˆç°é“¾çŠ¶ï¼Œä¸º<span class="math inline">\(O(n)\)</span>ã€‚</li></ul><h4 id="ååºéå†">ååºéå†</h4><p>ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for a binary tree node.</span><br><span class="hljs-comment"> * struct TreeNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     TreeNode *left;</span><br><span class="hljs-comment"> *     TreeNode *right;</span><br><span class="hljs-comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">postorderTraversal</span><span class="hljs-params">(TreeNode* root)</span></span><br><span class="hljs-function"></span>&#123;<br>    vector&lt;<span class="hljs-type">int</span>&gt; res;<br>    <span class="hljs-built_in">postOrder</span>(root, res);<br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">postOrder</span><span class="hljs-params">(TreeNode* root, vector&lt;<span class="hljs-type">int</span>&gt; &amp;res)</span></span><br><span class="hljs-function"></span>&#123; <br>    <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">nullptr</span>)<br>        <span class="hljs-keyword">return</span> ;<br>    <span class="hljs-built_in">postOrder</span>(root -&gt; left, res);<br>    <span class="hljs-built_in">postOrder</span>(root -&gt; right, res);<br>    res.<span class="hljs-built_in">emplace_back</span>(root -&gt; val);<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(n)\)</span>,å…¶ä¸­ <spanclass="math inline">\(n\)</span>æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚æ¯ä¸€ä¸ªèŠ‚ç‚¹æ°å¥½è¢«éå†ä¸€æ¬¡ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<spanclass="math inline">\(O(n)\)</span>ï¼Œä¸ºè¿­ä»£è¿‡ç¨‹ä¸­æ˜¾å¼æ ˆçš„å¼€é”€ï¼Œå¹³å‡æƒ…å†µä¸‹ä¸º<span class="math inline">\(O(\log n)\)</span>ï¼Œæœ€åæƒ…å†µä¸‹æ ‘å‘ˆç°é“¾çŠ¶ï¼Œä¸º<span class="math inline">\(O(n)\)</span>ã€‚</li></ul><h3 id="è¿­ä»£æ³•">è¿­ä»£æ³•</h3><h4 id="å‰åºéå†-1">å‰åºéå†</h4><p>ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for a binary tree node.</span><br><span class="hljs-comment"> * struct TreeNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     TreeNode *left;</span><br><span class="hljs-comment"> *     TreeNode *right;</span><br><span class="hljs-comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">preorderTraversal</span><span class="hljs-params">(TreeNode* root)</span></span><br><span class="hljs-function"></span>&#123;<br>    vector&lt;<span class="hljs-type">int</span>&gt; res;<br>    <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">nullptr</span>)<br>        <span class="hljs-keyword">return</span> res;<br>    stack&lt;TreeNode*&gt; stk;<br>    TreeNode* cur = root;<br>    <span class="hljs-keyword">while</span>(!stk.<span class="hljs-built_in">empty</span>() || cur != <span class="hljs-literal">nullptr</span>)<br>    &#123;<br>        <span class="hljs-keyword">while</span>(cur != <span class="hljs-literal">nullptr</span>)<br>        &#123;<br>            res.<span class="hljs-built_in">emplace_back</span>(cur -&gt; val);<br>            stk.<span class="hljs-built_in">emplace</span>(cur);<br>            cur = cur -&gt; left;<br>        &#125;<br>        cur = stk.<span class="hljs-built_in">top</span>();<br>        stk.<span class="hljs-built_in">pop</span>();<br>        cur = cur -&gt; right;<br>    &#125;<br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(n)\)</span>,å…¶ä¸­ <spanclass="math inline">\(n\)</span>æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚æ¯ä¸€ä¸ªèŠ‚ç‚¹æ°å¥½è¢«éå†ä¸€æ¬¡ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<spanclass="math inline">\(O(n)\)</span>ï¼Œä¸ºè¿­ä»£è¿‡ç¨‹ä¸­æ˜¾å¼æ ˆçš„å¼€é”€ï¼Œå¹³å‡æƒ…å†µä¸‹ä¸º<span class="math inline">\(O(\log n)\)</span>ï¼Œæœ€åæƒ…å†µä¸‹æ ‘å‘ˆç°é“¾çŠ¶ï¼Œä¸º<span class="math inline">\(O(n)\)</span>ã€‚</li></ul><h4 id="ä¸­åºéå†-1">ä¸­åºéå†</h4><p>ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for a binary tree node.</span><br><span class="hljs-comment"> * struct TreeNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     TreeNode *left;</span><br><span class="hljs-comment"> *     TreeNode *right;</span><br><span class="hljs-comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">inorderTraversal</span><span class="hljs-params">(TreeNode* root)</span></span><br><span class="hljs-function"></span>&#123;<br>    vector&lt;<span class="hljs-type">int</span>&gt; res;<br>    <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">nullptr</span>)<br>        <span class="hljs-keyword">return</span> res;<br>    TreeNode* cur = root;<br>    stack&lt;TreeNode*&gt; stk;<br>    <span class="hljs-keyword">while</span>(!stk.<span class="hljs-built_in">empty</span>() || cur != <span class="hljs-literal">nullptr</span>)<br>    &#123;<br>        <span class="hljs-keyword">while</span>(cur != <span class="hljs-literal">nullptr</span>)<br>        &#123;<br>            stk.<span class="hljs-built_in">emplace</span>(cur);<br>            cur = cur -&gt; left;<br>        &#125;<br>        cur = stk.<span class="hljs-built_in">top</span>();<br>        stk.<span class="hljs-built_in">pop</span>();<br>        res.<span class="hljs-built_in">emplace_back</span>(cur -&gt; val);<br>        cur = cur -&gt; right;<br>    &#125;<br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(n)\)</span>,å…¶ä¸­ <spanclass="math inline">\(n\)</span>æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚æ¯ä¸€ä¸ªèŠ‚ç‚¹æ°å¥½è¢«éå†ä¸€æ¬¡ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<spanclass="math inline">\(O(n)\)</span>ï¼Œä¸ºè¿­ä»£è¿‡ç¨‹ä¸­æ˜¾å¼æ ˆçš„å¼€é”€ï¼Œå¹³å‡æƒ…å†µä¸‹ä¸º<span class="math inline">\(O(\log n)\)</span>ï¼Œæœ€åæƒ…å†µä¸‹æ ‘å‘ˆç°é“¾çŠ¶ï¼Œä¸º<span class="math inline">\(O(n)\)</span>ã€‚</li></ul><h4 id="ååºéå†-1">ååºéå†</h4><p>è¿­ä»£æ³•çš„ååºéå†ç›¸æ¯”è¾ƒå‰åºéå†å’Œä¸­åºéå†æ˜¯è¦éº»çƒ¦ä¸€äº›çš„ã€‚</p><p>ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for a binary tree node.</span><br><span class="hljs-comment"> * struct TreeNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     TreeNode *left;</span><br><span class="hljs-comment"> *     TreeNode *right;</span><br><span class="hljs-comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">postorderTraversal</span><span class="hljs-params">(TreeNode* root)</span> </span><br><span class="hljs-function"></span>&#123;<br>    vector&lt;<span class="hljs-type">int</span>&gt; res;<br>    <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">nullptr</span>)<br>        <span class="hljs-keyword">return</span> res;<br>    stack&lt;TreeNode*&gt; stk;<br>    TreeNode* cur = root, * pre = <span class="hljs-literal">nullptr</span>;<br>    <span class="hljs-comment">// stk.emplace(cur);</span><br>    <span class="hljs-keyword">while</span>(!stk.<span class="hljs-built_in">empty</span>() || cur != <span class="hljs-literal">nullptr</span>)<br>    &#123;<br>        <span class="hljs-keyword">while</span>(cur != <span class="hljs-literal">nullptr</span>)<br>        &#123;<br>            stk.<span class="hljs-built_in">emplace</span>(cur);<br>            cur = cur -&gt; left;<br>        &#125;<br>        cur = stk.<span class="hljs-built_in">top</span>();<br>        stk.<span class="hljs-built_in">pop</span>();<br>        <span class="hljs-keyword">if</span>(cur -&gt; right != <span class="hljs-literal">nullptr</span> &amp;&amp; cur -&gt; right != pre)<br>        &#123;<br>            stk.<span class="hljs-built_in">emplace</span>(cur);   <span class="hljs-comment">// è‹¥å³å­©å­å­˜åœ¨ä¸”æ²¡æœ‰éå†è¿‡é‚£ä¹ˆå°†curé‡æ–°å‹æ ˆï¼Œè®¿é—®å³å­æ ‘</span><br>            cur = cur -&gt; right;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            res.<span class="hljs-built_in">emplace_back</span>(cur -&gt; val);<br>            pre = cur;<br>            cur = <span class="hljs-literal">nullptr</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> res;<br>    <br>    <br>&#125;<br></code></pre></td></tr></table></figure><p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(n)\)</span>,å…¶ä¸­ <spanclass="math inline">\(n\)</span>æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚æ¯ä¸€ä¸ªèŠ‚ç‚¹æ°å¥½è¢«éå†ä¸€æ¬¡ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<spanclass="math inline">\(O(n)\)</span>ï¼Œä¸ºè¿­ä»£è¿‡ç¨‹ä¸­æ˜¾å¼æ ˆçš„å¼€é”€ï¼Œå¹³å‡æƒ…å†µä¸‹ä¸º<span class="math inline">\(O(\log n)\)</span>ï¼Œæœ€åæƒ…å†µä¸‹æ ‘å‘ˆç°é“¾çŠ¶ï¼Œä¸º<span class="math inline">\(O(n)\)</span>ã€‚</li></ul><h3 id="morrisæ³•">Morrisæ³•</h3><p>Morrisæ³•åªå ç”¨å¸¸æ•°ç©ºé—´æ¥å®ç°å‰åºéå†ã€‚è¿™ç§æ–¹æ³•ç”± J. H. Morris åœ¨ 1979å¹´çš„è®ºæ–‡ã€ŒTraversing Binary Trees Simply andCheaplyã€ä¸­é¦–æ¬¡æå‡ºï¼Œå› æ­¤è¢«ç§°ä¸º Morris éå†ã€‚</p><h4 id="å‰åºéå†-2">å‰åºéå†</h4><p>Morriséå†çš„æ ¸å¿ƒæ€æƒ³æ˜¯åˆ©ç”¨æ ‘çš„å¤§é‡ç©ºé—²æŒ‡é’ˆï¼Œå®ç°ç©ºé—´å¼€é”€çš„æé™ç¼©å‡ã€‚å…¶å‰åºéå†è§„åˆ™æ€»ç»“å¦‚ä¸‹ï¼ˆå‡è®¾å½“å‰éå†åˆ°çš„èŠ‚ç‚¹ä¸º<code>cur</code>ï¼‰:</p><ol type="1"><li>å¦‚æœ<code>cur</code>çš„å·¦å­èŠ‚ç‚¹ä¸ºç©ºï¼Œå°†<code>cur</code>åŠ å…¥ç­”æ¡ˆï¼Œå¹¶éå†<code>cur</code>çš„å³å­èŠ‚ç‚¹ï¼›</li><li>å¦‚æœ<code>cur</code>çš„å·¦å­èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œåœ¨<code>cur</code>çš„å·¦å­æ ‘ä¸­æ‰¾åˆ°<code>cur</code>åœ¨ä¸­åºéå†ä¸‹çš„å‰é©±èŠ‚ç‚¹ï¼š<ul><li>å¦‚æœå‰é©±èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ä¸ºç©ºï¼Œå°†å‰é©±èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹è®¾ç½®ä¸º<code>cur</code>,ç„¶åå°†<code>cur</code>åŠ å…¥ç­”æ¡ˆã€‚<code>cur</code>æ›´æ–°ä¸º<code>cur</code>çš„å·¦å­èŠ‚ç‚¹ã€‚</li><li>å¦‚æœå‰é©±èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ä¸ç©ºï¼Œä¹Ÿå°±æ˜¯å‰é©±èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ä¸º<code>cur</code>ï¼Œè¯´æ˜æˆ‘ä»¬å·²ç»éå†å®Œ<code>cur</code>çš„å·¦å­æ ‘ã€‚<code>cur</code>æ›´æ–°ä¸º<code>cur</code>çš„å³å­èŠ‚ç‚¹ã€‚</li></ul></li><li>é‡å¤æ­¥éª¤ 1 å’Œæ­¥éª¤ 2ï¼Œç›´åˆ°éå†ç»“æŸã€‚</li></ol><p>è¿™æ ·æˆ‘ä»¬åˆ©ç”¨ Morriséå†çš„æ–¹æ³•ï¼Œå‰åºéå†è¯¥äºŒå‰æ ‘ï¼Œå³å¯å®ç°çº¿æ€§æ—¶é—´ä¸å¸¸æ•°ç©ºé—´çš„éå†ã€‚</p><p>ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for a binary tree node.</span><br><span class="hljs-comment"> * struct TreeNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     TreeNode *left;</span><br><span class="hljs-comment"> *     TreeNode *right;</span><br><span class="hljs-comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br> <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">preorderTraversal</span><span class="hljs-params">(TreeNode* root)</span></span><br><span class="hljs-function"> </span>&#123;<br>    vector&lt;<span class="hljs-type">int</span>&gt; res;<br>    <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">nullptr</span>)<br>        <span class="hljs-keyword">return</span> res;<br>    TreeNode* cur = root, * pre;<br>    <span class="hljs-keyword">while</span>(cur != <span class="hljs-literal">nullptr</span>)<br>    &#123;<br>        pre = cur -&gt; left;<br>        <span class="hljs-keyword">if</span>(pre == <span class="hljs-literal">nullptr</span>)      <span class="hljs-comment">// å·¦å­èŠ‚ç‚¹ä¸ºç©ºç›´æ¥å°†valåŠ å…¥resä¸­</span><br>        &#123;<br>            res.<span class="hljs-built_in">emplace_back</span>(cur -&gt; val);<br>        &#125;<br>        <span class="hljs-keyword">else</span>        <span class="hljs-comment">// å·¦å­èŠ‚ç‚¹ä¸ä¸ºç©ºå¯»æ‰¾curçš„å‰é©±èŠ‚ç‚¹</span><br>        &#123;<br>            <span class="hljs-keyword">while</span>(pre -&gt; right != <span class="hljs-literal">nullptr</span> &amp;&amp; pre -&gt; right != cur)<br>                pre = pre -&gt; right;<br>            <span class="hljs-keyword">if</span>(pre -&gt; right == <span class="hljs-literal">nullptr</span>) <span class="hljs-comment">// å‰é©±èŠ‚ç‚¹å³æŒ‡é’ˆä¸ºç©ºè¯´æ˜è¿˜æ²¡æœ‰éå†è¿‡curçš„å·¦å­æ ‘</span><br>            &#123;<br>                res.<span class="hljs-built_in">emplace_back</span>(cur -&gt; val);<br>                pre -&gt; right = cur;<br>                cur = cur -&gt; left;<br>                <span class="hljs-keyword">continue</span>;<br>            &#125;  <br>            <span class="hljs-keyword">else</span>        <span class="hljs-comment">// å¦åˆ™è¯´æ˜å·²ç»éå†è¿‡curçš„å·¦å­æ ‘ï¼Œå°†å‰é©±èŠ‚ç‚¹å³æŒ‡é’ˆé‡æ–°è®¾ç½®ä¸ºç©º</span><br>            &#123;<br>                pre -&gt; right = <span class="hljs-literal">nullptr</span>;<br>            &#125;<br>        &#125;<br>        cur = cur -&gt; right;<br>    &#125;<br>    <span class="hljs-keyword">return</span> res;<br> &#125;<br></code></pre></td></tr></table></figure><p><strong>å¤æ‚åº¦åˆ†æ</strong>ï¼š</p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(n)\)</span>ï¼Œå…¶ä¸­ <spanclass="math inline">\(n\)</span>æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚æ²¡æœ‰å·¦å­æ ‘çš„èŠ‚ç‚¹åªè¢«è®¿é—®ä¸€æ¬¡ï¼Œæœ‰å·¦å­æ ‘çš„èŠ‚ç‚¹è¢«è®¿é—®ä¸¤æ¬¡ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<spanclass="math inline">\(O(1)\)</span>ã€‚åªæ“ä½œå·²ç»å­˜åœ¨çš„æŒ‡é’ˆï¼ˆæ ‘çš„ç©ºé—²æŒ‡é’ˆï¼‰ï¼Œå› æ­¤åªéœ€è¦å¸¸æ•°çš„é¢å¤–ç©ºé—´ã€‚</li></ul><h4 id="ä¸­åºéå†-2">ä¸­åºéå†</h4><p>Morrisæ³•çš„ä¸­åºéå†ä¸å‰åºéå†çš„æ€æƒ³æ˜¯ç›¸åŒçš„ï¼Œä¸åŒçš„æ˜¯åœ¨å½“å‰èŠ‚ç‚¹çš„å·¦å­©å­å­˜åœ¨æ—¶çš„å¤„ç†æ–¹å¼ä¸åŒï¼Œæ€è·¯å¦‚ä¸‹ï¼ˆå‡è®¾å½“å‰éå†åˆ°çš„èŠ‚ç‚¹ä¸º<code>cur</code>ï¼‰ï¼š</p><ol type="1"><li>å¦‚æœ<code>cur</code>çš„å·¦å­èŠ‚ç‚¹ä¸ºç©ºï¼Œå°†<code>cur</code>åŠ å…¥ç­”æ¡ˆï¼Œå¹¶éå†<code>cur</code>çš„å³å­èŠ‚ç‚¹ï¼›</li><li>å¦‚æœ<code>cur</code>çš„å·¦å­èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œåœ¨<code>cur</code>çš„å·¦å­æ ‘ä¸­æ‰¾åˆ°<code>cur</code>åœ¨ä¸­åºéå†ä¸‹çš„å‰é©±èŠ‚ç‚¹ï¼š<ul><li>å¦‚æœå‰é©±èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ä¸ºç©ºï¼Œå°†å‰é©±èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹è®¾ç½®ä¸º<code>cur</code>ã€‚<code>cur</code>æ›´æ–°ä¸º<code>cur</code>çš„å·¦å­èŠ‚ç‚¹ã€‚</li><li>å¦‚æœå‰é©±èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ä¸ç©ºï¼Œä¹Ÿå°±æ˜¯å‰é©±èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ä¸º<code>cur</code>ï¼Œè¯´æ˜æˆ‘ä»¬å·²ç»éå†å®Œ<code>cur</code>çš„å·¦å­æ ‘ï¼Œå°†å®ƒçš„å³å­èŠ‚ç‚¹é‡æ–°è®¾ä¸ºç©ºï¼Œç„¶åå°†å½“<code>cur</code>åŠ å…¥ç­”æ¡ˆã€‚ç„¶åå°†<code>cur</code>æ›´æ–°ä¸º<code>cur</code>çš„å³å­èŠ‚ç‚¹ã€‚</li></ul></li><li>é‡å¤æ­¥éª¤ 1 å’Œæ­¥éª¤ 2ï¼Œç›´åˆ°éå†ç»“æŸã€‚</li></ol><p>ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for a binary tree node.</span><br><span class="hljs-comment"> * struct TreeNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     TreeNode *left;</span><br><span class="hljs-comment"> *     TreeNode *right;</span><br><span class="hljs-comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br> <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">inorderTraversal</span><span class="hljs-params">(TreeNode* root)</span></span><br><span class="hljs-function"> </span>&#123;<br>    vector&lt;<span class="hljs-type">int</span>&gt; res;<br>    <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">nullptr</span>)<br>        <span class="hljs-keyword">return</span> res;<br>    TreeNode* cur = root,* pre = <span class="hljs-literal">nullptr</span>;<br>    <span class="hljs-keyword">while</span>(cur != <span class="hljs-literal">nullptr</span>)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(cur -&gt; left == <span class="hljs-literal">nullptr</span>)  <span class="hljs-comment">// å·¦å­èŠ‚ç‚¹ä¸ºç©ºç›´æ¥éå†å³å­æ ‘</span><br>        &#123;<br>            res.<span class="hljs-built_in">emplace_back</span>(cur -&gt; val);<br>            cur = cur -&gt; right;<br>        &#125;<br>        <span class="hljs-keyword">else</span>    <span class="hljs-comment">// å·¦å­èŠ‚ç‚¹ä¸ä¸ºç©ºå¯»æ‰¾curçš„å‰é©±èŠ‚ç‚¹</span><br>        &#123;<br>            pre = cur -&gt; left;<br>            <span class="hljs-keyword">while</span>(pre -&gt; right != <span class="hljs-literal">nullptr</span> &amp;&amp; pre -&gt; right != cur)<br>                pre = pre -&gt; right;<br>            <span class="hljs-keyword">if</span>(pre -&gt; right == <span class="hljs-literal">nullptr</span>) <span class="hljs-comment">// å‰é©±èŠ‚ç‚¹å³æŒ‡é’ˆä¸ºç©ºè¯´æ˜è¿˜æ²¡æœ‰éå†è¿‡curçš„å·¦å­æ ‘</span><br>            &#123;<br>                pre -&gt; right = cur;<br>                cur = cur -&gt; left;<br>            &#125;<br>            <span class="hljs-keyword">else</span>    <span class="hljs-comment">// å¦åˆ™è¯´æ˜å·²ç»éå†è¿‡curçš„å·¦å­æ ‘ï¼Œå°†å‰é©±èŠ‚ç‚¹å³æŒ‡é’ˆé‡æ–°è®¾ç½®ä¸ºç©º</span><br>            &#123;<br>                pre -&gt; right = <span class="hljs-literal">nullptr</span>;<br>                res.<span class="hljs-built_in">emplace_back</span>(cur -&gt; val);<br>                cur = cur -&gt; right;<br>            &#125;<br>        &#125; <br>    &#125;<br>    <span class="hljs-keyword">return</span> res;<br> &#125;<br></code></pre></td></tr></table></figure><p>å¤æ‚åº¦åˆ†æï¼š</p><ul><li>å…¶ä¸­ <span class="math inline">\(n\)</span>ä¸ºäºŒå‰æœç´¢æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚Morriséå†ä¸­æ¯ä¸ªèŠ‚ç‚¹ä¼šè¢«è®¿é—®ä¸¤æ¬¡ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦ä¸º <spanclass="math inline">\(O(2n)=O(n)\)</span>ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(1)\)</span>ã€‚</li></ul><h4 id="ååºéå†-2">ååºéå†</h4><p>åç»­éå†æ€è·¯ä¾ç„¶åŒä¸Šï¼Œä¸åŒçš„ä»ç„¶æ˜¯æŠŠ<code>cur</code>åŠ å…¥ç­”æ¡ˆçš„æ—¶æœºï¼Œæ€è·¯å¦‚ä¸‹ï¼š</p><ol type="1"><li>å¦‚æœ<code>cur</code>çš„å·¦å­èŠ‚ç‚¹ä¸ºç©ºï¼Œéå†<code>cur</code>çš„å³å­èŠ‚ç‚¹ï¼›</li><li>å¦‚æœ<code>cur</code>çš„å·¦å­èŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œåœ¨<code>cur</code>çš„å·¦å­æ ‘ä¸­æ‰¾åˆ°<code>cur</code>åœ¨ä¸­åºéå†ä¸‹çš„å‰é©±èŠ‚ç‚¹ï¼š<ul><li>å¦‚æœå‰é©±èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ä¸ºç©ºï¼Œå°†å‰é©±èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹è®¾ç½®ä¸º<code>cur</code>ã€‚<code>cur</code>æ›´æ–°ä¸º<code>cur</code>çš„å·¦å­èŠ‚ç‚¹ã€‚</li><li>å¦‚æœå‰é©±èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ä¸ç©ºï¼Œä¹Ÿå°±æ˜¯å‰é©±èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ä¸º<code>cur</code>ï¼Œè¯´æ˜æˆ‘ä»¬å·²ç»éå†å®Œ<code>cur</code>çš„å·¦å­æ ‘ï¼Œå°†å®ƒçš„å³å­èŠ‚ç‚¹é‡æ–°è®¾ä¸ºç©ºã€‚å€’åºè¾“å‡ºä»å½“å‰èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹åˆ°è¯¥å‰é©±èŠ‚ç‚¹è¿™æ¡è·¯å¾„ä¸Šçš„æ‰€æœ‰èŠ‚ç‚¹ã€‚ç„¶åå°†<code>cur</code>æ›´æ–°ä¸º<code>cur</code>çš„å³å­èŠ‚ç‚¹ã€‚</li></ul></li></ol><p>ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for a binary tree node.</span><br><span class="hljs-comment"> * struct TreeNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     TreeNode *left;</span><br><span class="hljs-comment"> *     TreeNode *right;</span><br><span class="hljs-comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br><br> <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">addPath</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt; &amp;res, TreeNode* root)</span></span><br><span class="hljs-function"> </span>&#123;<br>    <span class="hljs-type">int</span> count = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(root != <span class="hljs-literal">nullptr</span>)<br>    &#123;<br>        res.<span class="hljs-built_in">emplace_back</span>(root -&gt; val);<br>        root = root -&gt; right;<br>        count++;<br>    &#125;<br>    <span class="hljs-built_in">reverse</span>(res.<span class="hljs-built_in">end</span>() - count, res.<span class="hljs-built_in">end</span>());<br> &#125;<br><br> <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">postorderTraversal</span><span class="hljs-params">(TreeNode *root)</span> </span><br><span class="hljs-function"> </span>&#123;<br>    vector&lt;<span class="hljs-type">int</span>&gt; res;<br>    <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">nullptr</span>)<br>        <span class="hljs-keyword">return</span> res;<br><br>    TreeNode* cur = root, * pre = <span class="hljs-literal">nullptr</span>;<br>    <span class="hljs-keyword">while</span>(cur != <span class="hljs-literal">nullptr</span>)<br>    &#123;<br>        pre = cur -&gt; left;<br>        <span class="hljs-keyword">if</span>(pre != <span class="hljs-literal">nullptr</span>)  <span class="hljs-comment">// å·¦å­©å­ä¸ç©ºå¯»æ‰¾curå·¦å­æ ‘çš„å‰é©±èŠ‚ç‚¹</span><br>        &#123;<br>            <span class="hljs-keyword">while</span>(pre -&gt; right != <span class="hljs-literal">nullptr</span> &amp;&amp; pre -&gt; right != cur)<br>                pre = pre -&gt; right;<br>            <span class="hljs-keyword">if</span>(pre -&gt; right == <span class="hljs-literal">nullptr</span>)     <span class="hljs-comment">// ä¸ºç©ºè¯´æ˜å·¦å­æ ‘å°šæœªéå†ï¼Œå°†preçš„å³å­©å­æ›´æ–°ä¸ºcur</span><br>            &#123;<br>                pre -&gt; right = cur;<br>                cur = cur -&gt; left;<br>                <span class="hljs-keyword">continue</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span>        <span class="hljs-comment">// å¦åˆ™è¯´æ˜å·¦å­æ ‘å·²ç»éå†ï¼Œå°†preå³å­©å­é‡æ–°ç½®ç©º</span><br>            &#123;<br>                pre -&gt; right = <span class="hljs-literal">nullptr</span>;<br>                <span class="hljs-built_in">addPath</span>(res, cur -&gt; left);<br>                cur = cur -&gt; right;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">else</span>    <span class="hljs-comment">// å·¦å­©å­ä¸ºç©ºç›´æ¥è®¿é—®å³å­æ ‘</span><br>            cur = cur -&gt; right;<br>    &#125;<br>    <span class="hljs-built_in">addPath</span>(res, root); <span class="hljs-comment">// rootèŠ‚ç‚¹æ²¡æœ‰parentï¼Œæ‰€ä»¥rootéœ€è¦å•ç‹¬addPath</span><br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>Morrisçš„åç»­éå†å…¶å®å°±æ˜¯ä¸æ–­æŠŠcurèŠ‚ç‚¹å·¦å­©å­åˆ°å…¶å‰é©±èŠ‚ç‚¹å€’åºè¾“å‡ºçš„è¿‡ç¨‹ï¼Œæ‰€ä»¥ç”±äºrootèŠ‚ç‚¹æ²¡æœ‰parentï¼Œæœ€åè¦å†å•ç‹¬å¯¹rootèŠ‚ç‚¹è°ƒç”¨<code>addPath</code>ã€‚</strong></p><p>å¤æ‚åº¦åˆ†æï¼š</p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(n)\)</span>ï¼Œå…¶ä¸­ <spanclass="math inline">\(n\)</span>æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚æ²¡æœ‰å·¦å­æ ‘çš„èŠ‚ç‚¹åªè¢«è®¿é—®ä¸€æ¬¡ï¼Œæœ‰å·¦å­æ ‘çš„èŠ‚ç‚¹è¢«è®¿é—®ä¸¤æ¬¡ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<spanclass="math inline">\(O(1)\)</span>ã€‚åªæ“ä½œå·²ç»å­˜åœ¨çš„æŒ‡é’ˆï¼ˆæ ‘çš„ç©ºé—²æŒ‡é’ˆï¼‰ï¼Œå› æ­¤åªéœ€è¦å¸¸æ•°çš„é¢å¤–ç©ºé—´ã€‚</li></ul><p>ä¸Šé¢è¿™ç§è§£æ³•æ˜¯leetcodeçš„å®˜æ–¹è§£æ³•ï¼Œè¿™é‡Œæˆ‘è¿˜æœ‰å¦å¤–ä¸€ç§æ€è·¯ï¼Œå¦‚ä¸Šé¢æ‰€è¯´ï¼Œ<strong>Morrisçš„åç»­éå†å…¶å®å°±æ˜¯ä¸æ–­æŠŠcurèŠ‚ç‚¹å·¦å­©å­åˆ°å…¶å‰é©±èŠ‚ç‚¹å€’åºè¾“å‡ºçš„è¿‡ç¨‹ï¼Œé‚£ä¹ˆæ˜¯å¦å¯ä»¥é‡‡ç”¨Morrisçš„æ–¹æ³•å°†è¾“å‡ºé¡ºåºæ”¹ä¸º<code>cur</code>ã€<code>cur</code>çš„å³å­©å­ã€<code>cur</code>çš„å·¦å­©å­ï¼Œåœ¨è¾“å‡ºå®Œä¹‹åå†ç»Ÿä¸€å¯¹<code>res</code>è¿›è¡Œç¿»è½¬ï¼Ÿ</strong></p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for a binary tree node.</span><br><span class="hljs-comment"> * struct TreeNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     TreeNode *left;</span><br><span class="hljs-comment"> *     TreeNode *right;</span><br><span class="hljs-comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">postorderTraversal</span><span class="hljs-params">(TreeNode *root)</span> </span><br><span class="hljs-function"></span>&#123;<br>    vector&lt;<span class="hljs-type">int</span>&gt; res;<br>    <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">nullptr</span>)<br>        <span class="hljs-keyword">return</span> res;<br>    TreeNode* cur = root, * pre = <span class="hljs-literal">nullptr</span>;<br>    <span class="hljs-keyword">while</span>(cur != <span class="hljs-literal">nullptr</span>) <br>    &#123;<br>        <br>        pre = cur -&gt; right;<br>        <span class="hljs-keyword">if</span>(pre == <span class="hljs-literal">nullptr</span>)  <span class="hljs-comment">// curå³å­©å­ä¸ºç©ºï¼Œç›´æ¥å°†curåŠ å…¥ç­”æ¡ˆå¹¶è®¿é—®å·¦å­æ ‘</span><br>        &#123;<br>            res.<span class="hljs-built_in">emplace_back</span>(cur -&gt; val);<br>            cur = cur -&gt; left;<br>        &#125;<br>        <span class="hljs-keyword">else</span>    <span class="hljs-comment">// å¦åˆ™å¯»æ‰¾ `çˆ¶å³å·¦` éå†æ¨¡å¼ä¸‹çš„å‰é©±èŠ‚ç‚¹</span><br>        &#123;<br>            <span class="hljs-keyword">while</span>(pre -&gt; left != <span class="hljs-literal">nullptr</span> &amp;&amp; pre -&gt; left != cur)<br>                pre = pre -&gt; left;<br>            <span class="hljs-keyword">if</span>(pre -&gt; left == <span class="hljs-literal">nullptr</span>)  <span class="hljs-comment">// ä¸ºç©ºè¯´æ˜å³å­æ ‘å°šæœªéå†</span><br>            &#123;<br>                res.<span class="hljs-built_in">emplace_back</span>(cur -&gt; val);<br>                pre -&gt; left = cur;<br>                cur = cur -&gt; right;<br>                <span class="hljs-keyword">continue</span>;<br>            &#125;       <br>            <span class="hljs-keyword">else</span>    <span class="hljs-comment">// å¦åˆ™è¯´æ˜å³å­æ ‘å·²ç»éå†</span><br>            &#123;<br>                pre -&gt; left = <span class="hljs-literal">nullptr</span>;<br>                cur = cur -&gt; left;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">reverse</span>(res.<span class="hljs-built_in">begin</span>(), res.<span class="hljs-built_in">end</span>());    <span class="hljs-comment">// ç¿»è½¬æ•°ç»„</span><br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¤æ‚åº¦åˆ†æï¼š</p><ul><li>æ—¶é—´å¤æ‚åº¦ï¼š<span class="math inline">\(O(n)\)</span>ï¼Œå…¶ä¸­ <spanclass="math inline">\(n\)</span>æ˜¯äºŒå‰æ ‘çš„èŠ‚ç‚¹æ•°ã€‚æ²¡æœ‰å³å­æ ‘çš„èŠ‚ç‚¹åªè¢«è®¿é—®ä¸€æ¬¡ï¼Œæœ‰å³å­æ ‘çš„èŠ‚ç‚¹è¢«è®¿é—®ä¸¤æ¬¡ï¼Œæœ€åç¿»è½¬æ•°ç»„ã€‚</li><li>ç©ºé—´å¤æ‚åº¦ï¼š<spanclass="math inline">\(O(1)\)</span>ã€‚åªæ“ä½œå·²ç»å­˜åœ¨çš„æŒ‡é’ˆï¼ˆæ ‘çš„ç©ºé—²æŒ‡é’ˆï¼‰ï¼Œå› æ­¤åªéœ€è¦å¸¸æ•°çš„é¢å¤–ç©ºé—´ã€‚</li></ul><h2 id="äºŒå‰æ ‘é—®é¢˜çš„å°trick">äºŒå‰æ ‘é—®é¢˜çš„å°trick</h2><p>äºŒå‰æ ‘ä¸­æœ‰ä¸€ç±»é—®é¢˜å…¶å®å¥—è·¯æ˜¯å›ºå®šçš„ï¼Œè™½ç„¶ä¸åŒé—®é¢˜è¦æ±‚çš„ä¸œè¥¿ä¸ä¸€æ ·ï¼Œä½†æ˜¯ä»”ç»†åˆ†æä¼šå‘ç°ï¼Œå…¶å®å®ƒä»¬ç”¨åˆ°çš„å¥—è·¯æ˜¯ä¸€æ ·çš„ã€‚<strong>å½“ä¸€ä¸ªé—®é¢˜çš„ç»“æœéœ€è¦æ ‘çš„å·¦å³å­æ ‘ä¹Ÿæ»¡è¶³æ¡ä»¶ï¼Œä¸”æ¯å±‚å­æ ‘éœ€è¦è¿”å›çš„å‚æ•°ä¸€æ ·æ—¶ï¼Œä¾¿å¯ä»¥ç”¨åˆ°é€’å½’å¥—è·¯ã€‚</strong></p><h3id="ä¸€æ£µå­æ ‘ä¸Šçš„ç‚¹åœ¨æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—å³å…ˆåºéå†ä¸­æ˜¯è¿ç»­çš„">ä¸€æ£µå­æ ‘ä¸Šçš„ç‚¹åœ¨æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ï¼ˆå³å…ˆåºéå†ï¼‰ä¸­æ˜¯è¿ç»­çš„</h3><p>å¯ä»¥é‡‡ç”¨è¿™ä¸ªå¥—è·¯æ¥æ±‚è§£ä¸€ä¸ªæ ‘æ˜¯å¦æ˜¯å¦ä¸€ä¸ªæ ‘çš„å­æ ‘ï¼Œä½†æ˜¯ä½†ä»ä¸€ä¸ªæ ‘<code>s</code>çš„dfséå†æ˜¯å¦æ˜¯å¦ä¸€ä¸ªæ ‘<code>t</code>çš„dfséå†çš„å­—ä¸²å¹¶ä¸èƒ½åˆ¤æ–­å‡ºæ˜¯å¦æ˜¯å­æ ‘ï¼Œæ‰€ä»¥æƒ³è¦é€šè¿‡dfsçš„åºåˆ—åˆ¤æ–­sæ˜¯å¦æ˜¯tçš„å­æ ‘ï¼Œè¿˜éœ€è¦åšä¸€äº›é¢å¤–çš„å¤„ç†ã€‚</p><p>å¯ä»¥é€šè¿‡å¼•å…¥ä¸¤ä¸ªç©ºå€¼ <code>lNull</code> å’Œ<code>rNull</code>ï¼Œå½“ä¸€ä¸ªèŠ‚ç‚¹çš„å·¦å­©å­æˆ–è€…å³å­©å­ä¸ºç©ºçš„æ—¶å€™ï¼Œå°±æ’å…¥è¿™ä¸¤ä¸ªç©ºå€¼ï¼Œè¿™æ ·æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—å°±å”¯ä¸€å¯¹åº”ä¸€æ£µæ ‘ã€‚å¤„ç†å®Œä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡åˆ¤æ–­ã€Œ<code>s</code>çš„æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—åŒ…å«<code>t</code>çš„æ·±åº¦ä¼˜å…ˆæœç´¢åºåˆ—ã€æ¥åˆ¤æ–­<code>s</code>æ˜¯å¦æ˜¯<code>t</code>çš„å­æ ‘ã€‚</p><p>è¿™é‡Œåˆ¤æ–­<code>s</code>çš„éå†åºåˆ—æ˜¯å¦æ˜¯<code>t</code>éå†åºåˆ—çš„å­ä¸²å¯ä»¥ç”¨KMPç®—æ³•æˆ–Rabin-Karpç®—æ³•</p><h3 id="ååºéå†è¿­ä»£æ³•">ååºéå†è¿­ä»£æ³•</h3><p>é‡‡ç”¨è¿­ä»£æ³•çš„ååºéå†ï¼Œå³ä¸Šè¾¹ç”¨æ ˆçš„æ–¹æ³•ï¼Œå½“éå†åˆ°èŠ‚ç‚¹ <spanclass="math inline">\(p\)</span> æ—¶ï¼Œæ ˆä¸­çš„èŠ‚ç‚¹åˆšå¥½æ˜¯ <spanclass="math inline">\(p\)</span>çš„ç¥–å…ˆèŠ‚ç‚¹ï¼Œæ‰€ä»¥æ­¤æ—¶å°†æ ˆä¸­èŠ‚ç‚¹ä¾æ¬¡å¼¹å‡ºä¾¿å¾—åˆ° <spanclass="math inline">\(p\)</span> çš„ç¥–å…ˆèŠ‚ç‚¹çš„å€’åºã€‚</p><h3 id="éªŒè¯äºŒå‰æœç´¢æ ‘">éªŒè¯äºŒå‰æœç´¢æ ‘</h3><p><strong>é—®é¢˜</strong>ï¼šç»™ä½ ä¸€ä¸ªäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ <code>root</code>ï¼Œåˆ¤æ–­å…¶æ˜¯å¦æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„äºŒå‰æœç´¢æ ‘ã€‚</p><p><strong>åˆ†æ</strong>ï¼šå¦‚ä½•åˆ¤æ–­ä¸€ä¸ªäºŒå‰æ ‘æ˜¯å¦æ˜¯äºŒå‰æœç´¢æ ‘ï¼Ÿå®ƒéœ€è¦æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼š</p><ol type="1"><li>å®ƒçš„å·¦å­æ ‘å’Œå³å­æ ‘éƒ½æ˜¯äºŒå‰æœç´¢æ ‘ï¼›</li><li>å®ƒçš„èŠ‚ç‚¹å€¼å¤§äºå·¦å­æ ‘çš„æœ€å¤§å€¼ä¸”å°äºå³å­æ ‘çš„æœ€å°å€¼ã€‚</li></ol><p>é‚£ä¹ˆä»ä»¥ä¸Šä¸¤ç‚¹å‡ºå‘ï¼Œå°±å¯ä»¥æ„é€ ä¸€ä¸ªé€’å½’å¥—è·¯ï¼Œæ¯å±‚éœ€è¦å‘ä¸Šå±‚è¿”å›è‡ªå·±è¿™é¢—æ ‘æ˜¯å¦æ˜¯äºŒå‰æœç´¢æ ‘ï¼Œå¦‚æœä¸æ˜¯é‚£ä¹ˆæ•´ä¸ªæ ‘ä¸€å®šä¸æ˜¯äºŒå‰æœç´¢æ ‘ï¼›åŒæ—¶è¿˜è¦å‘ä¸Šå±‚è¿”å›è‡ªå·±è¿™é¢—å­æ ‘çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚</p><p>ä»£ç ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for a binary tree node.</span><br><span class="hljs-comment"> * struct TreeNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     TreeNode *left;</span><br><span class="hljs-comment"> *     TreeNode *right;</span><br><span class="hljs-comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">isValidBST</span><span class="hljs-params">(TreeNode* root)</span> </span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">isBST</span>(root, LONG_MIN, LONG_MAX);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">isBST</span><span class="hljs-params">(TreeNode * root, <span class="hljs-type">long</span> lower, <span class="hljs-type">long</span> upper)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">nullptr</span>) <span class="hljs-comment">// base case</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">if</span>(root -&gt; val &gt;= upper || root -&gt; val &lt;= lower)<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">isBST</span>(root -&gt; left, lower, root -&gt; val) &amp;&amp; <span class="hljs-built_in">isBST</span>(root -&gt; right, root -&gt; val, upper);<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œæ˜¯åå‘æ€ç»´ï¼Œè‹¥<code>cur</code>çš„å€¼éœ€è¦å¤§äºå·¦å­æ ‘æœ€å¤§å€¼å¹¶ä¸”å°äºå³å­æ ‘æœ€å°å€¼ï¼Œé‚£ä¹ˆå°±ç­‰ä»·äºè®©å®ƒçš„å·¦å­æ ‘åˆ¤æ–­å…¶æœ€å¤§å€¼æ˜¯å¦å°äº<code>cur</code>å€¼ä»¥åŠ<code>cur</code>å³å­æ ‘åˆ¤æ–­å…¶æœ€å°å€¼æ˜¯å¦å¤§äº<code>cur</code>å€¼.</p><h3 id="éªŒè¯å¹³è¡¡äºŒå‰æ ‘">éªŒè¯å¹³è¡¡äºŒå‰æ ‘</h3><p><strong>é—®é¢˜</strong>:ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼Œåˆ¤æ–­å®ƒæ˜¯å¦æ˜¯é«˜åº¦å¹³è¡¡çš„äºŒå‰æ ‘ã€‚</p><p><strong>åˆ†æ</strong>:ä¸€ä¸ªäºŒå‰æ ‘æ˜¯å¹³è¡¡äºŒå‰æ ‘,é‚£ä¹ˆå®ƒå¿…ç„¶æ»¡è¶³å®ƒçš„å·¦å³å­æ ‘éƒ½æ˜¯å¹³è¡¡äºŒå‰æ ‘,ä¸”å·¦å³å­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸å¤§äº1.é‚£ä¹ˆå°±åˆå¯ä»¥ä»¥ç›¸ä¼¼çš„æ–¹å¼æ„é€ é€’å½’,æ¯æ¬¡éœ€è¦å‘ä¸Šå±‚è¿”å›çš„å‚æ•°æœ‰:</p><ul><li>å½“å‰å­æ ‘æ˜¯å¦æ˜¯å¹³è¡¡äºŒå‰æ ‘</li><li>å½“å‰å­æ ‘çš„æ·±åº¦</li></ul><p>ä»£ç :</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for a binary tree node.</span><br><span class="hljs-comment"> * struct TreeNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     TreeNode *left;</span><br><span class="hljs-comment"> *     TreeNode *right;</span><br><span class="hljs-comment"> *     TreeNode() : val(0), left(nullptr), right(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">isBalanced</span><span class="hljs-params">(TreeNode* root)</span> </span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-type">int</span> height;<br>    <span class="hljs-type">bool</span> is_balance;<br>    <span class="hljs-built_in">isBalancedTree</span>(root, is_balance, height);<br>    <span class="hljs-keyword">return</span> is_balance;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">isBalancedTree</span><span class="hljs-params">(TreeNode* root, <span class="hljs-type">bool</span> &amp;is_balance, <span class="hljs-type">int</span> &amp;height)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(root == <span class="hljs-literal">nullptr</span>)<br>    &#123;<br>        is_balance = <span class="hljs-literal">true</span>;<br>        height = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">return</span> ;<br>    &#125;<br>    <span class="hljs-type">bool</span> left_balance, right_balance;<br>    <span class="hljs-type">int</span> left_height, right_height;<br>    <span class="hljs-built_in">isBalancedTree</span>(root -&gt; left, left_balance, left_height);<br>    <span class="hljs-built_in">isBalancedTree</span>(root -&gt; right, right_balance, right_height);<br>    <span class="hljs-keyword">if</span>(!left_balance || !right_balance || <span class="hljs-built_in">abs</span>(left_height - right_height) &gt; <span class="hljs-number">1</span>)<br>        is_balance = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">else</span><br>        is_balance = <span class="hljs-literal">true</span>;<br>    height = <span class="hljs-built_in">max</span>(left_height, right_height) + <span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="å®Œå…¨äºŒå‰æ ‘çš„ç¬¬kä¸ªèŠ‚ç‚¹">å®Œå…¨äºŒå‰æ ‘çš„ç¬¬kä¸ªèŠ‚ç‚¹</h3><p>è§„å®šæ ¹èŠ‚ç‚¹ä½äºç¬¬ <span class="math inline">\(0\)</span>å±‚ï¼Œå®Œå…¨äºŒå‰æ ‘çš„æœ€å¤§å±‚æ•°ä¸º <spanclass="math inline">\(h\)</span>ã€‚æ ¹æ®å®Œå…¨äºŒå‰æ ‘çš„ç‰¹æ€§å¯çŸ¥ï¼Œå®Œå…¨äºŒå‰æ ‘çš„æœ€å·¦è¾¹çš„èŠ‚ç‚¹ä¸€å®šä½äºæœ€åº•å±‚ï¼Œå› æ­¤ä»æ ¹èŠ‚ç‚¹å‡ºå‘ï¼Œæ¯æ¬¡è®¿é—®å·¦å­èŠ‚ç‚¹ï¼Œç›´åˆ°é‡åˆ°å¶å­èŠ‚ç‚¹ï¼Œè¯¥å¶å­èŠ‚ç‚¹å³ä¸ºå®Œå…¨äºŒå‰æ ‘çš„æœ€å·¦è¾¹çš„èŠ‚ç‚¹ï¼Œç»è¿‡çš„è·¯å¾„é•¿åº¦å³ä¸ºæœ€å¤§å±‚æ•°<span class="math inline">\(h\)</span>ã€‚</p><p>å½“ <span class="math inline">\(0 \le i &lt; h\)</span> æ—¶ï¼Œç¬¬ <spanclass="math inline">\(i\)</span> å±‚åŒ…å« <spanclass="math inline">\(2^i\)</span> ä¸ªèŠ‚ç‚¹ï¼Œæœ€åº•å±‚åŒ…å«çš„èŠ‚ç‚¹æ•°æœ€å°‘ä¸º<span class="math inline">\(1\)</span>ï¼Œæœ€å¤šä¸º <spanclass="math inline">\(2^h\)</span>ã€‚</p><p>å› æ­¤å¯¹äºæœ€å¤§å±‚æ•°ä¸º hhh çš„å®Œå…¨äºŒå‰æ ‘ï¼ŒèŠ‚ç‚¹ä¸ªæ•°ä¸€å®šåœ¨ <spanclass="math inline">\([2^h,2^{h+1}-1]\)</span>çš„èŒƒå›´å†…ï¼Œå¯ä»¥åœ¨è¯¥èŒƒå›´å†…é€šè¿‡äºŒåˆ†æŸ¥æ‰¾çš„æ–¹å¼å¾—åˆ°å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚</p><p>å¦‚ä½•åˆ¤æ–­ç¬¬ <span class="math inline">\(k\)</span>ä¸ªèŠ‚ç‚¹æ˜¯å¦å­˜åœ¨å‘¢ï¼Ÿå¦‚æœç¬¬ <span class="math inline">\(k\)</span>ä¸ªèŠ‚ç‚¹ä½äºç¬¬ <span class="math inline">\(h\)</span> å±‚ï¼Œåˆ™ <spanclass="math inline">\(k\)</span> çš„äºŒè¿›åˆ¶è¡¨ç¤ºåŒ…å« <spanclass="math inline">\(h+1\)</span> ä½ï¼Œå…¶ä¸­æœ€é«˜ä½æ˜¯ <spanclass="math inline">\(1\)</span>ï¼Œå…¶ä½™å„ä½ä»é«˜åˆ°ä½è¡¨ç¤ºä»æ ¹èŠ‚ç‚¹åˆ°ç¬¬ <spanclass="math inline">\(k\)</span> ä¸ªèŠ‚ç‚¹çš„è·¯å¾„ï¼Œ<spanclass="math inline">\(0\)</span> è¡¨ç¤ºç§»åŠ¨åˆ°å·¦å­èŠ‚ç‚¹ï¼Œ<spanclass="math inline">\(1\)</span> è¡¨ç¤ºç§»åŠ¨åˆ°å³å­èŠ‚ç‚¹ã€‚é€šè¿‡ä½è¿ç®—å¾—åˆ°ç¬¬<span class="math inline">\(k\)</span>ä¸ªèŠ‚ç‚¹å¯¹åº”çš„è·¯å¾„ï¼Œåˆ¤æ–­è¯¥è·¯å¾„å¯¹åº”çš„èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨ï¼Œå³å¯åˆ¤æ–­ç¬¬ <spanclass="math inline">\(k\)</span> ä¸ªèŠ‚ç‚¹æ˜¯å¦å­˜åœ¨ã€‚</p><p><img src="/img/ç®—æ³•/äºŒå‰æ ‘/å®Œå…¨äºŒå‰æ ‘ç¬¬kä¸ªèŠ‚ç‚¹.png" /></p><p>é‚£ä¹ˆå¦‚ä½•ä¾æ¬¡åˆ¤æ–­kçš„å„ä¸ªäºŒè¿›åˆ¶ä½æ˜¯å¦ä¸º1å‘¢ï¼Ÿè¿™é‡Œéœ€è¦ä¸€ä¸ª<spanclass="math inline">\(bits = 2^{h-1}\)</span>ï¼Œ<spanclass="math inline">\(h\)</span>ä¸ºè¦æŸ¥æ‰¾èŠ‚ç‚¹æ‰€åœ¨å±‚æ•°(æ³¨æ„æ ¹èŠ‚ç‚¹æ˜¯0å±‚),æ¯”å¦‚ç°åœ¨è¦æŸ¥æ‰¾<spanclass="math inline">\(8\)</span>è¿™ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆ<spanclass="math inline">\(bits = 2^{3 - 1} = 0100\)</span>,è€Œ<spanclass="math inline">\(8\)</span>çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ˜¯<spanclass="math inline">\(1000\)</span>,ç”¨<spanclass="math inline">\(bits\)</span> &amp; <spanclass="math inline">\(1000 = 0\)</span>ï¼Œæ‰€ä»¥å‘å·¦å­æ ‘èµ°ï¼Œç„¶åå°†<spanclass="math inline">\(bits\)</span>å·¦ç§»ä¸€ä½ï¼Œå†ä¸<spanclass="math inline">\(8\)</span>ï¼ˆä¹Ÿå°±æ˜¯<spanclass="math inline">\(1000\)</span>ï¼‰ç›¸ä¸å¾—åˆ°<spanclass="math inline">\(0010 \&amp; 1000 =0\)</span>,ç»§ç»­å‘å·¦å­æ ‘ç§»åŠ¨ï¼Œé‡å¤ä¸Šé¢æ“ä½œï¼Œä¸€ç›´åˆ°<spanclass="math inline">\(bits\)</span>ä¸º<spanclass="math inline">\(0\)</span>ä¸ºæ­¢ï¼Œæ­¤æ—¶èŠ‚ç‚¹è‹¥ä¸ä¸ºç©ºï¼Œé‚£ä¹ˆå°±æ˜¯ç¬¬<spanclass="math inline">\(8\)</span>ä¸ªèŠ‚ç‚¹ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•°æ®ç»“æ„ä¸ç®—æ³•</tag>
      
      <tag>leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>C++ STL-unordered_mapä¸­è‡ªå®šä¹‰å“ˆå¸Œå‡½æ•°</title>
    <link href="/2023/02/24/Cpp-STL-unordered_map%E8%87%AA%E5%AE%9A%E4%B9%89%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0/"/>
    <url>/2023/02/24/Cpp-STL-unordered_map%E8%87%AA%E5%AE%9A%E4%B9%89%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h2id="unordered_mapä¸­è‡ªå®šä¹‰å“ˆå¸Œå‡½æ•°">unordered_mapä¸­è‡ªå®šä¹‰å“ˆå¸Œå‡½æ•°</h2><p>å†…å®¹è½¬è½½è‡ª<ahref="https://blog.csdn.net/qq_34525916/article/details/115896842">c++unordered_setï¼Œunordered_mapä¸­è‡ªå®šä¹‰å“ˆå¸Œå‡½æ•°</a></p><p>å¦‚æœæƒ³ç”¨å“ˆå¸Œçš„æ—¶å€™ï¼Œä½†æ˜¯å“ˆå¸Œçš„ç›®æ ‡åˆä¸å†STLæ ‡å‡†çš„ç±»å‹å†…ï¼Œæ¯”å¦‚ä¸€ä¸ªè‡ªå®šä¹‰çš„classï¼Œå°±ä¸å¤ªæ–¹ä¾¿ä½¿ç”¨STLé»˜è®¤çš„å“ˆå¸Œå‡½æ•°ï¼Œæ¯”è¾ƒå‡½æ•°ï¼Œé‚£ä¹ˆå°±éœ€è¦é‡å†™äº†ã€‚</p><p><strong>å°†è‡ªå®šä¹‰ç±»å‹ä½œä¸ºunordered_mapçš„é”®å€¼ï¼Œéœ€å¦‚ä¸‹ä¸¤ä¸ªæ­¥éª¤</strong>ï¼š</p><ol type="1"><li>å®šä¹‰è‡ªå®šä¹‰keyçš„å“ˆå¸Œå‡½æ•°çš„å‡½æ•°å¯¹è±¡ï¼Œå‘ŠçŸ¥æ­¤å®¹å™¨å¦‚ä½•ç”Ÿæˆhashçš„å€¼ï¼›</li><li>å®šä¹‰ç­‰æ¯”å‡½æ•°çš„å‡½æ•°å¯¹è±¡æˆ–è€…åœ¨è‡ªå®šä¹‰ç±»é‡Œé‡è½½operator==()ï¼Œå‘ŠçŸ¥å®¹å™¨å½“å‡ºç°hashå†²çªçš„æ—¶å€™ï¼Œå¦‚ä½•åŒºåˆ†hashå€¼ç›¸åŒçš„ä¸åŒå¯¹è±¡ã€‚</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unordered_set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unordered_map&gt;</span></span><br><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Line</span>&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-type">int</span> k;<br>    <span class="hljs-type">int</span> b;<br>    <span class="hljs-built_in">Line</span>(<span class="hljs-type">int</span> d1, <span class="hljs-type">int</span> d2)&#123;<br>       k = d1;<br>       b = d2;<br>    &#125;<br>    <span class="hljs-type">bool</span> <span class="hljs-keyword">operator</span>==(<span class="hljs-type">const</span> Line&amp; other)<span class="hljs-type">const</span>&#123;<span class="hljs-comment">//é‡è½½operator==(),è‹¥æ²¡æœ‰é‡è½½==åˆ™å®šä¹‰ unordered_map æ—¶éœ€è¦isEqual</span><br>        <span class="hljs-keyword">return</span> other.k ==k &amp;&amp; other.b == b;<br>    &#125;<br>&#125;;<br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">createhash</span> &#123;<br>    <span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">( <span class="hljs-type">const</span>  Line l)</span> <span class="hljs-type">const</span> <span class="hljs-comment">// size_t</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-comment">//return size_t(l.k ^ l.b);//è‡ªå®šä¹‰å“ˆå¸Œ</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">hash</span>&lt;<span class="hljs-type">int</span>&gt;()(l.k) ^  <span class="hljs-built_in">hash</span>&lt;<span class="hljs-type">int</span>&gt;()(l.b);<br>    &#125;<br><br>&#125;;<br><br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">isEqual</span> &#123;<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">( <span class="hljs-type">const</span> Line l1, <span class="hljs-type">const</span> Line l2)</span> <span class="hljs-type">const</span><span class="hljs-comment">//æœ€åçš„constä¸èƒ½å°‘</span></span><br><span class="hljs-function">    </span>&#123;<br>       <span class="hljs-keyword">return</span> l1.k == l2.k &amp;&amp; l1.b == l2.b; <br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-comment">//unordered_map&lt;Line ,int , createhash, isEqual&gt; mm;//è‹¥ä½¿ç”¨è¿™ç§æ–¹å¼,Lineç±»ä¸­ä¸éœ€è¦é‡è½½==</span><br>    unordered_map&lt;Line ,<span class="hljs-type">int</span> , createhash&gt; mm; <br>    mm.<span class="hljs-built_in">insert</span>(&#123;<span class="hljs-built_in">Line</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>),<span class="hljs-number">1</span>&#125;);<br>    mm.<span class="hljs-built_in">insert</span>(&#123;<span class="hljs-built_in">Line</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>),<span class="hljs-number">2</span>&#125;);<br>    <span class="hljs-keyword">auto</span> success = mm.<span class="hljs-built_in">insert</span>(&#123;<span class="hljs-built_in">Line</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>),<span class="hljs-number">2</span>&#125;);<br>    <span class="hljs-keyword">if</span>(success.second == <span class="hljs-literal">false</span>)<br>        std::cout&lt;&lt;<span class="hljs-string">&quot;mm insert failed &quot;</span>&lt;&lt;std::endl;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> ele : mm)<br>    &#123;<br>        std::cout&lt;&lt; ele.first.k&lt;&lt;<span class="hljs-string">&quot;  &quot;</span> &lt;&lt;ele.first.b&lt;&lt;std::endl; <br><br>    &#125;<br><br>    <span class="hljs-comment">//unordered_set&lt;Line, createhash&gt; ms;</span><br>    unordered_set&lt;Line, createhash, isEqual&gt; ms;<span class="hljs-comment">//è‹¥ä½¿ç”¨è¿™ç§æ–¹å¼,Lineç±»ä¸­ä¸éœ€è¦é‡è½½==</span><br>    ms.<span class="hljs-built_in">insert</span>(<span class="hljs-built_in">Line</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>));<br>    <span class="hljs-keyword">auto</span> it = ms.<span class="hljs-built_in">insert</span>(<span class="hljs-built_in">Line</span>(<span class="hljs-number">2</span>,<span class="hljs-number">3</span>));<br>    <span class="hljs-keyword">if</span>(it.second == <span class="hljs-literal">false</span>)<br>       std::cout&lt;&lt;<span class="hljs-string">&quot;ms insert failed &quot;</span>&lt;&lt;std::endl; <br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> ele : ms)<br>    &#123;<br>        std::cout&lt;&lt; ele.k&lt;&lt;<span class="hljs-string">&quot;  &quot;</span> &lt;&lt;ele.b&lt;&lt;std::endl; <br><br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="å“ˆå¸Œè¡¨å†…éƒ¨ä¼ é€’æ–¹å¼å’Œå†…å­˜å ç”¨">å“ˆå¸Œè¡¨å†…éƒ¨ä¼ é€’æ–¹å¼å’Œå†…å­˜å ç”¨</h3><ol type="1"><li>æ”¾å…¥å“ˆå¸Œè¡¨çš„keyï¼Œå¦‚æœæ˜¯åŸºç¡€ç±»å‹ï¼Œå†…éƒ¨æŒ‰å€¼ä¼ é€’ï¼Œå†…å­˜å ç”¨å°±æ˜¯è¿™ä¸ªä¸œè¥¿çš„å¤§å°ã€‚</li><li>æ”¾å…¥å“ˆå¸Œè¡¨çš„keyï¼Œå¦‚æœä¸æ˜¯åŸºç¡€ç±»å‹ï¼Œå†…éƒ¨æŒ‰å¼•ç”¨ä¼ é€’ï¼Œå†…å­˜å ç”¨æ˜¯è¿™ä¸ªä¸œè¥¿å†…å­˜åœ°å€çš„å¤§å°ã€‚</li></ol>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
      <tag>STL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>C++ lambdaå‡½æ•°ç”¨æ³•</title>
    <link href="/2023/02/24/Cpp-lambda%E7%94%A8%E6%B3%95/"/>
    <url>/2023/02/24/Cpp-lambda%E7%94%A8%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<p>Lambdaè¡¨è¾¾å¼ï¼ˆä¹Ÿå«lambdaå‡½æ•°ï¼Œæˆ–ç®€ç§°lambdaï¼‰ï¼Œæ˜¯ä»C++11å¼€å§‹å¼•å…¥å¹¶ä¸æ–­å®Œå–„çš„ï¼Œæ˜¯èƒ½å¤Ÿæ•è·ä½œç”¨åŸŸä¸­å˜é‡çš„åŒ¿åå‡½æ•°å¯¹è±¡ã€‚å› ä¸ºC++æ˜¯ä¸èƒ½åµŒå¥—å®šä¹‰å‡½æ•°çš„ï¼Œæ‰€ä»¥lambdaå°±æˆäº†æˆ‘ä»¬æ„é€ é—­åŒ…çš„ä¸»è¦æ‰‹æ®µï¼Œä¸è¿‡åœ¨å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸä¸Šè¿˜æ˜¯æœ‰ç‚¹ä¸åŒã€‚</p><h2 id="lambdaåŸºæœ¬è¯­æ³•">LambdaåŸºæœ¬è¯­æ³•</h2><figure><img src="/img/C++/lambda/lambdaåŸºæœ¬è¯­æ³•.png" alt="lambdaåŸºæœ¬è¯­æ³•" /><figcaption aria-hidden="true">lambdaåŸºæœ¬è¯­æ³•</figcaption></figure><p>å½“å®šä¹‰ä¸€ä¸ªlambdaæ—¶ï¼Œç¼–è¯‘å™¨ç”Ÿæˆä¸€ä¸ªä¸lambdaå¯¹åº”çš„æ–°çš„ï¼ˆæœªå‘½åçš„ï¼‰ç±»ç±»å‹ã€‚ä¸‹é¢å¯¹é‡è¦çš„ç»„æˆéƒ¨åˆ†è¿›è¡Œè¯´æ˜ï¼š</p><h3 id="æ•è·åˆ—è¡¨">æ•è·åˆ—è¡¨</h3><p><strong>å€¼æ•è·</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">func</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> i = <span class="hljs-number">100</span>;<span class="hljs-comment">//å±€éƒ¨å˜é‡</span><br><span class="hljs-comment">//å°†iæ‹·è´åˆ°æ˜ä½fçš„å¯è°ƒç”¨å¯¹è±¡</span><br><span class="hljs-keyword">auto</span> f = [i] &#123; <span class="hljs-keyword">return</span> i; &#125;;<br>i = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> j = <span class="hljs-built_in">f</span>(); <span class="hljs-comment">//j=100,å› ä¸ºiæ˜¯åˆ›å»ºæ—¶æ‹·è´çš„</span><br>&#125;<br></code></pre></td></tr></table></figure><p><strong>å¼•ç”¨æ•è·</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">func</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> i = <span class="hljs-number">100</span>;<span class="hljs-comment">//å±€éƒ¨å˜é‡</span><br><span class="hljs-comment">//å°†iæ‹·è´åˆ°æ˜ä½fçš„å¯è°ƒç”¨å¯¹è±¡</span><br><span class="hljs-keyword">auto</span> f = [&amp;i] &#123; <span class="hljs-keyword">return</span> i; &#125;;<br>i = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> j = <span class="hljs-built_in">f</span>(); <span class="hljs-comment">//j=0, å› ä¸ºä¼ é€’çš„æ˜¯å¼•ç”¨</span><br>&#125;<br></code></pre></td></tr></table></figure><p>é™¤äº†è‡ªå·±åˆ—å‡ºæ•è·åˆ—è¡¨çš„å˜é‡ï¼Œè¿˜å¯ä»¥è®©ç¼–è¯‘å™¨æ ¹æ®lambdaä¸­ä»£ç æ¥æ¨æ–­æˆ‘ä»¬è¦ä½¿ç”¨å“ªäº›å˜é‡ï¼ˆéšå¼æ•è·ï¼‰ï¼Œç”¨è¿‡ä½¿ç”¨&amp;æˆ–=æŒ‡ç¤ºç¼–è¯‘å™¨æ¨æ–­æ•è·åˆ—è¡¨ã€‚&amp;åˆ™é‡‡ç”¨å¼•ç”¨æ•è·çš„æ–¹å¼ï¼Œ=åˆ™é‡‡ç”¨å€¼æ•è·çš„æ–¹å¼ã€‚æ··åˆä½¿ç”¨éšå¼æ•è·å’Œæ˜¾ç¤ºæ•è·ï¼Œåˆ™ä¸¤è€…é¡»ä½¿ç”¨ä¸åŒçš„æ–¹å¼ï¼Œä¸€ä¸ªä¸ºå¼•ç”¨æ•è·ï¼Œä¸€ä¸ªä¸ºå€¼æ•è·ã€‚</p><p><strong>lambdaæ•è·åˆ—è¡¨ï¼š</strong></p><ul><li>[ ]ã€‚ç©ºæ•è·åˆ—è¡¨ï¼Œlambdaä¸èƒ½ä½¿ç”¨æ‰€åœ¨å‡½æ•°ä¸­çš„å˜é‡ã€‚</li><li>[=]ã€‚å‡½æ•°ä½“å†…å¯ä»¥ä½¿ç”¨Lambdaæ‰€åœ¨ä½œç”¨èŒƒå›´å†…æ‰€æœ‰å¯è§çš„å±€éƒ¨å˜é‡ï¼ˆåŒ…æ‹¬Lambdaæ‰€åœ¨ç±»çš„thisï¼‰ï¼Œå¹¶ä¸”æ˜¯å€¼ä¼ é€’æ–¹å¼ï¼ˆç›¸å½“äºç¼–è¯‘å™¨è‡ªåŠ¨ä¸ºæˆ‘ä»¬æŒ‰å€¼ä¼ é€’äº†æ‰€æœ‰å±€éƒ¨å˜é‡ï¼‰ã€‚</li><li>[&amp;]ã€‚å‡½æ•°ä½“å†…å¯ä»¥ä½¿ç”¨Lambdaæ‰€åœ¨ä½œç”¨èŒƒå›´å†…æ‰€æœ‰å¯è§çš„å±€éƒ¨å˜é‡ï¼ˆåŒ…æ‹¬Lambdaæ‰€åœ¨ç±»çš„thisï¼‰ï¼Œå¹¶ä¸”æ˜¯å¼•ç”¨ä¼ é€’æ–¹å¼ï¼ˆç›¸å½“äºç¼–è¯‘å™¨è‡ªåŠ¨ä¸ºæˆ‘ä»¬æŒ‰å¼•ç”¨ä¼ é€’äº†æ‰€æœ‰å±€éƒ¨å˜é‡ï¼‰ã€‚</li><li>[this]ã€‚å‡½æ•°ä½“å†…å¯ä»¥ä½¿ç”¨Lambdaæ‰€åœ¨ç±»ä¸­çš„æˆå‘˜å˜é‡ã€‚</li><li>[a]ã€‚å°†aæŒ‰å€¼è¿›è¡Œä¼ é€’ã€‚æŒ‰å€¼è¿›è¡Œä¼ é€’æ—¶ï¼Œå‡½æ•°ä½“å†…ä¸èƒ½ä¿®æ”¹ä¼ é€’è¿›æ¥çš„açš„æ‹·è´ï¼Œå› ä¸ºé»˜è®¤æƒ…å†µä¸‹å‡½æ•°æ˜¯constçš„ã€‚è¦ä¿®æ”¹ä¼ é€’è¿›æ¥çš„açš„æ‹·è´ï¼Œå¯ä»¥æ·»åŠ mutableä¿®é¥°ç¬¦ã€‚</li><li>[&amp;a]ã€‚å°†aæŒ‰å¼•ç”¨è¿›è¡Œä¼ é€’ã€‚</li><li>[=ï¼Œ&amp;a,&amp;b]ã€‚é™¤aå’ŒbæŒ‰å¼•ç”¨è¿›è¡Œä¼ é€’å¤–ï¼Œå…¶ä»–å‚æ•°éƒ½æŒ‰å€¼è¿›è¡Œä¼ é€’ã€‚</li><li>[&amp;, a, b]ã€‚é™¤aå’ŒbæŒ‰å€¼è¿›è¡Œä¼ é€’å¤–ï¼Œå…¶ä»–å‚æ•°éƒ½æŒ‰å¼•ç”¨è¿›è¡Œä¼ é€’ã€‚</li></ul><p><strong>æ‚¬å‚å¼•ç”¨ï¼š</strong></p><p>è‹¥ä»¥å¼•ç”¨éšå¼æˆ–æ˜¾å¼æ•è·éå¼•ç”¨å®ä½“ï¼Œè€Œåœ¨è¯¥å®ä½“çš„ç”Ÿå­˜æœŸç»“æŸä¹‹åè°ƒç”¨lambdaå¯¹è±¡çš„å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦ï¼Œåˆ™å‘ç”Ÿæœªå®šä¹‰è¡Œä¸ºã€‚C++çš„é—­åŒ…å¹¶ä¸å»¶é•¿è¢«æ•è·çš„å¼•ç”¨çš„ç”Ÿå­˜æœŸã€‚è¿™åŒæ ·é€‚ç”¨äºè¢«æ•è·çš„thisæŒ‡é’ˆæ‰€æŒ‡å‘çš„å¯¹è±¡çš„ç”Ÿå­˜æœŸã€‚</p><h3 id="å½¢å‚åˆ—è¡¨">å½¢å‚åˆ—è¡¨</h3><p>lambdaå½¢å‚åˆ—è¡¨å’Œä¸€èˆ¬çš„å‡½æ•°å½¢å‚åˆ—è¡¨ç±»ä¼¼ï¼Œä½†ä¸å…è®¸é»˜è®¤å®å‚(C++14å‰)ã€‚å½“ä»¥ auto ä¸ºå½¢å‚ç±»å‹æ—¶ï¼Œè¯¥ lambda ä¸ºæ³›å‹ lambda(C++14èµ·)ã€‚ä¸ä¸€ä¸ªæ™®é€šå‡½æ•°è°ƒç”¨ç±»ä¼¼ï¼Œè°ƒç”¨ä¸€ä¸ªlambdaæ—¶ç»™å®šçš„å®å‚è¢«ç”¨æ¥åˆå§‹åŒ–lambdaçš„å½¢å‚ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//ä»£ç åœ¨VS2019ä¸­æµ‹è¯•</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">func</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> i = <span class="hljs-number">1</span>, j = <span class="hljs-number">2</span>;<br><span class="hljs-keyword">auto</span> f = [](<span class="hljs-type">int</span> a,<span class="hljs-type">int</span> &amp;b) &#123;<br>a = <span class="hljs-number">10</span>;<br>b = <span class="hljs-number">20</span>;<br><span class="hljs-comment">//è¾“å‡ºï¼š10  20</span><br>std::cout &lt;&lt; a &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; b &lt;&lt; std::endl;<br>&#125;;<br><span class="hljs-built_in">f</span>(i,j);<br><span class="hljs-comment">//è¾“å‡ºï¼š1 20</span><br>std::cout &lt;&lt; i &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; j &lt;&lt; std::endl;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//ä»£ç åœ¨VS2019ä¸­æµ‹è¯•</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">func</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">auto</span> f = [](<span class="hljs-keyword">auto</span> a,<span class="hljs-type">int</span> b=<span class="hljs-number">10</span>) &#123;<br>std::cout &lt;&lt; a &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; b &lt;&lt; std::endl;<br>&#125;;<br><span class="hljs-built_in">f</span>(<span class="hljs-number">1.5</span>, <span class="hljs-number">2</span>);<br><span class="hljs-built_in">f</span>(<span class="hljs-literal">true</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="è¯´æ˜ç¬¦">è¯´æ˜ç¬¦</h3><ul><li>mutableï¼šå…è®¸å‡½æ•°ä½“ä¿®æ”¹å„ä¸ªå¤åˆ¶æ•è·çš„å¯¹è±¡ï¼Œä»¥åŠè°ƒç”¨å…¶é constæˆå‘˜å‡½æ•°;</li><li>constexprï¼šæ˜¾å¼æŒ‡å®šå‡½æ•°è°ƒç”¨è¿ç®—ç¬¦ä¸º constexprå‡½æ•°ã€‚æ­¤è¯´æ˜ç¬¦ä¸å­˜åœ¨æ—¶ï¼Œè‹¥å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦æ°å¥½æ»¡è¶³é’ˆå¯¹ constexprå‡½æ•°çš„æ‰€æœ‰è¦æ±‚ï¼Œåˆ™å®ƒä¹Ÿä¼šæ˜¯ constexprï¼› (C++17 èµ·)</li><li>constevalï¼šæŒ‡å®šå‡½æ•°è°ƒç”¨è¿ç®—ç¬¦ä¸ºç«‹å³å‡½æ•°ã€‚ä¸èƒ½åŒæ—¶ä½¿ç”¨ consteval å’Œconstexprã€‚(C++20 èµ·)</li></ul><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯¹äºä¸€ä¸ªå€¼è¢«æ‹·è´çš„å˜é‡ï¼Œlambdaä¸ä¼šæ”¹å˜å…¶å€¼ã€‚å‡å¦‚æˆ‘ä»¬å¸Œæœ›èƒ½æ”¹å˜ä¸€ä¸ªè¢«æ•è·çš„å˜é‡çš„å€¼ï¼Œå°±å¿…é¡»åœ¨å‚æ•°åˆ—è¡¨åé¢åŠ ä¸Šå…³é”®å­—mutableã€‚è€Œä¸€ä¸ªå¼•ç”¨æ•è·çš„å˜é‡åˆ™ä¸å—æ­¤é™åˆ¶ã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">//ä»£ç åœ¨VS2019ä¸­æµ‹è¯•</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">func</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-type">int</span> i = <span class="hljs-number">10</span>, j = <span class="hljs-number">10</span>;<br><span class="hljs-comment">//åŠ ä¸Šmutableæ‰å¯ä»¥åœ¨lambdaå‡½æ•°ä¸­æ”¹å˜æ•è·çš„å˜é‡å€¼</span><br><span class="hljs-keyword">auto</span> f = [i, &amp;j]() <span class="hljs-keyword">mutable</span> &#123;<br>i = <span class="hljs-number">100</span>, j = <span class="hljs-number">100</span>;<br>&#125;;<br>i = <span class="hljs-number">0</span>, j = <span class="hljs-number">0</span>;<br><span class="hljs-built_in">f</span>();<br><span class="hljs-comment">//è¾“å‡º:0 100</span><br>std::cout &lt;&lt; i &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; j &lt;&lt; std::endl;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="è¿”å›ç±»å‹--">è¿”å›ç±»å‹ -&gt;</h3><p>å½“æˆ‘ä»¬éœ€è¦ä¸ºä¸€ä¸ªlambdaå®šä¹‰è¿”å›ç±»å‹æ—¶ï¼Œéœ€è¦ä½¿ç”¨å°¾ç½®è¿”å›ç±»å‹ã€‚è¿”å›ç±»å‹è‹¥ç¼ºçœï¼Œåˆ™æ ¹æ®å‡½æ•°ä½“ä¸­çš„returnè¯­å¥è¿›è¡Œæ¨æ–­ï¼ˆå¦‚æœæœ‰å¤šæ¡returnè¯­å¥ï¼Œéœ€è¦ä¿è¯ç±»å‹ä¸€ç›´ï¼Œå¦åˆ™ç¼–è¯‘å™¨æ— æ³•è‡ªåŠ¨æ¨æ–­ï¼‰ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœä¸€ä¸ªlambdaå‡½æ•°ä½“ä¸åŒ…å«returnè¯­å¥ï¼Œåˆ™ç¼–è¯‘å™¨å‡å®šè¿”å›voidã€‚</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">func</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-keyword">auto</span> f = []() -&gt; <span class="hljs-type">double</span> &#123;<br><span class="hljs-keyword">if</span> (<span class="hljs-number">1</span> &gt; <span class="hljs-number">2</span>)<br><span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br><span class="hljs-keyword">else</span> <br><span class="hljs-keyword">return</span> <span class="hljs-number">2.0</span>;<br>&#125;;<br>std::cout &lt;&lt; <span class="hljs-built_in">f</span>() &lt;&lt; std::endl;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¦‚æœä¸æ˜¾ç¤ºæŒ‡å®šè¿”å›ç±»å‹ï¼Œåˆ™intå’Œdoubleä¸¤ç§è¿”å›ç±»å‹ä¼šå¯¼è‡´æ¨æ–­å†²çªã€‚</p><h3 id="å‡½æ•°ä½“">å‡½æ•°ä½“ <span class="math inline">\(\{ \}\)</span></h3><p>ç•¥ï¼ŒåŒæ™®é€šå‡½æ•°çš„å‡½æ•°ä½“ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>C++ std::accumulateå‡½æ•°ç”¨æ³•</title>
    <link href="/2023/02/24/Cpp-accumulate%E5%87%BD%E6%95%B0%E7%94%A8%E6%B3%95/"/>
    <url>/2023/02/24/Cpp-accumulate%E5%87%BD%E6%95%B0%E7%94%A8%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<p>accumulateå®šä¹‰åœ¨#include<numeric>ä¸­ï¼Œæœ‰ä¸¤ç§ç”¨æ³•ï¼Œä¸€ä¸ªæ˜¯ç´¯åŠ æ±‚å’Œï¼Œå¦ä¸€ä¸ªæ˜¯è‡ªå®šä¹‰ç±»å‹æ•°æ®çš„å¤„ç†</p><h2 id="é»˜è®¤ç´¯åŠ æ±‚å’Œ">é»˜è®¤ç´¯åŠ æ±‚å’Œ</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt; <span class="hljs-keyword">class</span> InputIt, <span class="hljs-keyword">class</span> T &gt;</span><br><span class="hljs-function">T <span class="hljs-title">accumulate</span><span class="hljs-params">( InputIt first, InputIt last, T init )</span></span>;<br></code></pre></td></tr></table></figure><h2 id="è‡ªå®šä¹‰å¯¹æ•°æ®çš„å¤„ç†">è‡ªå®šä¹‰å¯¹æ•°æ®çš„å¤„ç†</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt; <span class="hljs-keyword">class</span> InputIt, <span class="hljs-keyword">class</span> T, <span class="hljs-keyword">class</span> BinaryOperation &gt;</span><br><span class="hljs-function"><span class="hljs-keyword">constexpr</span> T <span class="hljs-title">accumulate</span><span class="hljs-params">( InputIt first, InputIt last, T init,</span></span><br><span class="hljs-params"><span class="hljs-function">                        BinaryOperation op )</span></span>;<br></code></pre></td></tr></table></figure><h2 id="å‚æ•°">å‚æ•°</h2><p><strong>first, last</strong>: è¦æ±‚å’Œçš„å…ƒç´ èŒƒå›´</p><p><strong>init</strong>ï¼šå’Œçš„åˆå€¼</p><p><strong>op</strong>:è¢«ä½¿ç”¨çš„äºŒå…ƒå‡½æ•°å¯¹è±¡ã€‚æ¥æ”¶å½“å‰ç§¯ç´¯å€¼ a ï¼ˆåˆå§‹åŒ–ä¸ºinit ï¼‰å’Œå½“å‰å…ƒç´  b çš„äºŒå…ƒè¿ç®—ç¬¦ã€‚</p><h2 id="ä¾‹å­">ä¾‹å­</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// accumulate example</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span>     <span class="hljs-comment">// std::cout</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;functional&gt;</span>   <span class="hljs-comment">// std::minus</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;numeric&gt;</span>      <span class="hljs-comment">// std::accumulate</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">myfunction</span> <span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span> </span>&#123;<span class="hljs-keyword">return</span> x+<span class="hljs-number">2</span>*y;&#125;<br><span class="hljs-keyword">struct</span> <span class="hljs-title class_">myclass</span> &#123;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">operator</span><span class="hljs-params">()</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span> </span>&#123;<span class="hljs-keyword">return</span> x+<span class="hljs-number">3</span>*y;&#125;<br>&#125; myobject;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span> <span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-type">int</span> init = <span class="hljs-number">100</span>;<br>    <span class="hljs-type">int</span> numbers[] = &#123;<span class="hljs-number">10</span>,<span class="hljs-number">20</span>,<span class="hljs-number">30</span>&#125;;<br><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;using default accumulate: &quot;</span>;<br>    std::cout &lt;&lt; std::<span class="hljs-built_in">accumulate</span>(numbers,numbers+<span class="hljs-number">3</span>,init);<br>    std::cout &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;using functional minus: &quot;</span>;<br>    std::cout &lt;&lt; std::<span class="hljs-built_in">accumulate</span> (numbers, numbers+<span class="hljs-number">3</span>, init, std::<span class="hljs-built_in">minus</span>&lt;<span class="hljs-type">int</span>&gt;());<br>    std::cout &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;using custom function: &quot;</span>;<br>    std::cout &lt;&lt; std::<span class="hljs-built_in">accumulate</span>(numbers, numbers + <span class="hljs-number">3</span>, <span class="hljs-number">0</span>, [](<span class="hljs-type">int</span> a, Grade b)&#123;<span class="hljs-keyword">return</span> a + b * <span class="hljs-number">2</span>; &#125;);<br>    std::cout &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br><br>    std::cout &lt;&lt; <span class="hljs-string">&quot;using custom object: &quot;</span>;<br>    std::cout &lt;&lt; std::<span class="hljs-built_in">accumulate</span> (numbers, numbers+<span class="hljs-number">3</span>, init, myobject);<br>    std::cout &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>è¾“å‡º</strong>ï¼š</p><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs vbnet"><span class="hljs-keyword">using</span> <span class="hljs-keyword">default</span> accumulate: <span class="hljs-number">160</span><br><span class="hljs-keyword">using</span> functional minus: <span class="hljs-number">40</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">custom</span> <span class="hljs-keyword">function</span>: <span class="hljs-number">120</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">custom</span> <span class="hljs-type">object</span>: <span class="hljs-number">280</span><br></code></pre></td></tr></table></figure><p>è½¬è½½è‡ª<ahref="https://blog.csdn.net/gongjianbo1992/article/details/105128849">C++Lambdaè¡¨è¾¾å¼çš„åŸºæœ¬ä½¿ç”¨</a></p>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hexoä¸­æ•°å­¦å…¬å¼æ¢è¡Œé—®é¢˜</title>
    <link href="/2023/02/19/hexo%E4%B8%AD%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F%E6%8D%A2%E8%A1%8C%E9%97%AE%E9%A2%98/"/>
    <url>/2023/02/19/hexo%E4%B8%AD%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F%E6%8D%A2%E8%A1%8C%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h2 id="hexo-ä¹¦å†™-latex-å…¬å¼æ—¶çš„ä¸€äº›é—®é¢˜åŠè§£å†³æ–¹æ³•">Hexo ä¹¦å†™ LaTeXå…¬å¼æ—¶çš„ä¸€äº›é—®é¢˜åŠè§£å†³æ–¹æ³•</h2><p>ä½¿ç”¨hexoæ’°å†™åšå®¢çš„æ—¶å€™éš¾å…ä¼šç”¨åˆ°æ•°å­¦å…¬å¼ï¼Œï¼Œå¦‚æœå…¬å¼è¿‡é•¿ï¼Œæˆ‘ä»¬é€šå¸¸å¸Œæœ›æŠŠæ–¹ç¨‹åˆ†æˆå¤šè¡Œæ˜¾ç¤ºï¼Œè¿™æ—¶å€™å°±éœ€è¦ç”¨åˆ°æ¢è¡Œç¬¦å·<code>\\</code>ï¼Œä½†æ˜¯å†™å‡ºæ¥çš„Markdown ç»è¿‡ Hexo çš„å¤„ç†ä»¥åæ˜¾ç¤ºä¸æ­£ç¡®ï¼Œè¿™ä¸ Hexoçš„æ¸²æŸ“å¼•æ“æœ‰å…³ç³»ã€‚</p><p>Hexo çš„è‡ªå¸¦çš„ Markdown å¼•æ“å¹¶ä¸æ”¯æŒ LaTeX å…¬å¼ã€‚ ä½†æ˜¯ MathJaxæ”¯æŒï¼Œå› æ­¤é¦–å…ˆè¦å¯ç”¨ MathJax æ‰èƒ½æ¸²æŸ“ LaTeXå…¬å¼.ä½†æ˜¯å®ƒå¹¶ä¸æ”¯æŒMathJaxæ¢è¡Œï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬çš„markdownæ–‡ä»¶é¦–å…ˆä¼šè¢«hexo-theme-markedçš„marked.jsè§£æï¼Œè¿™å°±ä¼šä½¿å¾—ä½¿ç”¨Latexè¯­æ³•æ‰€å†™çš„MathJaxå…¬å¼ä¸­çš„_å’Œï¼Œæœ€åè½®åˆ°MathJaxæ¥å¯¹å…¬å¼è¿›è¡Œè§£æå°±å‡ºé”™äº†ã€‚</p><h3 id="å®‰è£…hexo-renderer-pandoc">å®‰è£…hexo-renderer-pandoc</h3><p>ä¸ºäº†ä½¿ç”¨pandocä½œä¸ºHexoçš„æ¸²æŸ“å¼•æ“ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…æ’ä»¶hexo-renderer-pandocï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-built_in">npm</span> uninstall hexo-renderer-marked --save  <span class="hljs-comment"># å¸è½½é»˜è®¤æ¸²æŸ“æ’ä»¶</span><br><span class="hljs-built_in">npm</span> install hexo-renderer-pandoc --svae <span class="hljs-comment"># å®‰è£…pandoc</span><br></code></pre></td></tr></table></figure><p>ä½†æ˜¯åœ¨å®‰è£…pandocä¹‹åå‘ç°ï¼Œå…¬å¼ä¸­ä½¿ç”¨<code>\\</code>ä»ç„¶ä¸èƒ½æ¢è¡Œï¼Œç»è¿‡ä¸€ç•ªæŠ˜è…¾ä¹‹åå‘ç°äº†ä¸€ä¸ªæ›²çº¿æ•‘å›½çš„æ–¹æ³•ï¼šåœ¨éœ€è¦æ¢è¡Œçš„å…¬å¼åŠ ä¸Šalignå¯¹é½ï¼š</p><p>ä¾‹å¦‚</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs latex"><span class="hljs-built_in">$</span><span class="hljs-built_in">$</span><br>A = [<span class="hljs-keyword">\alpha</span><span class="hljs-built_in">_</span>1,<span class="hljs-keyword">\alpha</span><span class="hljs-built_in">_</span>2,...,<span class="hljs-keyword">\alpha</span><span class="hljs-built_in">_</span>n]<span class="hljs-keyword">\\</span> B = [<span class="hljs-keyword">\beta</span><span class="hljs-built_in">_</span>1,<span class="hljs-keyword">\beta</span><span class="hljs-built_in">_</span>2,...,<span class="hljs-keyword">\beta</span><span class="hljs-built_in">_</span>r]<br><span class="hljs-built_in">$</span><span class="hljs-built_in">$</span><br></code></pre></td></tr></table></figure><p>åœ¨æ˜¾ç¤ºçš„æ—¶å€™ä¼šå‘ç°å¹¶æ²¡æœ‰æ¢è¡Œ</p><p><img src="/img/latex/é”™è¯¯ç”¨æ³•.png" /></p><p>è€ŒåŠ ä¸Šaliginä¹‹åå°±å¯ä»¥æ­£å¸¸æ¢è¡Œ</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs latex"><span class="hljs-built_in">$</span><span class="hljs-built_in">$</span><br><span class="hljs-keyword">\begin</span>&#123;align&#125;<br><span class="hljs-built_in">&amp;</span>A = [<span class="hljs-keyword">\alpha</span><span class="hljs-built_in">_</span>1,<span class="hljs-keyword">\alpha</span><span class="hljs-built_in">_</span>2,...,<span class="hljs-keyword">\alpha</span><span class="hljs-built_in">_</span>n]<span class="hljs-keyword">\\</span> <span class="hljs-built_in">&amp;</span>B = [<span class="hljs-keyword">\beta</span><span class="hljs-built_in">_</span>1,<span class="hljs-keyword">\beta</span><span class="hljs-built_in">_</span>2,...,<span class="hljs-keyword">\beta</span><span class="hljs-built_in">_</span>r]  <br><span class="hljs-keyword">\end</span>&#123;align&#125;<br><span class="hljs-built_in">$</span><span class="hljs-built_in">$</span><br></code></pre></td></tr></table></figure><p><img src="/img/latex/æ­£ç¡®ç”¨æ³•.png" /></p>]]></content>
    
    
    
    <tags>
      
      <tag>latex</tag>
      
      <tag>æ‚</tag>
      
      <tag>mathjax</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¸¸è§çš„éšæœºè¿‡ç¨‹</title>
    <link href="/2023/02/18/%E5%B8%B8%E8%A7%81%E7%9A%84%E9%9A%8F%E6%9C%BA%E8%BF%87%E7%A8%8B/"/>
    <url>/2023/02/18/%E5%B8%B8%E8%A7%81%E7%9A%84%E9%9A%8F%E6%9C%BA%E8%BF%87%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<h2 id="æ­£æ€è¿‡ç¨‹">æ­£æ€è¿‡ç¨‹</h2><h3id="å¤šç»´æ­£æ€åˆ†å¸ƒçš„æ¦‚ç‡å¯†åº¦å’Œç‰¹å¾å‡½æ•°">å¤šç»´æ­£æ€åˆ†å¸ƒçš„æ¦‚ç‡å¯†åº¦å’Œç‰¹å¾å‡½æ•°</h3><p><imgsrc="/img/éšæœºè¿‡ç¨‹/å¸¸è§éšæœºè¿‡ç¨‹/å¤šç»´æ­£æ€åˆ†å¸ƒçš„æ¦‚ç‡å¯†åº¦å‡½æ•°.png" /></p><p>è®° <imgsrc="/img/éšæœºè¿‡ç¨‹/å¸¸è§éšæœºè¿‡ç¨‹/æ­£æ€æ¦‚ç‡å¯†åº¦ç¬¦å·æ›¿æ¢.png" /></p><p>åˆ™<span class="math inline">\((X,Y)\)</span>çš„è”åˆæ¦‚ç‡å¯†åº¦ä¸º</p><p><imgsrc="/img/éšæœºè¿‡ç¨‹/å¸¸è§éšæœºè¿‡ç¨‹/å¤šç»´æ­£æ€åˆ†å¸ƒçš„æ¦‚ç‡å¯†åº¦å‡½æ•°-æ–°.png" /><imgsrc="/img/éšæœºè¿‡ç¨‹/å¸¸è§éšæœºè¿‡ç¨‹/å¤šç»´æ­£æ€åˆ†å¸ƒçš„æ¦‚ç‡å¯†åº¦å‡½æ•°-æ³¨.png" /></p><h3 id="è¯æ˜éšæœºè¿‡ç¨‹xtæ˜¯æ­£æ€è¿‡ç¨‹">è¯æ˜éšæœºè¿‡ç¨‹<spanclass="math inline">\(X(t)\)</span>æ˜¯æ­£æ€è¿‡ç¨‹</h3><p>è¦è¯æ˜éšæœºè¿‡ç¨‹<spanclass="math inline">\(X(t)\)</span>æ˜¯æ­£æ€è¿‡ç¨‹ï¼Œå³è¯å¯¹<spanclass="math inline">\(\forall t_1,t_2,\dots\)</span> , <spanclass="math inline">\(t_nï¼Œ(X(t_1),X(t_2),\dots,X(t_n))\)</span>æ˜¯<spanclass="math inline">\(n\)</span>ç»´æ­£æ€åˆ†å¸ƒã€‚</p><h4 id="æ–¹æ³•1ç”¨ç‰¹å¾å‡½æ•°">æ–¹æ³•1ï¼šç”¨ç‰¹å¾å‡½æ•°</h4><h4 id="æ–¹æ³•2æ­£æ€åˆ†å¸ƒçš„çº¿æ€§ä¸å˜æ€§">æ–¹æ³•2ï¼šæ­£æ€åˆ†å¸ƒçš„çº¿æ€§ä¸å˜æ€§</h4><p><strong>æ­£æ€åˆ†å¸ƒçš„çº¿æ€§ä¸å˜æ€§</strong>:</p><p><img src="/img/éšæœºè¿‡ç¨‹/å¸¸è§éšæœºè¿‡ç¨‹/æ­£æ€åˆ†å¸ƒçº¿æ€§ä¸å˜æ€§.png" /></p><p><strong>æ­£æ€åˆ†å¸ƒçš„çº¿æ€§å˜æ¢ä¸å˜æ€§</strong>:</p><p><imgsrc="/img/éšæœºè¿‡ç¨‹/å¸¸è§éšæœºè¿‡ç¨‹/æ­£æ€åˆ†å¸ƒçš„çº¿æ€§å˜æ¢ä¸å˜æ€§.png" /></p><h2 id="ç»´çº³è¿‡ç¨‹">ç»´çº³è¿‡ç¨‹</h2><p><img src="/img/éšæœºè¿‡ç¨‹/å¸¸è§éšæœºè¿‡ç¨‹/ç»´çº³è¿‡ç¨‹æ¡ä»¶.png" /> <imgsrc="/img/éšæœºè¿‡ç¨‹/å¸¸è§éšæœºè¿‡ç¨‹/ç»´çº³è¿‡ç¨‹å®šä¹‰.png" /></p><h3 id="ç»´çº³è¿‡ç¨‹çš„åˆ†å¸ƒ">ç»´çº³è¿‡ç¨‹çš„åˆ†å¸ƒ</h3><p><img src="/img/éšæœºè¿‡ç¨‹/å¸¸è§éšæœºè¿‡ç¨‹/ç»´çº³è¿‡ç¨‹å®šä¹‰.png" /></p><p>è®¾<span class="math inline">\(t&gt;s\)</span>ï¼Œå› <spanclass="math inline">\(W(0)=0\)</span>,ä¸”<spanclass="math inline">\(W(t)\)</span>æ˜¯å¹³ç¨³ç‹¬ç«‹å¢é‡è¿‡ç¨‹ï¼Œæ•…</p><p><span class="math display">\[W(t) - W(s) = W(t-s+s)-W(s)\]</span></p><p>ä¸</p><p><span class="math display">\[W(t-s) - W(0) = W(t-s)\]</span>æœ‰ç›¸åŒåˆ†å¸ƒ<span class="math inline">\(N(0,\sigma^2 (t-s))\)</span>ã€‚</p><p><strong>ç»´çº³è¿‡ç¨‹æ˜¯æ­£æ€è¿‡ç¨‹</strong>ã€‚</p><h3 id="ç»´çº³è¿‡ç¨‹çš„æ•°å­—ç‰¹å¾">ç»´çº³è¿‡ç¨‹çš„æ•°å­—ç‰¹å¾</h3><p><strong>ç»´çº³è¿‡ç¨‹æ˜¯å¹³ç¨³ç‹¬ç«‹å¢é‡è¿‡ç¨‹</strong>ï¼Œå…¶æ•°å­—ç‰¹å¾å¦‚ä¸‹ã€‚</p><p><img src="/img/éšæœºè¿‡ç¨‹/å¸¸è§éšæœºè¿‡ç¨‹/ç»´çº³è¿‡ç¨‹çš„æ•°å­—ç‰¹å¾.png" /></p><h2 id="è®¡æ•°è¿‡ç¨‹å’Œæ³Šæ¾è¿‡ç¨‹">è®¡æ•°è¿‡ç¨‹å’Œæ³Šæ¾è¿‡ç¨‹</h2><h3 id="å®šä¹‰">å®šä¹‰</h3><p><strong>è®¡æ•°è¿‡ç¨‹</strong>ï¼š</p><p><img src="/img/éšæœºè¿‡ç¨‹/å¸¸è§éšæœºè¿‡ç¨‹/è®¡æ•°è¿‡ç¨‹å®šä¹‰1.png" /> <imgsrc="/img/éšæœºè¿‡ç¨‹/å¸¸è§éšæœºè¿‡ç¨‹/è®¡æ•°è¿‡ç¨‹å®šä¹‰2.png" /></p><p><strong>Poissonè¿‡ç¨‹æ˜¯ä¸€ç±»å¾ˆé‡è¦çš„è®¡æ•°è¿‡ç¨‹</strong>ã€‚</p><p><strong>Poissonè¿‡ç¨‹æ•°å­¦æ¨¡å‹</strong>ï¼š</p><p><img src="/img/éšæœºè¿‡ç¨‹/å¸¸è§éšæœºè¿‡ç¨‹/æ³Šæ¾è¿‡ç¨‹å®šä¹‰1.png" /> <imgsrc="/img/éšæœºè¿‡ç¨‹/å¸¸è§éšæœºè¿‡ç¨‹/æ³Šæ¾è¿‡ç¨‹å®šä¹‰2.png" /></p><h3 id="é½æ¬¡æ³Šæ¾è¿‡ç¨‹">é½æ¬¡æ³Šæ¾è¿‡ç¨‹</h3><p><img src="/img/éšæœºè¿‡ç¨‹/å¸¸è§éšæœºè¿‡ç¨‹/é½æ¬¡æ³Šæ¾è¿‡ç¨‹å®šä¹‰.png" /></p><h3 id="æ³Šæ¾è¿‡ç¨‹çš„ç­‰ä»·å®šä¹‰">æ³Šæ¾è¿‡ç¨‹çš„ç­‰ä»·å®šä¹‰</h3><p><img src="/img/éšæœºè¿‡ç¨‹/å¸¸è§éšæœºè¿‡ç¨‹/æ³Šæ¾è¿‡ç¨‹ç­‰ä»·å®šä¹‰1.png" /> <imgsrc="/img/éšæœºè¿‡ç¨‹/å¸¸è§éšæœºè¿‡ç¨‹/æ³Šæ¾è¿‡ç¨‹ç­‰ä»·å®šä¹‰2.png" /></p><h3 id="é½æ¬¡æ³Šæ¾è¿‡ç¨‹çš„æœ‰å…³ç»“è®º">é½æ¬¡æ³Šæ¾è¿‡ç¨‹çš„æœ‰å…³ç»“è®º</h3><h4 id="æ•°å­—ç‰¹å¾">æ•°å­—ç‰¹å¾</h4><p><strong>å‡å€¼å‡½æ•°</strong>ï¼š <spanclass="math inline">\(m(t)=E\{N(t)\}=\lambda t\)</span></p><p><strong>æ–¹å·®å‡½æ•°</strong>: <span class="math inline">\(D(t)=\lambdat\)</span></p><p><strong>åæ–¹å·®å‡½æ•°</strong>: <spanclass="math inline">\(C(s,t)=\lambda min(s,t)\)</span></p><p><strong>ç›¸å…³å‡½æ•°</strong>ï¼š <spanclass="math inline">\(R(s,t)=\lambda min(s,t)+\lambda^2 st\)</span></p><p>æ•…æœ‰<spanclass="math inline">\(\lambda=\frac{E\{N(t)\}}{t}\)</span>,ç§°<spanclass="math inline">\(\lambda\)</span>ä¸º<strong>äº‹ä»¶çš„åˆ°è¾¾ç‡</strong>æˆ–<strong>å•ä½æ—¶é—´å†…äº‹ä»¶å‡ºç°çš„å¹³å‡æ¬¡æ•°</strong>ã€‚</p><h3 id="æ—¶é—´é—´éš”ä¸ç­‰å¾…æ—¶é—´çš„åˆ†å¸ƒ">æ—¶é—´é—´éš”ä¸ç­‰å¾…æ—¶é—´çš„åˆ†å¸ƒ</h3><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ<spanclass="math inline">\(N(t)\)</span>æ˜¯è½¨é“æ˜¯è·ƒåº¦ä¸º<spanclass="math inline">\(1\)</span>çš„é˜¶æ¢¯å‡½æ•°ã€‚</p><p><img src="/img/éšæœºè¿‡ç¨‹/å¸¸è§éšæœºè¿‡ç¨‹/Nï¼ˆtï¼‰çš„åˆ†å¸ƒå‡½æ•°.png" /></p><p>ç”¨<span class="math inline">\(T_n\)</span>è¡¨ç¤ºäº‹ä»¶<spanclass="math inline">\(A\)</span>ç¬¬<spanclass="math inline">\(n-1\)</span>æ¬¡å‡ºç°ä¸ç¬¬<spanclass="math inline">\(n\)</span>æ¬¡å‡ºç°çš„æ—¶é—´é—´éš”ã€‚<spanclass="math inline">\(W_n\)</span>ä¸ºäº‹ä»¶<spanclass="math inline">\(A\)</span>ç¬¬<spanclass="math inline">\(n\)</span>æ¬¡å‡ºç°çš„<strong>ç­‰å¾…æ—¶é—´(åˆ°è¾¾æ—¶é—´)</strong>ï¼Œåˆ™æœ‰ï¼š</p><p><span class="math display">\[W_n=\sum\limits_{i=1}^nT_i\]</span></p><p>å’Œ</p><p><span class="math display">\[T_n=W_n - W_{n-1}\]</span></p><p><img src="/img/éšæœºè¿‡ç¨‹/å¸¸è§éšæœºè¿‡ç¨‹/æ—¶é—´é—´éš”åºåˆ—åˆ†å¸ƒå®šç†.png" /></p><h3 id="åˆ°è¾¾æ—¶é—´çš„æ¡ä»¶åˆ†å¸ƒ">åˆ°è¾¾æ—¶é—´çš„æ¡ä»¶åˆ†å¸ƒ</h3><p><img src="/img/éšæœºè¿‡ç¨‹/å¸¸è§éšæœºè¿‡ç¨‹/å¼•ç†1.png" /> <imgsrc="/img/éšæœºè¿‡ç¨‹/å¸¸è§éšæœºè¿‡ç¨‹/åˆ°è¾¾æ—¶é—´åˆ†å¸ƒå®šç†1.png" /> <imgsrc="/img/éšæœºè¿‡ç¨‹/å¸¸è§éšæœºè¿‡ç¨‹/åˆ°è¾¾æ—¶é—´åˆ†å¸ƒå®šç†2.png" /> <imgsrc="/img/éšæœºè¿‡ç¨‹/å¸¸è§éšæœºè¿‡ç¨‹/æ³¨1.png" /> <imgsrc="/img/éšæœºè¿‡ç¨‹/å¸¸è§éšæœºè¿‡ç¨‹/æ³¨2.png" /></p>]]></content>
    
    
    <categories>
      
      <category>æ•°å­¦</category>
      
      <category>éšæœºè¿‡ç¨‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>éšæœºè¿‡ç¨‹</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>çº¿æ€§ç©ºé—´</title>
    <link href="/2023/02/18/%E7%BA%BF%E6%80%A7%E7%A9%BA%E9%97%B4/"/>
    <url>/2023/02/18/%E7%BA%BF%E6%80%A7%E7%A9%BA%E9%97%B4/</url>
    
    <content type="html"><![CDATA[<h2 id="çº¿æ€§ç©ºé—´">çº¿æ€§ç©ºé—´</h2><p><strong>çº¿æ€§ç©ºé—´å®šä¹‰</strong>ï¼š <imgsrc="/img/çŸ©é˜µè®º/çº¿æ€§ç©ºé—´/çº¿æ€§ç©ºé—´å®šä¹‰.jpg" /></p><p><strong>çº¿æ€§å­ç©ºé—´å®šä¹‰</strong>ï¼š</p><p><img src="/img/çŸ©é˜µè®º/çº¿æ€§ç©ºé—´/çº¿æ€§å­ç©ºé—´å®šä¹‰.png" /></p><p><strong>å¹³å‡¡å­ç©ºé—´</strong>ï¼š<spanclass="math inline">\(V\)</span>ç©ºé—´çš„å¹³å‡¡å­ç©ºé—´æŒ‡<spanclass="math inline">\(0\)</span>ç©ºé—´å’Œ<spanclass="math inline">\(V\)</span>ç©ºé—´æœ¬èº«ï¼Œå…¶ä»–ç»´æ•°çš„ç©ºé—´éƒ½æ˜¯éå¹³å‡¡å­ç©ºé—´ã€‚</p><p><strong>çº¿æ€§ç©ºé—´çš„å’Œ</strong>ï¼š</p><p><img src="/img/çŸ©é˜µè®º/çº¿æ€§ç©ºé—´/çº¿æ€§ç©ºé—´çš„å’Œ.jpg" /></p><h3 id="ç»´æ•°å®šç†">ç»´æ•°å®šç†</h3><p><img src="/img/çŸ©é˜µè®º/çº¿æ€§ç©ºé—´/ç»´æ•°å®šç†.png" /></p><h3 id="ç›´å’Œ">ç›´å’Œ</h3><p><img src="/img/çŸ©é˜µè®º/çº¿æ€§ç©ºé—´/ç›´å’Œå®šä¹‰.png" /></p><h4id="åˆ¤æ–­çº¿æ€§ç©ºé—´vçš„ä¸¤ä¸ªå­ç©ºé—´v_1å’Œv_2æ˜¯å¦æ˜¯ç›´å’Œçš„æ–¹æ³•">åˆ¤æ–­çº¿æ€§ç©ºé—´Vçš„ä¸¤ä¸ªå­ç©ºé—´<spanclass="math inline">\(V_1\)</span>å’Œ<spanclass="math inline">\(V_2\)</span>æ˜¯å¦æ˜¯ç›´å’Œçš„æ–¹æ³•</h4><p>åˆ¤æ–­<span class="math inline">\(V_1 \cap V_2 =\{0\}\)</span>æ˜¯å¦æˆç«‹ï¼Œè‹¥æˆç«‹ï¼Œå°±æ˜¯ç›´å’Œï¼›å¦åˆ™ä¸æ˜¯ç›´å’Œã€‚</p><p>å°†å­ç©ºé—´çš„æ¦‚å¿µæ¨å¹¿åˆ°å¤šä¸ªå­ç©ºé—´ï¼Œäºæ˜¯åœ¨å¤šä¸ªå­ç©ºé—´ä¸­å°±å¯ä»¥å®šä¹‰è¿™æ ·çš„ç›´å’Œå…³ç³»ï¼š</p><p><img src="/img/çŸ©é˜µè®º/çº¿æ€§ç©ºé—´/å¤šä¸ªå­ç©ºé—´çš„ç›´å’Œ.jpg" /></p><h3 id="é…‰ç©ºé—´">é…‰ç©ºé—´</h3><p>æ¬§å‡ é‡Œå¾—ç©ºé—´ï¼šå®šä¹‰äº†å†…ç§¯çš„å®çº¿æ€§ç©ºé—´ã€‚</p><p>æ¬§å‡ é‡Œå¾—ç©ºé—´çš„å®šä¹‰æ¨å¹¿åˆ°å¤çº¿æ€§ç©ºé—´å°±æ˜¯é…‰ç©ºé—´ã€‚</p><h3 id="æ­£äº¤è¡¥å­ç©ºé—´">æ­£äº¤è¡¥å­ç©ºé—´</h3><p><img src="/img/çŸ©é˜µè®º/çº¿æ€§ç©ºé—´/æ­£äº¤è¡¥å­ç©ºé—´å®šä¹‰.png" /></p><p>è¿™é‡Œçš„<spanclass="math inline">\(V_n(C)\)</span>æŒ‡çš„æ˜¯é…‰ç©ºé—´ã€‚è¿™é‡Œçš„<spanclass="math inline">\(n\)</span>è¡¨ç¤ºç»´æ•°ï¼Œ<spanclass="math inline">\(C\)</span>è¡¨ç¤ºå¤æ•°ç©ºé—´ã€‚è¿™ä¸ªå®šä¹‰æŒ‡çš„æ˜¯å¤æ•°åŸŸå†…çš„<spanclass="math inline">\(n\)</span>ç»´ç©ºé—´ï¼Œå³æ˜¯é…‰ç©ºé—´ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªç©ºé—´Vçš„å­ç©ºé—´<spanclass="math inline">\(V_1\)</span>å’Œ<spanclass="math inline">\(V_2\)</span>ä¸ä»…è¦æ»¡è¶³ç›´å’Œçš„å…³ç³»ï¼Œè¿˜è¦ç›¸äº’æ­£äº¤ã€‚<strong>è¿™æ ·çš„ç©ºé—´æˆ‘ä»¬ç§°<spanclass="math inline">\(V_2\)</span>ä¸º<spanclass="math inline">\(V_1\)</span>çš„æ­£äº¤è¡¥å­ç©ºé—´ï¼ˆæˆ–ç®€ç§°æ­£äº¤è¡¥ï¼‰</strong>ã€‚æ˜¾ç„¶ï¼ŒäºŒè€…æ˜¯äº’ä¸ºæ­£äº¤è¡¥çš„ã€‚<strong>æ­£äº¤è¡¥åˆ†è§£å®é™…ä¸Šå°±æ˜¯åœ¨åˆ†æ­£äº¤åŸºã€‚ç›´å’Œåˆ†è§£å®é™…ä¸Šå°±æ˜¯åœ¨åˆ†è§£åŸºå‘é‡</strong>ã€‚</p><p><strong>å®šç†</strong>ï¼š<spanclass="math inline">\(V_n(C)\)</span>çš„ä»»æ„å­ç©ºé—´<spanclass="math inline">\(V_1\)</span>éƒ½æœ‰å”¯ä¸€çš„æ­£äº¤è¡¥ã€‚</p><h3 id="kroneckerç§¯">Kroneckerç§¯</h3><h4 id="kroneckerç§¯-1">Kroneckerç§¯</h4><p><img src="/img/çŸ©é˜µè®º/çº¿æ€§ç©ºé—´/Kroneckerç§¯.png" /></p><p>å…¶ä¸­<span class="math inline">\(a_{ij}\)</span>ä¸ºçŸ©é˜µ<spanclass="math inline">\(A\)</span>çš„ç¬¬<spanclass="math inline">\(i\)</span>è¡Œç¬¬<spanclass="math inline">\(j\)</span>åˆ—çš„å…ƒç´ ï¼Œå¯¹äº<spanclass="math inline">\(A \in \mathbb{R^{m Ã— n}}\)</span> å’Œ <spanclass="math inline">\(B \in \mathbb{R^{p Ã— q}}\)</span>,<spanclass="math inline">\(A \otimes B \in \mathbb{R^{(mp) Ã—(nq)}}\)</span>ã€‚</p><p><strong>Kroneckerç§¯çš„æ€§è´¨å¦‚ä¸‹</strong>ï¼š</p><p><img src="/img/çŸ©é˜µè®º/çº¿æ€§ç©ºé—´/Kroneckerç§¯æ€§è´¨1.png" /> <imgsrc="/img/çŸ©é˜µè®º/çº¿æ€§ç©ºé—´/Kroneckerç§¯æ€§è´¨2.jpg" /> <imgsrc="/img/çŸ©é˜µè®º/çº¿æ€§ç©ºé—´/Kroneckerç§¯æ€§è´¨3.png" /></p><p>è¿™äº›æ€§è´¨ä¸­å‰4æ¡ä¸çŸ©é˜µè¿ç®—å®Œå…¨ç›¸åŒï¼Œä»ç¬¬5æ¡å¼€å§‹æ˜¯Kroneckerç§¯ç‹¬æœ‰çš„æ€§è´¨ã€‚</p><p>ç»™å‡ºä¸€äº›å®šä¹‰å’Œå®šç†ï¼š</p><p><img src="/img/çŸ©é˜µè®º/çº¿æ€§ç©ºé—´/Kroneckerç§¯å®šç†.jpg" /></p><p>Kroneckerç§¯çš„ç‰¹å¾å€¼ï¼š</p><p><img src="/img/çŸ©é˜µè®º/çº¿æ€§ç©ºé—´/Kroneckerç§¯çš„ç‰¹å¾å€¼.jpg" /></p><h4 id="kroneckerå’Œ">Kroneckerå’Œ</h4><p><img src="/img/çŸ©é˜µè®º/çº¿æ€§ç©ºé—´/Kroneckerå’Œ.jpg" /></p><p>ç”±å®šä¹‰2æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºKroneckerç§¯è€Œè¨€ï¼Œmé˜¶çŸ©é˜µå’Œné˜¶çŸ©é˜µä¹‹é—´æ˜¯æ— æ³•ç›´æ¥æ±‚å’Œçš„ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬é€šè¿‡å¯¹å•ä½é˜µçš„Kroneckerç§¯è¿ç®—ï¼ŒåŒæ—¶æŠŠä»–ä»¬åŒ–ä¸º<spanclass="math inline">\((m Ã—n)\)</span>é˜¶æ–¹é˜µï¼Œè¿™æ ·å°±å¯ä»¥å¯¹çŸ©é˜µè¿›è¡Œæ±‚å’Œè¿ç®—äº†ã€‚</p><h4 id="å‘é‡åŒ–ç®—ç¬¦">å‘é‡åŒ–ç®—ç¬¦</h4><p><img src="/img/çŸ©é˜µè®º/çº¿æ€§ç©ºé—´/å‘é‡åŒ–ç®—ç¬¦.png" /></p><p>æ€§è´¨ï¼š</p><p><img src="/img/çŸ©é˜µè®º/çº¿æ€§ç©ºé—´/å‘é‡åŒ–ç®—ç¬¦æ€§è´¨.jpg" /></p>]]></content>
    
    
    <categories>
      
      <category>æ•°å­¦</category>
      
      <category>çŸ©é˜µè®º</category>
      
    </categories>
    
    
    <tags>
      
      <tag>çŸ©é˜µè®º</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCodeåˆ·é¢˜çš„ä¸€äº›å¿ƒå¾—</title>
    <link href="/2023/02/17/LeetCode%E5%88%B7%E9%A2%98%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/"/>
    <url>/2023/02/17/LeetCode%E5%88%B7%E9%A2%98%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/</url>
    
    <content type="html"><![CDATA[<p>è®°å½•ä¸€ä¸‹åœ¨åˆ·é¢˜çš„æ—¶å€™çš„ä¸€äº›å°trickä»¥åŠè¸©çš„ä¸€äº›å‘ã€‚</p><!-- ### string.size()`string.size()`è¿”å›çš„æ˜¯ä¸€ä¸ªæ— ç¬¦å·æ•°ï¼Œæ‰€ä»¥åœ¨å¾ªç¯ä¸­å¦‚æœéœ€è¦å¯¹ä½¿ç”¨`s.size()`çš„è¯ï¼Œéœ€è¦ä½¿ç”¨`(int)s.size()`ã€‚ --><h2 id="æ»‘åŠ¨çª—å£">æ»‘åŠ¨çª—å£</h2><p>æ»‘åŠ¨çª—å£å°±æ˜¯<strong>ä¸æ–­çš„è°ƒèŠ‚å­åºåˆ—çš„èµ·å§‹ä½ç½®å’Œç»ˆæ­¢ä½ç½®ï¼Œä»è€Œå¾—å‡ºæˆ‘ä»¬è¦æƒ³çš„ç»“æœ</strong>ã€‚å®ƒé€šå¸¸ç”¨äºå­—ç¬¦ä¸²æˆ–è€…æ•°ç»„ç‰¹å®šé•¿åº¦ä¸‹å†…å®¹æ˜¯å¦ç›¸åŒï¼Œä¹Ÿå¯ä»¥æŸ¥æ‰¾åœ¨å†…å®¹ç›¸åŒæƒ…å†µä¸‹çš„æœ€çŸ­é•¿åº¦(ä¸€èˆ¬æ¥è¯´éœ€è¦æŸ¥æ‰¾çš„æ•°ç»„æˆ–è€…å­—ç¬¦ä¸²æ˜¯è¿ç»­çš„)ã€‚</p><h2 id="æ—¶é—´å¤æ‚åº¦masterå…¬å¼">æ—¶é—´å¤æ‚åº¦ï¼ˆMasterå…¬å¼ï¼‰</h2><p>è‹¥æœ‰<span class="math inline">\(T(N)=a * T(\frac{N}{b})+O(N^d)\)</span>ï¼Œåˆ™è¯´æ˜è¿™ä¸ªç®—æ³•æ»¡è¶³<strong>Masterå…¬å¼</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´åªè¦æ˜¯<strong>æ»¡è¶³å­é—®é¢˜ç­‰è§„æ¨¡çš„é€’å½’éƒ½å¯ä»¥ç”¨Masterå…¬å¼</strong>ã€‚aï¼Œbï¼Œdçš„å€¼å¯èƒ½ä¼šæœ‰ä¸‰ç§æƒ…å†µã€‚</p><ol type="1"><li><span class="math inline">\(\log_b a &lt;d\)</span>,åˆ™ç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸º<spanclass="math inline">\(O(N^d)\)</span>ã€‚</li><li><span class="math inline">\(\log_b a &gt;d\)</span>,åˆ™ç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸º<span class="math inline">\(O(N^{\log_ba})\)</span>ã€‚</li><li><span class="math inline">\(\log_b a =d\)</span>,åˆ™ç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸º<span class="math inline">\(O(N^d * \logn)\)</span>ã€‚</li></ol><h2 id="é“¾è¡¨">é“¾è¡¨</h2><h3 id="é‡è¦æŠ€å·§">é‡è¦æŠ€å·§</h3><h4 id="é¢å¤–æ•°æ®ç»“æ„è®°å½•å“ˆå¸Œè¡¨ç­‰">é¢å¤–æ•°æ®ç»“æ„è®°å½•ï¼ˆå“ˆå¸Œè¡¨ç­‰ï¼‰</h4><p>æ­¤æŠ€å·§ä¸€èˆ¬åªé€‚ç”¨äºç¬”è¯•åšé¢˜ï¼Œé¢è¯•ä¸€èˆ¬ä¸é€‚ç”¨ã€‚</p><p>è®¾ç½®é¢å¤–çš„æ•°æ®ç»“æ„ï¼Œæ¯”å¦‚æ•°ç»„ã€å“ˆå¸Œè¡¨æˆ–è€…æ ˆç­‰æ¥è¾…åŠ©åšé¢˜ã€‚</p><h4 id="å¿«æ…¢æŒ‡é’ˆ">å¿«æ…¢æŒ‡é’ˆ</h4><p>æœ‰ä¸€äº›é—®é¢˜è¯¸å¦‚å¯»æ‰¾é“¾è¡¨çš„ä¸­ç‚¹ï¼Œæœ€ç®€å•æš´åŠ›çš„æ–¹æ³•æ˜¯éå†ä¸€éé“¾è¡¨ç„¶åå¾—åˆ°é“¾è¡¨é•¿åº¦ï¼Œç„¶åæ ¹æ®é•¿åº¦å¾—åˆ°å…¶æœ€ä¸­é—´çš„èŠ‚ç‚¹ã€‚è¿™æ ·åšæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯éœ€è¦éå†ä¸€éåŠçš„é“¾è¡¨ã€‚è€Œä½¿ç”¨å¿«æ…¢æŒ‡é’ˆå°±å¯ä»¥å°‘éå†ä¸€éé“¾è¡¨ã€‚</p><p>å®ƒçš„æ€æƒ³æ˜¯è®¾ç½®ä¸€ä¸ª<code>fast</code>èŠ‚ç‚¹å’Œä¸€ä¸ª<code>slow</code>èŠ‚ç‚¹ï¼Œæ¯æ¬¡<code>fast</code>èŠ‚ç‚¹å¾€åèµ°ä¸¤æ­¥ï¼Œè€Œ<code>slow</code>èŠ‚ç‚¹å¾€åèµ°ä¸€æ­¥ã€‚è¿™æ ·å½“<code>fast</code>èŠ‚ç‚¹èµ°å®Œæ•´ä¸ªé“¾è¡¨çš„æ—¶å€™ï¼Œ<code>slow</code>èŠ‚ç‚¹å°±åœ¨é“¾è¡¨çš„ä¸­é—´ã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for singly-linked list.</span><br><span class="hljs-comment"> * struct ListNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     ListNode *next;</span><br><span class="hljs-comment"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br> <br> <span class="hljs-comment">// å¥‡æ•°é•¿åº¦è¿”å›ä¸­ç‚¹ã€‚å¶æ•°é•¿åº¦è¿”å›ä¸Šä¸­ç‚¹</span><br>ListNode *fast = head, slow = head;<br><span class="hljs-keyword">while</span>(fast != <span class="hljs-literal">nullptr</span>)<br>&#123;<br>      fast = fast -&gt; next;<br>      <span class="hljs-keyword">if</span>(fast != <span class="hljs-literal">nullptr</span>)<br>            fast = fast -&gt; next;<br>      <span class="hljs-keyword">else</span><br>            <span class="hljs-keyword">break</span>;<br>      slow = slow -&gt; next;   <br>&#125;<br></code></pre></td></tr></table></figure><p>éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œ<strong>ä¸è¦æ­»è®°è¿™ä»£ç ï¼Œå®é™…ä¸Šåœ¨åšé¢˜æˆ–è€…åº”ç”¨ä¸­çš„ä¸åŒæƒ…å†µæ˜¯æ˜¯æœ‰å¾ˆå¤šç»†å¾®çš„å·®åˆ«çš„ï¼Œæ¯”å¦‚è‹¥é“¾è¡¨é•¿åº¦æ˜¯å¶æ•°ï¼Œæœ‰çš„æ—¶å€™éœ€è¦ä¸­é—´é å‰çš„èŠ‚ç‚¹ï¼Œæœ‰çš„æ—¶å€™éœ€è¦ä¸­é—´é åçš„èŠ‚ç‚¹ï¼Œè¿˜æœ‰çš„æ—¶å€™éœ€è¦ä¸­é—´é å‰èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹ï¼Œä¸åŒæƒ…å†µè¦åšå¯¹åº”çš„è°ƒæ•´ï¼ŒåŒæ—¶è¿˜è¦æ³¨æ„è¾¹ç•Œæ¡ä»¶ï¼Œæ¯”å¦‚èŠ‚ç‚¹ä¸ºç©ºæˆ–è€…åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„æƒ…å†µã€‚</strong></p><p>é“¾è¡¨é•¿åº¦ä¸ºå¶æ•°æƒ…å†µä¸‹ï¼Œå¯»æ‰¾ä¸­é—´é åçš„é‚£ä¸ªèŠ‚ç‚¹:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for singly-linked list.</span><br><span class="hljs-comment"> * struct ListNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     ListNode *next;</span><br><span class="hljs-comment"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br> <br> <span class="hljs-comment">// å¥‡æ•°é•¿åº¦è¿”å›ä¸­ç‚¹ï¼Œå¶æ•°é•¿åº¦è¿”å›ä¸‹ä¸­ç‚¹</span><br>ListNode *fast = head, slow = head;<br><span class="hljs-keyword">while</span>(fast != <span class="hljs-literal">nullptr</span>)<br>&#123;<br>      fast = fast -&gt; next;<br>      <span class="hljs-keyword">if</span>(fast == <span class="hljs-literal">nullptr</span>)<br>            <span class="hljs-keyword">break</span>;<br>      slow = slow -&gt; next;   <br>      fast = fast -&gt; next;<br>&#125;<br></code></pre></td></tr></table></figure><!-- - è¾“å…¥é“¾è¡¨å¤´èŠ‚ç‚¹ï¼Œå¥‡æ•°é•¿åº¦è¿”å›ä¸­ç‚¹å‰ä¸€ä¸ªï¼Œå¶æ•°é•¿åº¦è¿”å›ä¸Šä¸­ç‚¹å‰ä¸€ä¸ª- è¾“å…¥é“¾è¡¨å¤´èŠ‚ç‚¹ï¼Œå¥‡æ•°é•¿åº¦è¿”å›ä¸­ç‚¹å‰ä¸€ä¸ªï¼Œå¶æ•°é•¿åº¦è¿”å›ä¸‹ä¸­ç‚¹åä¸€ä¸ª --><h3 id="é¢è¯•æ—¶é“¾è¡¨è§£é¢˜æ–¹æ³•è®º">é¢è¯•æ—¶é“¾è¡¨è§£é¢˜æ–¹æ³•è®º</h3><ol type="1"><li>å¯¹äºç¬”è¯•ï¼Œä¸ç”¨å¤ªåœ¨ä¹ç©ºé—´å¤æ‚åº¦ï¼Œä¸€åˆ‡ä¸ºäº†æ—¶é—´å¤æ‚åº¦ã€‚æ¯”å¦‚å¯ä»¥ç›´æ¥æŠŠé“¾è¡¨copyåˆ°æ•°ç»„ã€‚</li><li>å¯¹äºé¢è¯•ï¼Œæ—¶é—´å¤æ‚åº¦ä»ç„¶æ”¾åœ¨ç¬¬ä¸€ä½ï¼Œä½†æ˜¯è¦æ‰¾åˆ°ç©ºé—´å¤æ‚åº¦æœ€çœçš„æ–¹æ³•ã€‚</li></ol><h2 id="æ‰“è¡¨æ³•">æ‰“è¡¨æ³•</h2><p>åœ¨åˆ·é¢˜è¿‡ç¨‹ä¸­ç»å¸¸ä¼šé‡åˆ°ä¸€ç±»é¢˜ï¼Œè¿™ç±»é¢˜çš„ç‰¹ç‚¹æ˜¯ï¼š<strong>è¾“å…¥ç®€å•ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªæˆ–å‡ ä¸ªæ•°æˆ–æ•°ç»„ï¼Œè¾“å‡ºä¹Ÿç®€å•ï¼Œå¯èƒ½åªè®©ä½ è¿”å›ä¸€ä¸ªæ•´å½¢çš„ç»“æœã€‚</strong>å½“ç„¶ï¼Œä¸€èˆ¬çš„æ–¹æ³•æ˜¯æ ¹æ®é¢˜ç›®çš„è¦æ±‚ç¼–å†™å¯¹åº”çš„ç®—æ³•æ±‚è§£ã€‚ä½†æ˜¯æœ‰æ—¶å€™è¿™ç§æ–¹æ³•å¹¶ä¸é‚£ä¹ˆå®¹æ˜“å®ç°æˆ–è€…å¹¶ä¸é‚£ä¹ˆå®¹æ˜“æƒ³ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥è€ƒè™‘ä¸€ç§æ¯”è¾ƒå–å·§çš„æ–¹æ³•ï¼šæ‰“è¡¨æ³•ã€‚</p><p>æ‰“è¡¨æ³•å°±æ˜¯ç”¨æš´åŠ›æ–¹æ³•å…ˆæ±‚å‡ºå‰é¢å‡ åä¸ªæˆ–ä¸€ç™¾ä¸ªè§£ï¼Œä»ä¸­æ‰¾å‡ºå…¶è§„å¾‹ï¼Œç„¶åæ ¹æ®è§„å¾‹ç›´æ¥ç¼–å†™å¯¹åº”æ–¹æ³•æ±‚è§£ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>æ•°æ®ç»“æ„ä¸ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•°æ®ç»“æ„ä¸ç®—æ³•</tag>
      
      <tag>leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¹³ç¨³è¿‡ç¨‹</title>
    <link href="/2022/12/06/%E5%B9%B3%E7%A8%B3%E8%BF%87%E7%A8%8B/"/>
    <url>/2022/12/06/%E5%B9%B3%E7%A8%B3%E8%BF%87%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸¥å¹³ç¨³è¿‡ç¨‹">ä¸¥å¹³ç¨³è¿‡ç¨‹</h2><p><img src="/img/éšæœºè¿‡ç¨‹/å¹³ç¨³è¿‡ç¨‹/ä¸¥å¹³ç¨³è¿‡ç¨‹å®šä¹‰.png" /> <imgsrc="/img/éšæœºè¿‡ç¨‹/å¹³ç¨³è¿‡ç¨‹/ä¸¥å¹³ç¨³è¿‡ç¨‹å®šä¹‰-2.png"alt="ä¸¥å¹³ç¨³è¿‡ç¨‹å®šä¹‰" /></p><p>ä¸¥å¹³ç¨³è¿‡ç¨‹æœ‰é™ç»´åˆ†å¸ƒä¸éšæ—¶é—´çš„æ¨ç§»è€Œæ”¹å˜ï¼Œï¼Œå®ƒçš„å½“å‰å˜åŒ–æƒ…å†µä¸è¿‡å»çš„æƒ…å†µæœ‰ä¸å¯å¿½è§†çš„è”ç³»ã€‚</p><p>ä¸¥å¹³ç¨³è¿‡ç¨‹çš„ä¸€ç»´åˆ†å¸ƒä¸æ—¶é—´æ— å…³ï¼Œè€ŒäºŒç»´åˆ†å¸ƒä»…ä¸<spanclass="math inline">\(t_1\)</span>å’Œ<spanclass="math inline">\(t_2\)</span>çš„æ—¶é—´é—´éš”æœ‰å…³ï¼Œä¸æ—¶é—´èµ·ç‚¹æ— å…³ã€‚</p><h2 id="å®½å¹³ç¨³è¿‡ç¨‹">å®½å¹³ç¨³è¿‡ç¨‹</h2><p>ç”±äº</p><ul><li>å·¥ç¨‹ä¸­ç¡®å®šä¸€ä¸ªè¿‡ç¨‹çš„æœ‰é™ç»´åˆ†å¸ƒå‡½æ•°æ—,è¿›è€Œåˆ¤å®šè¿‡ç¨‹çš„ä¸¥å¹³ç¨³æ€§ååˆ†å›°éš¾ï¼›</li><li>éƒ¨åˆ†éšæœºè¿‡ç¨‹(å¦‚æ­£æ€è¿‡ç¨‹)çš„æ¦‚ç‡ç‰¹å¾ä¸»è¦ç”±ä¸€é˜¶å’ŒäºŒé˜¶çŸ©å‡½æ•°ç¡®å®šï¼›</li><li>å·¥ç¨‹å®é™…ä¸­,é€šå¸¸ä»…éœ€åœ¨ç›¸å…³ç†è®ºèŒƒç•´å†…è€ƒè™‘å¹³ç¨³è¿‡ç¨‹,å³åªé™äºç ”ç©¶ä¸€ã€äºŒé˜¶çŸ©ï¼ˆå‡å€¼ã€ç›¸å…³å‡½æ•°ç­‰ï¼‰ç†è®º.</li></ul><p>æ‰€ä»¥æœ‰äº†å®½å¹³ç¨³è¿‡ç¨‹ã€‚</p><p>å®šä¹‰ï¼š <img src="/img/éšæœºè¿‡ç¨‹/å¹³ç¨³è¿‡ç¨‹/å®½å¹³ç¨³è¿‡ç¨‹å®šä¹‰.png"alt="å®½å¹³ç¨³è¿‡ç¨‹å®šä¹‰" /></p><p>å…¶ä¸­<span class="math inline">\(R_x(\tau)\)</span>ä¸º<spanclass="math inline">\(\{X(t),t \inT\}\)</span>çš„è‡ªç›¸å…³å‡½æ•°ã€‚å…¶åæ–¹å·®å‡½æ•°ä¸º <spanclass="math display">\[C_X(s,t)=R_X(s,t)-|m_X|^2=R_X(\tau)-|m_X|^2\]</span></p><p>è‡ªåæ–¹å·®å‡½æ•°ä¸è‡ªç›¸å…³å‡½æ•°éƒ½ä»…ä¾èµ–äº<spanclass="math inline">\(tï¼s\)</span></p><p><strong>ç»´çº³è¿‡ç¨‹ä¸æ˜¯å®½å¹³ç¨³è¿‡ç¨‹ï¼Œä½†æ˜¯ç»´çº³è¿‡ç¨‹æ˜¯å¢é‡å®½å¹³ç¨³è¿‡ç¨‹ï¼Œå³</strong><span class="math display">\[X(t)=W(t+a)-W(t), t \ge 0, \quad(a&gt;0)\]</span></p><p>æ˜¯å®½å¹³ç¨³è¿‡ç¨‹</p><h2 id="ä¸¤ç§å¹³ç¨³æ€§çš„å…³ç³»">ä¸¤ç§å¹³ç¨³æ€§çš„å…³ç³»</h2><ul><li>ä¸¥å¹³ç¨³è¿‡ç¨‹ä¸ä¸€å®šæ˜¯å®½å¹³ç¨³çš„;</li></ul><p>å› å®½å¹³ç¨³è¿‡ç¨‹ä¸€å®šæ˜¯äºŒé˜¶çŸ©è¿‡ç¨‹, è€Œä¸¥å¹³ç¨³è¿‡ç¨‹æœªå¿…æ˜¯äºŒé˜¶çŸ©è¿‡ç¨‹.</p><ul><li>å®½å¹³ç¨³ä¸ä¸€å®š ä¸¥å¹³ç¨³;</li><li>ä¸¥å¹³ç¨³è¿‡ç¨‹æ˜¯å®½å¹³ç¨³è¿‡ç¨‹çš„å……è¦æ¡ä»¶æ˜¯å…¶äºŒé˜¶çŸ©å­˜åœ¨.</li><li>å¯¹äºæ­£æ€è¿‡ç¨‹, å®½å¹³ç¨³æ€§ä¸ä¸¥å¹³ç¨³æ€§ç­‰ä»·.</li></ul><h2 id="å¹³ç¨³è¿‡ç¨‹çš„è‡ªç›¸å…³å‡½æ•°">å¹³ç¨³è¿‡ç¨‹çš„è‡ªç›¸å…³å‡½æ•°</h2><p><img src="/img/éšæœºè¿‡ç¨‹/å¹³ç¨³è¿‡ç¨‹/å¹³ç¨³è¿‡ç¨‹è‡ªç›¸å…³å‡½æ•°æ€§è´¨-1.png" /><img src="/img/éšæœºè¿‡ç¨‹/å¹³ç¨³è¿‡ç¨‹/å¹³ç¨³è¿‡ç¨‹è‡ªç›¸å…³å‡½æ•°æ€§è´¨-2.png" /></p><p>è¯æ˜:</p><ol type="1"><li><img src="/img/éšæœºè¿‡ç¨‹/å¹³ç¨³è¿‡ç¨‹/è‡ªç›¸å…³è¯æ˜1.png" /></li><li><img src="/img/éšæœºè¿‡ç¨‹/å¹³ç¨³è¿‡ç¨‹/è‡ªç›¸å…³è¯æ˜2.png" /></li><li><img src="/img/éšæœºè¿‡ç¨‹/å¹³ç¨³è¿‡ç¨‹/è‡ªç›¸å…³è¯æ˜3.png" /></li><li><img src="/img/éšæœºè¿‡ç¨‹/å¹³ç¨³è¿‡ç¨‹/è‡ªç›¸å…³è¯æ˜4.png" /></li></ol><p>æ¨è®ºï¼š <img src="/img/éšæœºè¿‡ç¨‹/å¹³ç¨³è¿‡ç¨‹/è‡ªç›¸å…³å‡½æ•°æ¨è®º.png" /></p><p>å®šç†ï¼š <img src="/img/éšæœºè¿‡ç¨‹/å¹³ç¨³è¿‡ç¨‹/å®šç†5.2.2.png" /></p><p>è¯æ˜ï¼š <img src="/img/éšæœºè¿‡ç¨‹/å¹³ç¨³è¿‡ç¨‹/5.2.2è¯æ˜.png" /></p><p>å®šç†: <img src="/img/éšæœºè¿‡ç¨‹/å¹³ç¨³è¿‡ç¨‹/å®šç†5.2.3.png" /></p><p>å®šç†ï¼š <img src="/img/éšæœºè¿‡ç¨‹/å¹³ç¨³è¿‡ç¨‹/å®šç†5.2.4.png" /></p><p>æ¨è®ºï¼š <img src="/img/éšæœºè¿‡ç¨‹/å¹³ç¨³è¿‡ç¨‹/å®šç†5.2.4æ¨è®º1.png" /></p>]]></content>
    
    
    <categories>
      
      <category>æ•°å­¦</category>
      
      <category>éšæœºè¿‡ç¨‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>éšæœºè¿‡ç¨‹</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¹¿ä¹‰é€†çŸ©é˜µ</title>
    <link href="/2022/12/05/%E5%B9%BF%E4%B9%89%E9%80%86%E7%9F%A9%E9%98%B5/"/>
    <url>/2022/12/05/%E5%B9%BF%E4%B9%89%E9%80%86%E7%9F%A9%E9%98%B5/</url>
    
    <content type="html"><![CDATA[<h2 id="å•è¾¹é€†">å•è¾¹é€†</h2><p>æ‰€è°“çŸ©é˜µçš„å•è¾¹é€†å°±æ˜¯æŒ‡çŸ©é˜µçš„å·¦é€†å’Œå³é€†ã€‚</p><figure><img src="/img/çŸ©é˜µè®º/å•è¾¹é€†å®šä¹‰.png" alt="çŸ©é˜µçš„å•è¾¹é€†" /><figcaption aria-hidden="true">çŸ©é˜µçš„å•è¾¹é€†</figcaption></figure><p><strong>å®šç†1</strong>:è®¾ <span class="math inline">\(A \in\mathbb{C}^{m Ã— n}\)</span>,åˆ™</p><ul><li><span class="math inline">\(A\)</span>å·¦å¯é€†çš„å……è¦æ¡ä»¶æ˜¯<spanclass="math inline">\(A\)</span>ä¸ºåˆ—æ»¡ç§©çŸ©é˜µ</li><li><span class="math inline">\(A\)</span>å³å¯é€†çš„å……è¦æ¡ä»¶æ˜¯<spanclass="math inline">\(A\)</span>ä¸ºè¡Œæ»¡ç§©çŸ©é˜µ</li></ul><p><strong>æ¨è®º1</strong>:è®¾ <span class="math inline">\(A \in\mathbb{C}^{m Ã— n}\)</span>,åˆ™</p><ul><li><span class="math inline">\(A\)</span>å·¦å¯é€†çš„å……è¦æ¡ä»¶æ˜¯<spanclass="math inline">\(N(A)=\{0\}\)</span></li><li><span class="math inline">\(A\)</span>å³å¯é€†çš„å……è¦æ¡ä»¶æ˜¯<spanclass="math inline">\(R(A)=\mathbb{C}^m\)</span></li></ul><h3 id="å•è¾¹é€†çš„æ±‚æ³•">å•è¾¹é€†çš„æ±‚æ³•</h3><p><strong>ä¾‹1</strong>: <img src="/img/çŸ©é˜µè®º/ä¾‹1-1.png" /> <imgsrc="/img/çŸ©é˜µè®º/ä¾‹1-2.png" /></p><p><strong>ä¾‹2</strong>: <img src="/img/çŸ©é˜µè®º/ä¾‹2-1.png" /> <imgsrc="/img/çŸ©é˜µè®º/ä¾‹2-2.png" /></p><p>éœ€è¦æ³¨æ„çš„æ˜¯ä¾‹1æ±‚å·¦é€†çŸ©é˜µè¿›è¡Œçš„æ˜¯åˆç­‰è¡Œå˜æ¢,ä¾‹2æ±‚å³é€†çŸ©é˜µæ˜¯è¿›è¡Œçš„åˆç­‰åˆ—å˜æ¢ï¼Œåˆç­‰è¡Œå˜æ¢æˆ‘ä»¬åœ¨çº¿æ€§ä»£æ•°ä¸­å¸¸ç”¨ï¼Œæ¯”è¾ƒç†Ÿæ‚‰ï¼Œä½†æ˜¯è¦æ±‚å³é€†çŸ©é˜µä¸€å®šè¦è¿›è¡Œåˆç­‰åˆ—å˜æ¢ã€‚</p><h2 id="å¹¿ä¹‰é€†çŸ©é˜µ">å¹¿ä¹‰é€†çŸ©é˜µ</h2><p><strong>å®šä¹‰</strong>: <img src="/img/çŸ©é˜µè®º/å¹¿ä¹‰é€†å®šä¹‰.png" /></p><p><strong>æ€§è´¨</strong>: <img src="/img/çŸ©é˜µè®º/å¹¿ä¹‰é€†å®šç†1.png" /></p><p>æ¨è®º: <img src="/img/çŸ©é˜µè®º/å¹¿ä¹‰é€†æ¨è®º1.png" /></p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒåŒçº¿æ€§ä»£æ•°ä¸­çš„çŸ©é˜µçš„é€†ä¸åŒçš„æ˜¯ï¼Œè¿™é‡Œæ±‚çš„å¹¿ä¹‰é€†ä¸€èˆ¬ä¸å”¯ä¸€ã€‚æ—¢ç„¶ä¸å”¯ä¸€ï¼Œæœ‰è®¸å¤šè§£çš„è¯ï¼Œæˆ‘ä»¬å°±è€ƒè™‘æ˜¯å¦æœ‰ä¸€ä¸ªé€šè§£å¯ä»¥å°†æ‰€æœ‰çš„å¹¿ä¹‰é€†å…¨éƒ¨è¡¨ç¤ºå‘¢ï¼Ÿçš„ç¡®æœ‰ï¼Œä¸‹é¢æˆ‘ä»¬å°±ä»‹ç»å®šç†2ï¼Œè¯¥å®šç†è¡¨ç¤ºçš„å°±æ˜¯å…¨éƒ¨çš„å¹¿ä¹‰é€†ï¼š</p><p><img src="/img/çŸ©é˜µè®º/å…¨éƒ¨å¹¿ä¹‰é€†é›†åˆå®šä¹‰.png" /></p><p><strong>å®šç†2</strong>(ä¸å¸¸è€ƒ): <imgsrc="/img/çŸ©é˜µè®º/å¹¿ä¹‰é€†å®šç†2-1.png" /> <imgsrc="/img/çŸ©é˜µè®º/å¹¿ä¹‰é€†å®šç†2-2.png" /></p><p><strong>å®šç†3</strong>: <img src="/img/çŸ©é˜µè®º/å¹¿ä¹‰é€†å®šç†3-1.png" /><img src="/img/çŸ©é˜µè®º/å¹¿ä¹‰é€†å®šç†3-2.png" /></p><ul><li>(i)æ˜¯é€†çŸ©é˜µæ€§è´¨åœ¨å¹¿ä¹‰é€†çš„æ¨å¹¿</li><li>(ii)è¯´çš„æ˜¯ä¸€ä¸ªçŸ©é˜µä¹˜ä»¥ä»–çš„å¹¿ä¹‰çŸ©é˜µæ˜¯å¹‚ç­‰çŸ©é˜µï¼Œä¸”ä»–ä»¬çŸ©é˜µçš„ç§©ç›¸ç­‰</li><li>(iii)å¯ä»¥çœ‹å‡º0çŸ©é˜µçš„å¹¿ä¹‰é€†çŸ©é˜µå¯ä»¥æ˜¯ä»»ä½•çŸ©é˜µï¼ˆåŒ…æ‹¬0çŸ©é˜µï¼‰</li><li>(v)è¯´çš„æ˜¯<span class="math inline">\(AA^{-1}\)</span>ä¸<spanclass="math inline">\(A\)</span>çš„å€¼åŸŸç›¸åŒ,<spanclass="math inline">\(A^{-1}A\)</span>ä¸<spanclass="math inline">\(A\)</span>çš„é›¶ç©ºé—´ç›¸åŒ,è¯æ˜å¦‚ä¸‹:</li></ul><p><img src="/img/çŸ©é˜µè®º/å®šç†3(v)è¯æ˜.png" /></p><h2 id="è‡ªåå¹¿ä¹‰é€†çŸ©é˜µ">è‡ªåå¹¿ä¹‰é€†çŸ©é˜µ</h2><p>è‡ªåå¹¿ä¹‰é€†çŸ©é˜µæ˜¯å¹¿ä¹‰é€†çŸ©é˜µé‡Œçš„ä¸€ç±»ç‰¹æ®ŠçŸ©é˜µ,å…¶å®šä¹‰å¦‚ä¸‹: <imgsrc="/img/çŸ©é˜µè®º/è‡ªåå¹¿ä¹‰é€†çŸ©é˜µå®šä¹‰.png" /></p><p><strong>å®šç†1</strong>: <imgsrc="/img/çŸ©é˜µè®º/è‡ªåå¹¿ä¹‰é€†çŸ©é˜µå®šç†1.png" /></p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè‡ªåå¹¿ä¹‰é€†çŸ©é˜µå¹¶ä¸å”¯ä¸€ã€‚äº‹å®ä¸Šï¼Œå¯¹äº <imgsrc="/img/çŸ©é˜µè®º/å¹¿ä¹‰é€†çŸ©é˜µ/å›¾1.png" /></p><p>æ„é€ è¿™æ ·çš„çŸ©é˜µ <img src="/img/çŸ©é˜µè®º/å¹¿ä¹‰é€†çŸ©é˜µ/å›¾2.png" /></p><p>æ‰€æœ‰æ»¡è¶³è¿™æ ·æ¡ä»¶çš„çŸ©é˜µGï¼Œå°±æ˜¯Açš„è‡ªåå¹¿ä¹‰é€†ã€‚æ‰€ä»¥è‡ªåå¹¿ä¹‰é€†å¹¶ä¸å”¯ä¸€.</p><p><strong>å®šç†2</strong>(è€ƒè¯•ä¸è¦æ±‚): <imgsrc="/img/çŸ©é˜µè®º/å¹¿ä¹‰é€†çŸ©é˜µ/å®šç†2.png" /></p><p>å®šç†2ç»™å‡ºäº†è‡ªåå¹¿ä¹‰é€†çŸ©é˜µçš„ä¸€ç§å…·ä½“çš„æ„é€ æ–¹æ³•,</p><p><strong>å®šç†3</strong>: <imgsrc="/img/çŸ©é˜µè®º/å¹¿ä¹‰é€†çŸ©é˜µ/å®šç†3.png" /></p><p>å®šç†3ç»™å‡ºäº†åœ¨å¹¿ä¹‰é€†çŸ©é˜µä¸­ï¼ŒåŒºåˆ†è‡ªåå¹¿ä¹‰é€†çš„ä¸€ç§æœ‰æ•ˆæ–¹æ³•ã€‚å½“å¹¿ä¹‰é€†çŸ©é˜µçš„ç§©ç­‰äºçŸ©é˜µAçš„ç§©çš„æ—¶å€™æ˜¯è‡ªåå¹¿ä¹‰é€†ã€‚å½“å¹¿ä¹‰é€†çš„ç§©å¤§äºçŸ©é˜µAçš„ç§©çš„æ—¶å€™æ˜¯å¹¿ä¹‰é€†çŸ©é˜µè€Œä¸æ˜¯è‡ªåå¹¿ä¹‰é€†çŸ©é˜µã€‚</p><h2 id="m-på¹¿ä¹‰é€†çŸ©é˜µ">M-På¹¿ä¹‰é€†çŸ©é˜µ</h2><p>M-På¹¿ä¹‰é€†çŸ©é˜µï¼ˆMoore-Penroseï¼‰çŸ©é˜µæ˜¯åœ¨è‡ªåå¹¿ä¹‰é€†çŸ©é˜µä¹‹ä¸ŠåˆåŠ äº†ä¸¤ä¸ªæ¡ä»¶å½¢æˆçš„çŸ©é˜µï¼Œè¦æ±‚æ›´åŠ è‹›åˆ»ã€‚æˆ‘ä»¬ä¸€èˆ¬ç”¨<span class="math inline">\(A^+\)</span> æ¥è¡¨ç¤ºM-På¹¿ä¹‰é€†çŸ©é˜µã€‚ <imgsrc="/img/çŸ©é˜µè®º/å¹¿ä¹‰é€†çŸ©é˜µ/M-På¹¿ä¹‰é€†å®šä¹‰.png" /></p><p>è¿™å››ä¸ªæ¡ä»¶ï¼Œå…±åŒä¿è¯äº† <span class="math inline">\(A^+\)</span>çš„<strong>å”¯ä¸€æ€§</strong>ã€‚</p><p><strong>å®šç†1</strong>: <imgsrc="/img/çŸ©é˜µè®º/å¹¿ä¹‰é€†çŸ©é˜µ/M-På¹¿ä¹‰é€†å®šç†1.png" /></p><p>è¯¥å®šç†ç»™å‡ºäº†<span class="math inline">\(A^+\)</span>çš„å…·ä½“è®¡ç®—æ–¹æ³•ã€‚å®šç†çš„è¯æ˜ç›´æ¥ç”¨è¯¥å¼å­éªŒè¯å®šä¹‰ä¸­çš„å››ä¸ªå¼å­å³å¯.</p><p><strong>å®šç†2</strong>:è®¾ <span class="math inline">\(A \in\mathbb{C}^{m Ã— n}\)</span>,åˆ™ <spanclass="math inline">\(A^+\)</span>æ˜¯å”¯ä¸€çš„.</p><p>è¿™ä¸€ç‚¹å·²ç»åœ¨ä¸Šé¢æåˆ°è¿‡äº†,å®šä¹‰ä¸­çš„å››ä¸ªå¼å­ä¿è¯äº†<spanclass="math inline">\(A^+\)</span>çš„å”¯ä¸€.</p><h3 id="m-på¹¿ä¹‰é€†çš„æ€§è´¨">M-På¹¿ä¹‰é€†çš„æ€§è´¨</h3><p><img src="/img/çŸ©é˜µè®º/å¹¿ä¹‰é€†çŸ©é˜µ/M-På¹¿ä¹‰é€†å®šç†3.png" /></p><p><strong>å®šç†5</strong>: <imgsrc="/img/çŸ©é˜µè®º/å¹¿ä¹‰é€†çŸ©é˜µ/M-På¹¿ä¹‰é€†å®šç†5.png" /></p><h3 id="m-på¹¿ä¹‰é€†çš„è®¡ç®—">M-På¹¿ä¹‰é€†çš„è®¡ç®—</h3><h4 id="æœ€å¤§ç§©åˆ†è§£">æœ€å¤§ç§©åˆ†è§£</h4><p><img src="/img/çŸ©é˜µè®º/å¹¿ä¹‰é€†çŸ©é˜µ/å¼•ç†1.png" /></p><p><strong>å®šç†1</strong>: <imgsrc="/img/çŸ©é˜µè®º/å¹¿ä¹‰é€†çŸ©é˜µ/M-På¹¿ä¹‰é€†çš„è®¡ç®—å®šç†1.png" /></p><p><strong>ä¾‹1</strong>: <imgsrc="/img/çŸ©é˜µè®º/å¹¿ä¹‰é€†çŸ©é˜µ/æœ€å¤§ç§©åˆ†è§£æ³•ä¾‹1-1.png" /> <imgsrc="/img/çŸ©é˜µè®º/å¹¿ä¹‰é€†çŸ©é˜µ/æœ€å¤§ç§©åˆ†è§£æ³•ä¾‹1-2.png" /> <imgsrc="/img/çŸ©é˜µè®º/å¹¿ä¹‰é€†çŸ©é˜µ/æœ€å¤§ç§©åˆ†è§£æ³•ä¾‹1-3.png" /></p><h4 id="å¥‡å¼‚å€¼åˆ†è§£æ³•">å¥‡å¼‚å€¼åˆ†è§£æ³•</h4><p><strong>å®šç†2</strong>: <imgsrc="/img/çŸ©é˜µè®º/å¹¿ä¹‰é€†çŸ©é˜µ/M-På¹¿ä¹‰é€†è®¡ç®—å®šç†2-1.png" /> <imgsrc="/img/çŸ©é˜µè®º/å¹¿ä¹‰é€†çŸ©é˜µ/M-På¹¿ä¹‰é€†è®¡ç®—å®šç†2-2.png" /></p><h3 id="m-på¹¿ä¹‰é€†çš„åº”ç”¨">M-På¹¿ä¹‰é€†çš„åº”ç”¨</h3><h4 id="åˆ¤æ–­æ–¹ç¨‹æœ‰æ²¡æœ‰è§£">åˆ¤æ–­æ–¹ç¨‹æœ‰æ²¡æœ‰è§£</h4><p>æ±‚å‡º<span class="math inline">\(A^+\)</span>,åˆ¤æ–­<spanclass="math inline">\(AA^+b\)</span>æ˜¯å¦ç­‰äº<spanclass="math inline">\(b\)</span>,è‹¥ä¸ç­‰äºåˆ™æ²¡æœ‰è§£ï¼Œå¦åˆ™æœ‰è§£ã€‚</p><h4id="æ±‚æ–¹ç¨‹çš„æœ€ä½³é€¼è¿‘è§£æœ€å°èŒƒæ•°è§£æœ€å°äºŒä¹˜è§£">æ±‚æ–¹ç¨‹çš„æœ€ä½³é€¼è¿‘è§£/æœ€å°èŒƒæ•°è§£/æœ€å°äºŒä¹˜è§£</h4><p>å½“æ–¹ç¨‹æœ‰è§£çš„æ—¶å€™ï¼Œå¯ä»¥æ±‚å¾—æœ€å°èŒƒæ•°è§£ä¸º<spanclass="math inline">\(A^+b\)</span>ï¼›å½“æ–¹ç¨‹æ²¡æœ‰è§£çš„æ—¶å€™ï¼Œå¯ä»¥æ±‚å‡ºæœ€ä½³é€¼è¿‘è§£ä¸º<spanclass="math inline">\(A^+b\)</span>ï¼Œæœ€å°äºŒä¹˜é€šè§£ä¸º<spanclass="math inline">\(A^+ b+(I-A^+ A)u, \forall u \in\mathbb{C}^n\)</span>,å…¶ä¸­<span class="math inline">\(A\)</span>ä¸º<spanclass="math inline">\(n\)</span>é˜¶çŸ©é˜µã€‚</p>]]></content>
    
    
    <categories>
      
      <category>æ•°å­¦</category>
      
      <category>çŸ©é˜µè®º</category>
      
    </categories>
    
    
    <tags>
      
      <tag>çŸ©é˜µè®º</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>çŸ©é˜µåˆ†è§£</title>
    <link href="/2022/12/05/%E7%9F%A9%E9%98%B5%E5%88%86%E8%A7%A3/"/>
    <url>/2022/12/05/%E7%9F%A9%E9%98%B5%E5%88%86%E8%A7%A3/</url>
    
    <content type="html"><![CDATA[<!-- <link href="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/KaTeX/0.10.2/katex.min.css" rel="stylesheet"> --><h2id="ä¸‰è§’åˆ†è§£qråˆ†è§£éœ€è¦æ˜¯éå¥‡å¼‚çŸ©é˜µ">ä¸‰è§’åˆ†è§£(QRåˆ†è§£)(éœ€è¦æ˜¯éå¥‡å¼‚çŸ©é˜µ)</h2><h3id="æ­£äº¤ä¸‰è§’åˆ†è§£é€šè¿‡schmidtæ­£äº¤åŒ–">æ­£äº¤ä¸‰è§’åˆ†è§£(é€šè¿‡Schmidtæ­£äº¤åŒ–)</h3><p>è‹¥ <span class="math inline">\(n\)</span> é˜¶å®çŸ©é˜µ <spanclass="math inline">\(A\in \mathbb {C}^{n\times n}\)</span> æ»¡ç§©ï¼Œä¸”<span class="math display">\[A = [\alpha_1,...,\alpha_n]\]</span></p><p>å…¶ä¸­ <span class="math inline">\(\alpha_1,...,\alpha_n\)</span> æ˜¯<span class="math inline">\(\mathbb {C}^{n\times n}\)</span>ä¸­çº¿æ€§æ— å…³å‘é‡ç»„</p><p><strong>æ­£äº¤åŒ–</strong></p><p>ä»¤</p><p><span class="math display">\[ \begin{aligned} \beta_1&amp;=\alpha_1\\\beta_2&amp;=\alpha_2 -\frac{\left&lt;\beta_1,\alpha_1\right&gt;}{\left&lt;\beta_1,\beta_1\right&gt;}\beta_1\\ \vdots \\ \beta_n &amp;= \alpha_n -\frac{\left&lt;\beta_n,\alpha_1\right&gt;}{\left&lt;\beta_1,\beta_1\right&gt;}\beta_1-\cdots-\frac{\left&lt;\beta_{n-1},\alpha_n\right&gt;}{\left&lt;\beta_{n-1},\alpha_{n-1}\right&gt;}\beta_{n-1}\end{aligned} \]</span></p><p>å˜å½¢å¾—</p><p><span class="math display">\[ \begin{aligned} \alpha_1 &amp;=\beta_1\\ \alpha_2 &amp;=\frac{\left&lt;\beta_1,\alpha_1\right&gt;}{\left&lt;\beta_1,\beta_1\right&gt;}\beta_1+ \beta_2\\ \vdots \\ \alpha_n &amp;=\frac{\left&lt;\beta_n,\alpha_1\right&gt;}{\left&lt;\beta_1,\beta_1\right&gt;}\beta_1-\cdots-\frac{\left&lt;\beta_{n-1},\alpha_n\right&gt;}{\left&lt;\beta_{n-1},\alpha_{n-1}\right&gt;}\beta_{n-1}+ \beta_n \end{aligned} \]</span></p><p>å†™æˆçŸ©é˜µå½¢å¼</p><p><span class="math display">\[ \begin{aligned}\begin{bmatrix}\alpha_1,\alpha_2,...,\alpha_n\end{bmatrix} &amp;=\begin{bmatrix}\beta_1,\beta_2,...,\beta_n\end{bmatrix}\begin{bmatrix}1&amp;\frac{\left&lt;\beta_1,\alpha_1\right&gt;}{\left&lt;\beta_1,\beta_1\right&gt;}&amp;\cdots&amp;\frac{\left&lt;\beta_1,\alpha_n\right&gt;}{\left&lt;\beta_1,\beta_1\right&gt;}\\0&amp;1&amp;\cdots&amp;\frac{\left&lt;\beta_2,\alpha_n\right&gt;}{\left&lt;\beta_2,\beta_2\right&gt;}\\&amp;&amp;\ddots\\0&amp;&amp;\cdots&amp; 1\end{bmatrix}\\&amp;\triangleqB\begin{bmatrix}1&amp;\frac{\left&lt;\beta_1,\alpha_1\right&gt;}{\left&lt;\beta_1,\beta_1\right&gt;}&amp;\cdots&amp;\frac{\left&lt;\beta_1,\alpha_n\right&gt;}{\left&lt;\beta_1,\beta_1\right&gt;}\\0&amp;1&amp;\cdots&amp;\frac{\left&lt;\beta_2,\alpha_n\right&gt;}{\left&lt;\beta_2,\beta_2\right&gt;}\\&amp;&amp;\ddots\\0&amp;&amp;\cdots&amp; 1\end{bmatrix} \end{aligned}\]</span></p><p><strong>å•ä½åŒ–</strong></p><p>ä»¤</p><p><span class="math display">\[ \begin{aligned}q_1=&amp;\frac{\beta_1}{||\beta_1||} \\ &amp;\vdots \\ q_n =&amp; \frac{\beta_n}{||\beta_n||} \end{aligned} \]</span></p><p>å˜å½¢å¾—</p><p><span class="math display">\[ \begin{aligned} \beta_1 =&amp;q_1||\beta_1|| \\ &amp;\vdots \\ \beta_n =&amp; q_n ||\beta_n||\end{aligned}\]</span></p><p>å†™æˆçŸ©é˜µå½¢å¼</p><p><span class="math display">\[ \begin{aligned}\begin{bmatrix}\beta_1,\beta_2,...,\beta_n\end{bmatrix} &amp;=\begin{bmatrix}q_1,q_2,...,q_n\end{bmatrix}\begin{bmatrix}||\beta_1||&amp;0&amp;\cdots&amp;0\\0&amp;||\beta_2||&amp;\cdots&amp;0\\&amp;&amp;\ddots\\0&amp;&amp;\cdots&amp; ||\beta_n||\end{bmatrix}\\&amp;\triangleq Q\begin{bmatrix}||\beta_1||&amp;0&amp;\cdots&amp;0\\0&amp;||\beta_2||&amp;\cdots&amp;0\\&amp;&amp;\ddots\\0&amp;&amp;\cdots&amp; ||\beta_n||\end{bmatrix}\end{aligned} \]</span></p><p>ç»¼ä¸Šï¼Œç»“åˆæ­£äº¤åŒ–å’Œå•ä½åŒ–å¯å¾—</p><p><span class="math display">\[ \begin{aligned} A &amp;=B\begin{bmatrix}1&amp;\frac{\left&lt;\beta_1,\alpha_1\right&gt;}{\left&lt;\beta_1,\beta_1\right&gt;}&amp;\cdots&amp;\frac{\left&lt;\beta_1,\alpha_n\right&gt;}{\left&lt;\beta_1,\beta_1\right&gt;}\\0&amp;1&amp;\cdots&amp;\frac{\left&lt;\beta_2,\alpha_n\right&gt;}{\left&lt;\beta_2,\beta_2\right&gt;}\\&amp;&amp;\ddots\\0&amp;&amp;\cdots&amp; 1\end{bmatrix}\\&amp;=Q\begin{bmatrix}||\beta_1||&amp;0&amp;\cdots&amp;0\\0&amp;||\beta_2||&amp;\cdots&amp;0\\&amp;&amp;\ddots\\0&amp;&amp;\cdots&amp;||\beta_n||\end{bmatrix}\begin{bmatrix}1&amp;\frac{\left&lt;\beta_1,\alpha_1\right&gt;}{\left&lt;\beta_1,\beta_1\right&gt;}&amp;\cdots&amp;\frac{\left&lt;\beta_1,\alpha_n\right&gt;}{\left&lt;\beta_1,\beta_1\right&gt;}\\0&amp;1&amp;\cdots&amp;\frac{\left&lt;\beta_2,\alpha_n\right&gt;}{\left&lt;\beta_2,\beta_2\right&gt;}\\&amp;&amp;\ddots\\0&amp;&amp;\cdots&amp; 1\end{bmatrix}\\&amp;=Q\begin{bmatrix}||\beta_1||&amp;\frac{\left&lt;\beta_1,\alpha_1\right&gt;}{\left&lt;\beta_1,\beta_1\right&gt;}&amp;\cdots&amp;\frac{\left&lt;\beta_1,\alpha_n\right&gt;}{\left&lt;\beta_1,\beta_1\right&gt;}\\0&amp;||\beta_2||&amp;\cdots&amp;\frac{\left&lt;\beta_2,\alpha_n\right&gt;}{\left&lt;\beta_2,\beta_2\right&gt;}\\&amp;&amp;\ddots\\0&amp;&amp;\cdots&amp; ||\beta_n||\end{bmatrix}\\&amp;\triangleq QR \end{aligned} \]</span></p><p><strong>QR åˆ†è§£å®šç†</strong> : <span class="math inline">\(A\in\mathbb {C}^{n\times n}\)</span> ,åˆ™å­˜åœ¨é…‰çŸ©é˜µ <spanclass="math inline">\(Q\)</span> å’Œæ­£çº¿ä¸Šä¸‰è§’é˜µ <spanclass="math inline">\(R\)</span> ï¼Œä½¿ <spanclass="math display">\[A=QR\]</span></p><p>ä¸”åˆ†è§£å”¯ä¸€</p><p><strong>æ­£äº¤ä¸‰è§’åˆ†è§£çš„æ±‚æ³•</strong> 1. å–çŸ©é˜µ <spanclass="math inline">\(A=(A_1,A_2,...,A_n)\)</span> çš„åˆ—å‘é‡ï¼Œè¿›è¡Œ<strong>Schmidt æ ‡å‡†æ­£äº¤åŒ–</strong>,å¾— <spanclass="math inline">\(v_1,v_2,...,v_n\)</span> ï¼Œæœ‰ <spanclass="math display">\[Q=(v_1,v_2,...,v_n)\]</span> 2. å†ç”± <spanclass="math inline">\(R=Q^HA\)</span> å¾—åˆ° <spanclass="math inline">\(R\)</span> , äºæ˜¯ <spanclass="math inline">\(A=QR\)</span></p><h3 id="householderå˜æ¢åˆ†è§£">HouseHolderå˜æ¢åˆ†è§£</h3><p>å°†çŸ©é˜µAæŒ‰åˆ—åˆ’åˆ†ä¸º <spanclass="math inline">\((\alpha_1,\alpha_2,\dots,\alpha_n)\)</span>,ä»¥4é˜¶æ–¹é˜µä¸ºä¾‹ï¼Œ</p><p>ç¬¬ä¸€æ­¥ ä»¤ <spanclass="math display">\[\omega_1=\frac{\alpha_1-a_1*e_1}{||\alpha_1-a_1*e_1||_2}ï¼Œa_1=||\alpha_1||_2\]</span></p><p>äºæ˜¯ <spanclass="math display">\[H_1A=(H_1\alpha_1,H_1\alpha_2ï¼Œ...ï¼ŒH_1\alpha_n)=\left\{\begin{matrix} a_1 &amp; * &amp; \cdots &amp; * \\                   0      &amp; \\                   \vdots &amp; &amp;B_1 \\0\end{matrix}\right\}\]</span></p><p>ç¬¬äºŒæ­¥</p><p>ä»ç¬¬ä¸€æ­¥ä¸­å¾—åˆ° <spanclass="math inline">\(B_1=(\beta_2,\beta_2,\cdots,\beta_n)\inR^{n-1}\)</span></p><p>å– <spanclass="math display">\[\omega_2=\frac{\beta_2-b_2*e_1}{||\beta_2-b_2*e_1||_2}ï¼Œb_1=||\beta_2||_2\]</span></p><p>åˆ™ <spanclass="math display">\[\widehat{H_2}=I-2*\omega_2*\omega_2^T,H_2=\left\{\begin{matrix}1 &amp; 0^T \\                                                              0 &amp;\widehat{H_2}ï¼Œ                                              \end{matrix}\right\}\]</span></p><p>å¾—åˆ° <span class="math display">\[H_2(H_1*A) = \begin{bmatrix}   a_1&amp; * &amp; * &amp; \cdots &amp;* \\                                       0 &amp; a_2 &amp; * &amp; \cdots&amp;* \\                                       0 &amp; 0 &amp;  &amp;\\                                       \vdots &amp; \vdots&amp;  &amp;C_2&amp; \\                                       0 &amp; 0\end{bmatrix} , C_2\in R^{n-2}\]</span></p><p>ä¾æ¬¡ç±»æ¨ï¼Œè¿›è¡Œç¬¬næ­¥æ—¶ï¼Œå¾—åˆ°ç¬¬n-1ä¸ª <spanclass="math inline">\(H_{n-1}\)</span>é˜µ,ä½¿å¾— <spanclass="math display">\[H_{n-1} \cdots H_2H_1*A = \begin{bmatrix}   a_1&amp; * &amp; * &amp; \cdots &amp; * \\                                                   0 &amp; a_2 &amp; *&amp; \cdots &amp; * \\                                                   0 &amp; 0 &amp; a_3&amp; \cdots &amp; *\\                                                  \vdots &amp; \vdots&amp; &amp;\ddots \\                                                    0 &amp; 0 &amp; 0&amp; \cdots &amp;a_n\end{bmatrix}=R\]</span></p><p>å…¶ä¸­ <span class="math inline">\(H_{n-1} \cdotsH_2H_1*A=H\)</span>ä¹Ÿç§°ä¸ºHouseHolderçŸ©é˜µï¼Œä¹Ÿä¸ºè‡ªé€†çŸ©é˜µ <spanclass="math inline">\(H=H^{-1}\)</span></p><p><span class="math display">\[H_{n-1} \cdots H_2H_1*A=R\]</span> <spanclass="math display">\[\Rightarrow (H_{n-1} \cdots H_2*H_1)^{-1}*H_{n-1}\cdots H_2H_1*A=(H_{n-1} \cdots H_2*H_1)^{-1}*R\]</span> <spanclass="math display">\[\Rightarrow A=H_1^{-1} \cdotsH_{n-1}^{-1}*R\]</span> <span class="math display">\[\RightarrowA=H_1\cdots H_{n-1}*R\]</span></p><p>å¾—åˆ° <span class="math inline">\(A=QR\)</span>,å…¶ä¸­ <spanclass="math inline">\(Q\)</span>ä¸ºæ­£äº¤çŸ©é˜µï¼Œ <spanclass="math inline">\(R\)</span>ä¸ºä¸Šä¸‰è§’çŸ©é˜µ <spanclass="math display">\[\begin{cases}Q = H_1\cdots H_{n-1}\\R = Q^{-1}A=QA\end{cases}\]</span></p><h3 id="ä¸‰è§’åˆ†è§£çš„æ€§è´¨">ä¸‰è§’åˆ†è§£çš„æ€§è´¨</h3><p><strong>å®šç†1</strong>:è®¾ <span class="math inline">\(A\in \mathbb{C}_r^{m\times n}\)</span>ï¼Œåˆ™ <span class="math inline">\(A\)</span>å¯ä»¥å”¯ä¸€åœ°åˆ†è§£ä¸º <span class="math display">\[A=U_1 R\]</span></p><p>å…¶ä¸­ <span class="math inline">\(U_1\)</span>æ˜¯é…‰çŸ©é˜µï¼Œ <spanclass="math inline">\(R\)</span> æ˜¯æ­£çº¿ä¸Šä¸‰è§’å¤çŸ©é˜µï¼Œæˆ– <spanclass="math inline">\(A\)</span> å¯ä»¥å”¯ä¸€åœ°åˆ†è§£ä¸º <spanclass="math display">\[A=L U_2\]</span></p><p>å…¶ä¸­ <span class="math inline">\(L\)</span>æ˜¯æ­£çº¿ä¸‹ä¸‰è§’å¤çŸ©é˜µï¼Œ <spanclass="math inline">\(U_2\)</span>æ˜¯é…‰çŸ©é˜µ</p><p><strong>æ¨è®º1</strong>ï¼šè®¾ <span class="math inline">\(A \in \mathbb{R}^{n Ã— n}_n\)</span>,åˆ™ <spanclass="math inline">\(A\)</span>å¯ä»¥å”¯ä¸€åœ°åˆ†è§£ä¸º <spanclass="math display">\[A=Q_1 R\]</span></p><p>å…¶ä¸­ <span class="math inline">\(Q_1\)</span>æ˜¯åˆ™æ­£äº¤çŸ©é˜µï¼Œ<spanclass="math inline">\(R\)</span>æ˜¯æ­£çº¿ä¸Šä¸‰è§’å®çŸ©é˜µï¼Œæˆ– <spanclass="math inline">\(A\)</span>å¯ä»¥å”¯ä¸€åœ°åˆ†è§£ä¸º <spanclass="math display">\[A=L Q_2\]</span></p><p>å…¶ä¸­ <span class="math inline">\(L\)</span>æ˜¯æ­£çº¿ä¸‹ä¸‰è§’å®çŸ©é˜µï¼Œ <spanclass="math inline">\(Q_2\)</span>æ˜¯æ­£äº¤çŸ©é˜µã€‚</p><p><strong>æ¨è®º2</strong>ï¼šè®¾Aæ˜¯å®å¯¹ç§°æ­£å®šçŸ©é˜µï¼Œåˆ™å­˜åœ¨å”¯ä¸€æ­£çº¿ä¸Šä¸‰è§’å®çŸ©é˜µ<span class="math inline">\(R\)</span>ï¼Œä½¿å¾— <spanclass="math display">\[A=R^T R\]</span></p><p><strong>æ¨è®º3</strong>ï¼šè®¾ <spanclass="math inline">\(A\)</span>æ˜¯æ­£å®šHermiteçŸ©é˜µï¼Œåˆ™å­˜åœ¨å”¯ä¸€æ­£çº¿ä¸Šä¸‰è§’å¤çŸ©é˜µ<spanclass="math inline">\(R\)</span>ï¼Œä½¿å¾— <spanclass="math display">\[A=R^H R\]</span></p><h2 id="çŸ©é˜µçš„æ»¡ç§©åˆ†è§£">çŸ©é˜µçš„æ»¡ç§©åˆ†è§£</h2><p>è®¾ <span class="math inline">\(A\in \mathbb {C}_r^{m\timesn}\)</span>ï¼Œåˆ™å­˜åœ¨ <span class="math inline">\(B\in \mathbb{C}_r^{m\times r}, C\in \mathbb {C}_r^{r\times n}\)</span>ï¼Œæ»¡è¶³ <spanclass="math display">\[ A = BC \]</span></p><p><span class="math inline">\(\mathbb {C}_r\)</span> è¡¨ç¤ºçŸ©é˜µçš„ç§©ä¸º<span class="math inline">\(r\)</span></p><p>å®é™…ä¸Šä¸Šè¿°å®šç†ç”¨æ–‡å­—æè¿°å°±æ˜¯ï¼Œä¸€ä¸ªäºç§©çš„çŸ©é˜µå¯ä»¥åˆ†è§£æˆä¸€ä¸ªåˆ—æ»¡ç§©ä¸è¡Œæ»¡ç§©çŸ©é˜µçš„ä¹˜ç§¯</p><p>è¯æ˜ï¼šå› ä¸º <span class="math inline">\(rank(A)=r\)</span>ï¼Œæ‰€ä»¥ä¸€å®šå¯ä»¥æ‰¾åˆ°ä¸ <spanclass="math inline">\(A\)</span> ç›¸ä¼¼çš„ä¸€ä¸ªçŸ©é˜µ</p><p><span class="math display">\[ A \simeq\begin{bmatrix}E_r&amp;0_{r\times (n-r)}\\0_{(m-r)\timesr}&amp;0_{(m-r)\times(n-r)}\end{bmatrix}=\begin{bmatrix}E_r\\0_{(m-r)\timesr}\end{bmatrix}\begin{bmatrix}E_r&amp;0_{r\times (n-r)}\end{bmatrix}\]</span></p><p>å› æ­¤å­˜åœ¨ä¸¤ä¸ªå¯é€†çŸ©é˜µ <span class="math inline">\(P,Q\)</span>ï¼Œä½¿<span class="math inline">\(PAQ=\begin {bmatrix} E_r&amp;0\\0&amp;0\end{bmatrix}\)</span>ï¼Œåˆ™</p><p><span class="math display">\[ \begin{aligned} A &amp;=P^{-1}\begin{bmatrix}E_r\\0\end{bmatrix}\begin{bmatrix}E_r&amp;0\end{bmatrix}Q^{-1}\\&amp;\triangleq BC \end{aligned} \]</span></p><p>å› ä¸º <span class="math inline">\(P^{-1}\)</span> æ˜¯å¯é€†çŸ©é˜µï¼Œ<spanclass="math inline">\(\begin {bmatrix} E_r\\0\end {bmatrix}\)</span>æ˜¯ä¸€ä¸ªåˆ—æ»¡ç§©çŸ©é˜µï¼Œæ‰€ä»¥ <span class="math inline">\(B=P^{-1}\begin{bmatrix} E_r\\0\end {bmatrix}\)</span> ä»æ˜¯ä¸€ä¸ªåˆ—æ»¡ç§©çŸ©é˜µï¼›åŒç†ï¼Œ<spanclass="math inline">\(C=\begin {bmatrix} E_r&amp;0\end {bmatrix}Q^{-1}\)</span> æ˜¯ä¸€ä¸ªè¡Œæ»¡ç§©çŸ©é˜µ</p><h3 id="çŸ©é˜µæ»¡ç§©åˆ†è§£çš„è®¡ç®—">çŸ©é˜µæ»¡ç§©åˆ†è§£çš„è®¡ç®—</h3><p>å¦‚ä½•åœ¨ç»™å®šçŸ©é˜µ <span class="math inline">\(A\)</span>çš„æƒ…å†µä¸‹ï¼Œæ±‚å‡ºçŸ©é˜µ <span class="math inline">\(B,C\)</span> å‘¢ï¼Ÿ</p><p>è®¾</p><p><span class="math display">\[\begin{align}&amp;A = [\alpha_1,\alpha_2,...,\alpha_n]\\ &amp;B =[\beta_1,\beta_2,...,\beta_r]  \end{align}\]</span></p><p>å…¶ä¸­ <span class="math inline">\(\beta_1,...,\beta_r\)</span>çº¿æ€§æ— å…³</p><p>æ‰€ä»¥ <span class="math display">\[ \begin{aligned} &amp;A=BC\\&amp;\Rightarrow[\alpha_1,\alpha_2,...,\alpha_n]=[\beta_1,...,\beta_r]\begin{bmatrix}c_{11}&amp;\cdots&amp;c_{1n}\\\vdots &amp;\ddots&amp;\vdots\\c_{r1}&amp;\cdots&amp;c_{rn}\end{bmatrix} \end{aligned} \]</span></p><p>å®é™…ä¸Šæˆ‘ä»¬å¯ä»¥å– <spanclass="math inline">\(\beta_1,...,\beta_r\)</span> ä¸º <spanclass="math inline">\(\alpha_1,...,\alpha_n\)</span>çš„ä¸€ä¸ªæå¤§çº¿æ€§æ— å…³ç»„ï¼Œå› æ­¤ <span class="math inline">\(B\)</span>å°±æ˜¯çŸ©é˜µ <span class="math inline">\(A\)</span>åˆ—å‘é‡ç»„çš„ä¸€ä¸ªæå¤§çº¿æ€§æ— å…³ç»„ï¼Œ<span class="math inline">\(C\)</span>å°±æ˜¯ç”¨è¯¥çº¿æ€§æ— å…³ç»„å»è¡¨ç¤º <span class="math inline">\(A\)</span>æ—¶çš„ç³»æ•°</p><h4 id="ä¾‹-1">ä¾‹ 1</h4><p>æ±‚çŸ©é˜µ <span class="math inline">\(A=\begin {bmatrix}1&amp;4&amp;-1&amp;5&amp;6\\2&amp;0&amp;0&amp;0&amp;-14\\-1&amp;2&amp;-4&amp;0&amp;1\\2&amp;6&amp;-5&amp;5&amp;-7\end{bmatrix}\)</span> çš„æ»¡ç§©åˆ†è§£</p><p><strong>è§£</strong>ï¼šå¯¹çŸ©é˜µ <span class="math inline">\(A\)</span>åªä½œåˆç­‰è¡Œå˜æ¢ <span class="math display">\[A=\begin{bmatrix}1&amp;4&amp;-1&amp;5&amp;6\\2&amp;0&amp;0&amp;0&amp;-14\\-1&amp;2&amp;-4&amp;0&amp;1\\2&amp;6&amp;-5&amp;5&amp;-7\end{bmatrix}\toÂ·Â·Â·\to\begin{bmatrix}1&amp;0&amp;0&amp;0&amp;-7\\0&amp;1&amp;0&amp;\frac{10}{7}&amp;\frac{29}{7}\\0&amp;0&amp;1&amp;\frac{5}{7}&amp;\frac{25}{7}\\0&amp;0&amp;0&amp;0&amp;0\end{bmatrix}\]</span></p><p><span class="math inline">\(A\)</span> çš„ç§©ä¸º3ï¼Œä¸”å‰ä¸‰ä¸ªåˆ—å‘é‡çº¿æ€§æ— å…³ï¼Œæ•… <span class="math display">\[ B =\begin{bmatrix}1&amp;4&amp;-1\\2&amp;0&amp;0\\-1&amp;2&amp;-4\\2&amp;6&amp;-5\end{bmatrix}ï¼ŒC=\begin{bmatrix}1&amp;0&amp;0&amp;0&amp;-7\\0&amp;1&amp;0&amp;\frac{10}{7}&amp;\frac{29}{7}\\0&amp;0&amp;1&amp;\frac{5}{7}&amp;\frac{25}{7}\end{bmatrix}\]</span></p><h4 id="ä¾‹-2">ä¾‹ 2</h4><p>æ±‚çŸ©é˜µ <span class="math inline">\(A=\begin {bmatrix}2&amp;1&amp;-2&amp;3&amp;1\\2&amp;5&amp;-1&amp;4&amp;1\\1&amp;3&amp;-1&amp;2&amp;1\end{bmatrix}\)</span> çš„æ»¡ç§©åˆ†è§£</p><p><strong>è§£</strong>ï¼šå¯¹çŸ©é˜µ <span class="math inline">\(A\)</span>åªä½œåˆç­‰è¡Œå˜æ¢</p><p><span class="math display">\[A=\begin{bmatrix}2&amp;1&amp;-2&amp;3&amp;1\\2&amp;5&amp;-1&amp;4&amp;1\\1&amp;3&amp;-1&amp;2&amp;1\end{bmatrix}\toÂ·Â·Â·\to\begin{bmatrix}1&amp;0&amp;0&amp;\frac{8}{5}&amp;-\frac{2}{5}\\0&amp;1&amp;0&amp;\frac{1}{5}&amp;\frac{1}{5}\\0&amp;0&amp;1&amp;\frac{1}{5}&amp;-\frac{4}{5}\end{bmatrix}\]</span></p><p><span class="math inline">\(A\)</span> çš„ç§©ä¸º3ï¼Œä¸”å‰ä¸‰ä¸ªåˆ—å‘é‡çº¿æ€§æ— å…³ï¼Œæ•… <span class="math display">\[ B =\begin{bmatrix}2&amp;1&amp;-2\\2&amp;5&amp;-1\\1&amp;3&amp;-1\end{bmatrix},C=\begin{bmatrix}1&amp;0&amp;0&amp;\frac{8}{5}&amp;-\frac{2}{5}\\0&amp;1&amp;0&amp;\frac{1}{5}&amp;\frac{1}{5}\\0&amp;0&amp;1&amp;\frac{1}{5}&amp;-\frac{4}{5}\end{bmatrix}\]</span></p><h2 id="çŸ©é˜µçš„luåˆ†è§£">çŸ©é˜µçš„LUåˆ†è§£</h2><p>LU åˆ†è§£ï¼ˆLUDecompositionï¼‰æ˜¯çŸ©é˜µåˆ†è§£çš„ä¸€ç§ï¼Œå¯ä»¥å°†ä¸€ä¸ªçŸ©é˜µåˆ†è§£ä¸ºä¸€ä¸ªå•ä½ä¸‹ä¸‰è§’çŸ©é˜µå’Œä¸€ä¸ªä¸Šä¸‰è§’çŸ©é˜µçš„ä¹˜ç§¯ï¼Œä»¥å››é˜¶çŸ©é˜µä¸ºä¾‹<span class="math display">\[ L = \begin{bmatrix}1&amp;0&amp;0&amp;0 \\*&amp;1&amp;0&amp;0\\ *&amp;*&amp;1&amp;0\\*&amp;*&amp;*&amp;1\end{bmatrix},U=\begin{bmatrix}*&amp;*&amp;*&amp;*\\0&amp;*&amp;*&amp;*\\0&amp;0&amp;*&amp;*\\0&amp;0&amp;0&amp;*\end{bmatrix}\]</span></p><p>LU çŸ©é˜µæ˜¯å¦ä¸€å®šå­˜åœ¨ï¼Ÿç­”æ¡ˆæ˜¯å¦ï¼Œå…·ä½“çœ‹ä¸‹é¢çš„ä¾‹å­</p><p>è®¾ <span class="math inline">\(\begin {bmatrix} 0&amp;1 \\1&amp;0\end{bmatrix}=\begin {bmatrix} a&amp;0\\b&amp;c\end {bmatrix}\begin{bmatrix} l&amp;m\\0&amp;n\end {bmatrix}\)</span>ï¼Œåˆ™åº”è¯¥æ»¡è¶³å¦‚ä¸‹ 4ä¸ªå¼å­</p><p><span class="math display">\[ \begin{cases} al=0\\ am=1\\ bl=1\\bm+cn=0 \end{cases} \]</span></p><p>ç”± <span class="math inline">\(al=0\)</span> å¾— <spanclass="math inline">\(a=0\)</span> æˆ– <spanclass="math inline">\(l=0\)</span>ï¼Œä½†å®é™…ä¸Šè¿™ä¸¤ç§æƒ…å†µå¸¦å…¥ä¸Šé¢çš„å¼å­éƒ½ä¼šæ¨å‡ºçŸ›ç›¾ï¼Œå› æ­¤ä¸æ˜¯æ‰€æœ‰æƒ…å†µLU åˆ†è§£éƒ½å­˜åœ¨</p><p><strong>LU åˆ†è§£å®šç†</strong> ï¼šè®¾ <span class="math inline">\(A\in\mathbb {C}_n^{n\times n}\)</span>ï¼Œ<spanclass="math inline">\(A\)</span> æœ‰å”¯ä¸€çš„ LU åˆ†è§£ <spanclass="math inline">\(\Leftrightarrow A\)</span> çš„å„é˜¶é¡ºåºä¸»å­å¼ <spanclass="math inline">\(\Delta k \neq 0,\ k=1,2...,n\)</span></p><p><span class="math inline">\(k\)</span> é˜¶é¡ºåºä¸»å­å¼æŒ‡çš„æ˜¯çŸ©é˜µå·¦ä¸Šè§’<span class="math inline">\(k\times k\)</span> ä¸ªå…ƒç´ ç»„æˆçš„è¡Œåˆ—å¼</p><p>å°†çŸ©é˜µ <span class="math inline">\(A\)</span> åˆ†è§£ä¸º <spanclass="math inline">\(L\)</span> å’Œ <spanclass="math inline">\(U\)</span> ä¹‹åï¼Œè§£æ–¹ç¨‹ç»„ <spanclass="math inline">\(Ax=b\)</span> å°±å˜å¾—ç®€å•äº†ï¼Œå› ä¸º <spanclass="math inline">\(A=LU\)</span>ï¼Œæ‰€ä»¥ <spanclass="math inline">\((LU) x=b\Rightarrow L (Ux)=b\Rightarrow \begin{cases} Ly=b\\Ux=y\end {cases}\)</span></p><p>æ‰€ä»¥ <span class="math inline">\(x=U^{-1} y=U^{-1} L^{-1}b\)</span></p><h3 id="lu-çŸ©é˜µçš„æ±‚æ³•">LU çŸ©é˜µçš„æ±‚æ³•</h3><p>å®é™…ä¸Š LU çŸ©é˜µæœ‰éå¸¸å¤šçš„æ±‚æ³•ï¼Œè¿™é‡Œåˆ—ä¸¾ä¸€ç§æ¯”è¾ƒç®€å•çš„å¾…å®šç³»æ•°æ³•</p><p>è®¾ <span class="math inline">\(A = \begin {bmatrix}2&amp;3&amp;4\\1&amp;1&amp;9\\1&amp;2&amp;-6\end{bmatrix}\)</span>ï¼Œæ±‚çŸ©é˜µ <span class="math inline">\(A\)</span> çš„ LUåˆ†è§£çŸ©é˜µ <span class="math inline">\(L\)</span> å’Œ <spanclass="math inline">\(U\)</span></p><p><strong>è§£</strong>ï¼šä»¤ <span class="math display">\[L=\begin{bmatrix}1&amp;0&amp;0\\l_1&amp;1&amp;0\\l_2&amp;l_3&amp;1\end{bmatrix},U=\begin{bmatrix}u_1&amp;u_2&amp;u_3\\0&amp;u_4&amp;u_5\\0&amp;0&amp;u_6\end{bmatrix}\]</span></p><p>ç”±äº <span class="math inline">\(A=LU\)</span>ï¼Œæ‰€ä»¥æœ‰</p><p><span class="math display">\[ \begin{cases} u_1=2\\ u_2=3\\ u_3=4\\l_1u_1=1\\ l_1u_2+u_4=1\\ l_1u_3+u_5=9\\ l_2u_1=1\\ l_2u_2+l_3u_4=2\\l_2u_3+l_3u_5+u_6=-6 \end{cases} \]</span></p><p>ä¸Šé¢çš„æ–¹ç¨‹ç»„éå¸¸å®¹æ˜“è§£ï¼Œæœ€åæ±‚å‡º</p><p><span class="math display">\[ L =\begin{bmatrix}1&amp;0&amp;0\\\frac{1}{2}&amp;1&amp;0\\\frac{1}{2}&amp;-1&amp;1\end{bmatrix},U=\begin{bmatrix}2&amp;3&amp;4\\0&amp;-\frac{1}{2}&amp;7\\0&amp;0&amp;-1\end{bmatrix}\]</span></p><h2 id="å¥‡å¼‚å€¼åˆ†è§£">å¥‡å¼‚å€¼åˆ†è§£</h2><p><strong>å¥‡å¼‚å€¼</strong>ï¼šè®¾ <span class="math inline">\(A \in\mathbb{C}^{m Ã— n}_r,AA^H\)</span> çš„ç‰¹å¾å€¼ä¸º <spanclass="math display">\[\lambda_1 \ge \lambda_2 \ge \dots \ge \lambda_n =0\]</span></p><p>åˆ™ç§° <span class="math inline">\(\sigma_i=\sqrt{\lambda_i}\)</span>ä¸ºçŸ©é˜µAçš„æ­£å¥‡å¼‚å€¼ã€‚<strong><span class="math inline">\(A\)</span>å’Œ<span class="math inline">\(A^H\)</span>ç›¸åŒçš„å¥‡å¼‚å€¼</strong>ã€‚</p><p><strong>å¥‡å¼‚å€¼åˆ†è§£</strong>ï¼šå½“ç»™å®šä¸€ä¸ªå¤§å°ä¸º<spanclass="math inline">\(m Ã— n\)</span>çš„çŸ©é˜µ<spanclass="math inline">\(A\)</span>,è™½ç„¶çŸ©é˜µ<spanclass="math inline">\(A\)</span>ä¸ä¸€å®šæ˜¯æ–¹é˜µï¼Œä½†å¤§å°ä¸º<spanclass="math inline">\(m Ã— m\)</span>çš„<spanclass="math inline">\(AA^T\)</span>å’Œ<span class="math inline">\(n Ã—n\)</span>çš„<span class="math inline">\(AA^T\)</span>æ˜¯å¯¹ç§°çŸ©é˜µ,è‹¥<spanclass="math inline">\(AA^T=P \Lambda_1 Q^T\)</span>,<spanclass="math inline">\(A^T A=Q\Lambda_2Q^T\)</span>,åˆ™çŸ©é˜µAçš„å¥‡å¼‚å€¼åˆ†è§£ä¸º <spanclass="math display">\[A=P\Sigma Q^T\]</span></p><p>å…¶ä¸­ï¼ŒçŸ©é˜µ<span class="math inline">\(P=(\overrightarrow{p_1},\overrightarrow{p_2}, \dots, \overrightarrow{p_m})\)</span>çš„å¤§å°ä¸º<span class="math inline">\(m Ã— m\)</span>ï¼Œåˆ—å‘é‡ <spanclass="math inline">\(\overrightarrow{p_1}, \overrightarrow{p_2}, \dots,\overrightarrow{p_m}\)</span>æ˜¯ <spanclass="math inline">\(AA^T\)</span>çš„ç‰¹å¾å‘é‡ï¼Œä¹Ÿè¢«ç§°ä¸ºçŸ©é˜µ<spanclass="math inline">\(A\)</span>çš„å·¦å¥‡å¼‚å‘é‡ï¼ˆleft singularvectorï¼‰ï¼›çŸ©é˜µ<span class="math inline">\(Q=(\overrightarrow{q_1},\overrightarrow{q_2}, \dots, \overrightarrow{q_m})\)</span>çš„å¤§å°ä¸º<span class="math inline">\(n Ã— n\)</span>ï¼Œåˆ—å‘é‡ <spanclass="math inline">\(\overrightarrow{q_1}, \overrightarrow{q_2}, \dots,\overrightarrow{q_m}\)</span>æ˜¯ <spanclass="math inline">\(A^TA\)</span>çš„ç‰¹å¾å‘é‡ï¼Œä¹Ÿè¢«ç§°ä¸ºçŸ©é˜µ<spanclass="math inline">\(A\)</span>çš„å³å¥‡å¼‚å‘é‡ï¼ˆleft singularvectorï¼‰ï¼›çŸ©é˜µ<spanclass="math inline">\(\Lambda_1\)</span>çš„å¤§å°ä¸º<spanclass="math inline">\(m Ã— m\)</span>ï¼ŒçŸ©é˜µ<spanclass="math inline">\(\Lambda_2\)</span>çš„å¤§å°ä¸º<spanclass="math inline">\(n Ã—n\)</span>ï¼Œä¸¤ä¸ªçŸ©é˜µå¯¹è§’çº¿ä¸Šçš„éé›¶å…ƒç´ ç›¸åŒï¼ˆå³çŸ©é˜µ<spanclass="math inline">\(AA^T\)</span>å’Œ<spanclass="math inline">\(A^TA\)</span>çš„éé›¶ç‰¹å¾å€¼ç›¸åŒï¼‰ï¼›çŸ©é˜µ<spanclass="math inline">\(\Sigma\)</span>çš„å¤§å°ä¸º<spanclass="math inline">\(m Ã—n\)</span>ï¼Œä½äºå¯¹è§’çº¿ä¸Šçš„å…ƒç´ è¢«ç§°ä¸º<strong>å¥‡å¼‚å€¼</strong>ï¼ˆsingularvalueï¼‰ã€‚</p><p>è®¾<span class="math inline">\(A\)</span>çš„ç§©ä¸ºrï¼Œå½“ <spanclass="math inline">\(m \ne n\)</span>æ—¶ï¼ŒçŸ©é˜µ<spanclass="math inline">\(\Lambda_1\)</span>å’Œ<spanclass="math inline">\(\Lambda_2\)</span>çš„å¤§å°æ˜¾ç„¶æ˜¯ä¸åŒçš„ï¼Œä½†æ˜¯ä»–ä»¬å¯¹è§’çº¿ä¸Šçš„éé›¶å…ƒç´ æ˜¯ç›¸åŒçš„ï¼Œè®°çŸ©é˜µ<spanclass="math inline">\(\Lambda_1\)</span>(æˆ–<spanclass="math inline">\(\Lambda_2\)</span>)å¯¹è§’çº¿ä¸Šçš„éé›¶å…ƒç´ ä¸º<spanclass="math inline">\(\lambda_1,\lambda_2,\dots,\lambda_r\)</span>ï¼Œè¿™äº›æ•°çš†ä¸ºéè´Ÿæ•°ï¼Œåˆè®°çŸ©é˜µ<spanclass="math inline">\(\Sigma\)</span>å¯¹è§’çº¿ä¸Šçš„éé›¶å…ƒç´ åˆ†åˆ«ä¸º<spanclass="math inline">\(\sigma_1,\sigma_2,\dots,\sigma_r\)</span>ï¼Œåˆ™<spanclass="math display">\[\sigma_1=\sqrt{\lambda_1},\sigma_2=\sqrt{\lambda_2},\dots,\sigma_r=\sqrt{\lambda_r}\]</span></p><p>å³éé›¶å¥‡å¼‚å€¼çš„å¹³æ–¹å¯¹åº”ç€çŸ©é˜µ<spanclass="math inline">\(\Lambda_1\)</span>ï¼ˆæˆ–çŸ©é˜µ<spanclass="math inline">\(\Lambda_2\)</span>ï¼‰çš„éé›¶ç‰¹å¾å€¼ï¼Œåˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±ä¸éš¾çœ‹å‡ºå¥‡å¼‚å€¼åˆ†è§£ä¸å¯¹ç§°å¯¹è§’åŒ–åˆ†è§£çš„å…³ç³»äº†ï¼Œå³æˆ‘ä»¬å¯ä»¥ç”±å¯¹ç§°å¯¹è§’åŒ–åˆ†è§£å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„å¥‡å¼‚å€¼åˆ†è§£ã€‚</p><p><strong>ä¾‹1</strong>ï¼šä¸€ä¸ª<spanclass="math inline">\(3Ã—2\)</span>çš„çŸ©é˜µ<spanclass="math inline">\(A=\begin{bmatrix}  1&amp;2 \\ 0&amp;0 \\ 0&amp;0\end{bmatrix}\)</span>ï¼Œæ±‚å…¶å¥‡å¼‚å€¼åˆ†è§£ã€‚</p><p>ç”± <span class="math display">\[AA^T=\begin{bmatrix}    5&amp;0&amp;0 \\ 0&amp;0&amp;0 \\ 0&amp;0&amp;0\end{bmatrix}\]</span></p><p>å¾—åˆ°å…¶ç‰¹å¾å€¼<spanclass="math inline">\(\lambda_1=5,\lambda_2=\lambda_3=0\)</span>ï¼Œç‰¹å¾å‘é‡ä¸º<spanclass="math inline">\(\overrightarrow{p_1}=(1,0,0)^T,\overrightarrow{p_2}=(0,1,0)^T,\overrightarrow{p_3}=(0,0,1)^T\)</span></p><p>ç”± <span class="math display">\[A^TA=\begin{bmatrix}    1&amp;2 \\ 2&amp;4\end{bmatrix}\]</span></p><p>å¾—åˆ°å…¶ç‰¹å¾å€¼<spanclass="math inline">\(\lambda_1=5,\lambda_2=0\)</span>ï¼Œç‰¹å¾å‘é‡ä¸º<spanclass="math inline">\(\overrightarrow{q_1}=(\frac{\sqrt{5}}{5},\frac{2\sqrt{5}}{5})^T,\overrightarrow{q_2}=(-\frac{\sqrt{5}}{5},\frac{2\sqrt{5}}{5})^T\)</span></p><p>ä»¤ <span class="math display">\[\Sigma=\begin{bmatrix}    \sqrt{5}&amp;0 \\ 0&amp;0 \\ 0&amp;0\end{bmatrix}\]</span></p><p>æ³¨æ„çŸ©é˜µ<span class="math inline">\(\Sigma\)</span>çš„å¤§å°ä¸º<spanclass="math inline">\(3 Ã— 2\)</span>ï¼Œæ­¤æ—¶ï¼ŒçŸ©é˜µ<spanclass="math inline">\(A\)</span>çš„å¥‡å¼‚å€¼åˆ†è§£ä¸º <spanclass="math display">\[A=P\Sigma Q^T=(\overrightarrow{p_1},\overrightarrow{p_2}, \overrightarrow{p_3})\Sigma (\overrightarrow{q_1},\overrightarrow{q_2})^T \\ =\begin{bmatrix}    1&amp;0&amp;0 \\ 0&amp;1&amp;0 \\ 0&amp;0&amp;1\end{bmatrix} \begin{bmatrix}    \sqrt{5}&amp;0 \\ 0&amp;0 \\ 0&amp;0\end{bmatrix} \begin{bmatrix}    \frac{\sqrt{5}}{5}&amp;\frac{2\sqrt{5}}{5} \\\frac{-2\sqrt{5}}{5}&amp;\frac{\sqrt{5}}{5}\end{bmatrix} = \begin{bmatrix}    1&amp;2 \\ 0&amp;0 \\ 0&amp;0\end{bmatrix}\]</span></p><p><strong>ä¾‹2</strong>ï¼šæ±‚å¯¹ç§°çŸ©é˜µ<spanclass="math inline">\(A=\begin{bmatrix}  2&amp;1 \\ 1&amp;2\end{bmatrix}\)</span>çš„å¥‡å¼‚å€¼åˆ†è§£ã€‚</p><p>ç»è®¡ç®—å¯ä»¥å‘ç°<spanclass="math inline">\(A^TA=AA^T=\begin{bmatrix}  2&amp;1 \\ 1&amp;2\end{bmatrix} \begin{bmatrix}  2&amp;1 \\ 1&amp;2\end{bmatrix}=\begin{bmatrix}  5&amp;4 \\ 4&amp;5\end{bmatrix}\)</span>ï¼Œå·¦å¥‡å¼‚å‘é‡å’Œå³å¥‡å¼‚å‘é‡æ„æˆçš„çŸ©é˜µä¹Ÿæ˜¯ç›¸ç­‰çš„ï¼Œå³<span class="math display">\[P=Q=\begin{bmatrix}    \frac{\sqrt{2}}{2}&amp;\frac{\sqrt{2}}{2} \\-\frac{\sqrt{2}}{2}&amp;\frac{\sqrt{2}}{2}\end{bmatrix}\]</span></p><p>åˆ™å…¶å¥‡å¼‚å€¼åˆ†è§£ä¸º <span class="math display">\[A=P\SigmaQ^T=\begin{bmatrix}    \frac{\sqrt{2}}{2}&amp;\frac{\sqrt{2}}{2} \\ -\frac{\sqrt{2}}{2}&amp; \frac{\sqrt{2}}{2}\end{bmatrix}\begin{bmatrix}    3&amp;0 \\ 0&amp;1\end{bmatrix}\begin{bmatrix}    \frac{\sqrt{2}}{2}&amp;\frac{\sqrt{2}}{2} \\-\frac{\sqrt{2}}{2}&amp;\frac{\sqrt{2}}{2}\end{bmatrix}\]</span></p><p><strong>æ³¨</strong>ï¼šè¿™æ˜¯ç”±äºå½“çŸ©é˜µ<spanclass="math inline">\(A\)</span>ä¸ºå¯¹ç§°çŸ©é˜µæ—¶ï¼Œå…¶å¯ä»¥è¢«æ­£äº¤å¯¹è§’åŒ–ï¼Œè¿™æ—¶å¥‡å¼‚å€¼åˆ†è§£ç­‰äºæ­£äº¤å¯¹è§’åŒ–åˆ†è§£ã€‚</p><h2 id="è°±åˆ†è§£">è°±åˆ†è§£</h2><p><strong>è°±åˆ†è§£</strong>ï¼šè®¾ <span class="math inline">\(A \in\mathbb{C}^{n Ã— n}\)</span>æ˜¯å•çº¯çŸ©é˜µï¼Œåˆ™ <spanclass="math inline">\(A\)</span>å¯ä»¥åˆ†è§£ä¸ºä¸€ç³»åˆ—å¹‚ç­‰çŸ©é˜µ <spanclass="math inline">\(A_i(i=1,2, \dots,n)\)</span>çš„åŠ æƒå’Œ <spanclass="math display">\[A=\sum_{i=1}^n \lambda_i A_i\]</span></p><p>å…¶ä¸­ <spanclass="math inline">\(\lambda_i(i=1,2,\dots,n)\)</span>æ˜¯Açš„ç‰¹å¾å€¼ã€‚</p><p><strong>å•çº¯çŸ©é˜µ</strong>ï¼šè‹¥çŸ©é˜µ <spanclass="math inline">\(A\)</span>çš„<strong>ä»£æ•°é‡æ•°</strong>ç­‰äº<strong>å‡ ä½•é‡æ•°</strong>ï¼Œåˆ™ç§°<spanclass="math inline">\(A\)</span>ä¸ºå•çº¯çŸ©é˜µã€‚<strong>ä»£æ•°é‡æ•°</strong>ä¸ºçŸ©é˜µ<spanclass="math inline">\(A\)</span>ç‰¹å¾å€¼çš„é‡æ•°ï¼Œ<strong>å‡ ä½•é‡æ•°</strong>ä¸ºé½æ¬¡æ–¹ç¨‹ç»„<spanclass="math inline">\(Ax=\lambda_ix(i=1,2,\dots,k)\)</span>çš„è§£ç©ºé—´<spanclass="math inline">\(V_{\lambda_i}\)</span>çš„ç»´æ•°ï¼Œä¹Ÿå³ç‰¹å¾å€¼å¯¹åº”çš„æœ€å¤šæ— å…³ç‰¹å¾å‘é‡æ•°ã€‚</p><p><strong>å¹‚ç­‰çŸ©é˜µ</strong>ï¼šè‹¥ <spanclass="math inline">\(A\)</span>ä¸ºæ–¹é˜µï¼Œä¸” <spanclass="math inline">\(A^2=A\)</span>ï¼Œåˆ™ç§°<spanclass="math inline">\(A\)</span>ä¸ºå¹‚ç­‰çŸ©é˜µã€‚æ‰€æœ‰å¹‚ç­‰çŸ©é˜µéƒ½ç›¸ä¼¼ä¸å¯¹è§’å…ƒå…¨ä¸º0æˆ–1çš„å¯¹è§’é˜µã€‚</p><p><strong>æ›´ä¸€èˆ¬çš„å•çº¯çŸ©é˜µè°±åˆ†è§£å®šç†</strong>ï¼šè®¾ <spanclass="math inline">\(A \in \mathbb{C}^{n Ã— n}\)</span>ï¼Œä»–æœ‰ <spanclass="math inline">\(k\)</span>ä¸ªç›¸å¼‚ç‰¹å¾å€¼ <spanclass="math inline">\(\lambda_i(i=1,2,\dots,k)\)</span>ï¼Œåˆ™ <spanclass="math inline">\(A\)</span>æ˜¯å•çº¯çŸ©é˜µçš„å……è¦æ¡ä»¶æ˜¯å­˜åœ¨<spanclass="math inline">\(k\)</span>ä¸ªçŸ©é˜µ<spanclass="math inline">\(A_i(i=1,2,\dots,k)\)</span>æ»¡è¶³</p><ol type="1"><li><span class="math inline">\(A_i A_j = \begin{cases}  A_i, i=j \\ 0,i\ne j \end{cases}\)</span></li><li><span class="math inline">\(\sum_{i=1}^k A_i = E_n\)</span></li><li><span class="math inline">\(A=\sum_{i=1}^k \lambda_iA_i\)</span></li></ol><p>è¯¥å®šç†æ¯”å®šç†3è¦æ±‚æ”¾å®½äº†ï¼Œä¸å†è¦æ±‚å¿…é¡»è¦æœ‰nä¸ªç‰¹å¾å€¼äº†ï¼Œè¿™é‡Œçš„kå¯ä»¥å°äºç­‰äºnã€‚</p><p><strong>ä¾‹1</strong>ï¼šæ±‚æ­£è§„çŸ©é˜µ <span class="math inline">\(A =\begin{bmatrix}  0&amp;1&amp;1&amp;1 \\ 1&amp;0&amp;-1&amp;1 \\1&amp;-1&amp;0&amp;1 \\ -1&amp;1&amp;1&amp;0\end{bmatrix}\)</span>çš„è°±åˆ†è§£è¡¨è¾¾å¼ã€‚</p><p><strong>è§£</strong>ï¼šé¦–å…ˆè®¡ç®— <spanclass="math inline">\(A\)</span>çš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡ <spanclass="math display">\[|\lambda_ I - A |=(\lambda - 1)^3 (\lambda +3)\]</span></p><p>ä»è€Œ <span class="math inline">\(A\)</span>çš„ç‰¹å¾å€¼ä¸º <spanclass="math display">\[\lambda_1=\lambda_2=\lambda_3=1,\lambda_4=-3\]</span></p><p>å½“<spanclass="math inline">\(\lambda=1\)</span>æ—¶ï¼Œæ±‚å¾—æ— å…³çš„ç‰¹å¾å‘é‡ä¸º <spanclass="math display">\[\alpha_1=(1,1,0,0)^T \\ \alpha_2=(1,0,1,0)^T \\\alpha_3=(-1,0,0,1)^T\]</span></p><p>å½“<spanclass="math inline">\(\lambda=-3\)</span>æ—¶ï¼Œæ±‚å¾—æ— å…³çš„ç‰¹å¾å‘é‡ä¸º <spanclass="math display">\[\alpha_4=(1,-1,-1,1)^T\]</span></p><p>å°† <spanclass="math inline">\(\alpha_1,\alpha_2,\alpha_3\)</span>æ­£äº¤åŒ–å¹¶å•ä½åŒ–å¾—<spanclass="math display">\[\eta_1=(\frac{1}{\sqrt{2}},\frac{1}{\sqrt{2}},0,0)^T\\\eta_2=(\frac{1}{\sqrt{6}},\frac{1}{\sqrt{6}},\frac{2}{\sqrt{6}},0)^T \\\eta_3=(-\frac{1}{2\sqrt{3}},\frac{1}{2\sqrt{3}},\frac{1}{\sqrt{3}},\frac{3}{2\sqrt{3}})^T\]</span></p><p>å°†<span class="math inline">\(\alpha_4\)</span>å•ä½è¯å¾— <spanclass="math display">\[\eta_4=(\frac{1}{2},-\frac{1}{2},-\frac{1}{2},\frac{1}{2})\]</span></p><p>æ•…æœ‰ <span class="math display">\[G_1=\eta_1 \eta_1^H+\eta_2 \eta_2^H+\eta_3 \eta_3^H \\= \begin{bmatrix}    \frac{3}{4}&amp;\frac{1}{4}&amp;\frac{1}{4}&amp;-\frac{1}{4} \\    \frac{1}{4}&amp;\frac{3}{4}&amp;-\frac{1}{4}&amp;\frac{1}{4} \\    \frac{1}{4}&amp;-\frac{1}{4}&amp;\frac{3}{4}&amp;\frac{1}{4} \\    -\frac{1}{4}&amp;\frac{1}{4}&amp;\frac{1}{4}&amp;\frac{3}{4}    \end{bmatrix}\]</span></p><p><span class="math display">\[G_2=\eta_4 \eta_4^H \\=\begin{bmatrix}    \frac{1}{4}&amp;-\frac{1}{4}&amp;-\frac{1}{4}&amp;\frac{1}{4} \\    -\frac{1}{4}&amp;\frac{1}{4}&amp;\frac{1}{4}&amp;-\frac{1}{4} \\    -\frac{1}{4}&amp;\frac{1}{4}&amp;\frac{1}{4}&amp;-\frac{1}{4} \\    \frac{1}{4}&amp;-\frac{1}{4}&amp;-\frac{1}{4}&amp;\frac{1}{4}\end{bmatrix}\]</span></p><p>è¿™æ ·å…¶è°±åˆ†è§£è¡¨è¾¾å¼ä¸º <span class="math display">\[A=G_1 -3G_2\]</span></p><p>æ³¨æ„<span class="math inline">\(G_1\)</span>å’Œ<spanclass="math inline">\(G_2\)</span>çš„ç³»æ•°<spanclass="math inline">\(\lambda_i\)</span>ä¸ºå…¶å¯¹åº”çš„ç‰¹å¾å€¼ã€‚<!-- https://www.cnblogs.com/blairgrowing/p/15800825.html --></p>]]></content>
    
    
    <categories>
      
      <category>æ•°å­¦</category>
      
      <category>çŸ©é˜µè®º</category>
      
    </categories>
    
    
    <tags>
      
      <tag>çŸ©é˜µè®º</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>èŒƒæ•°</title>
    <link href="/2022/12/05/%E8%8C%83%E6%95%B0/"/>
    <url>/2022/12/05/%E8%8C%83%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<p>ä¸ç®¡å‘é‡èŒƒæ•°ã€çŸ©é˜µèŒƒæ•°è¿˜æ˜¯ç®—å­èŒƒæ•°ï¼Œéƒ½éœ€è¦æ»¡è¶³ä¸‰ä¸ªç‰¹æ€§:</p><ul><li>æ­£å®šæ€§</li><li>é½æ¬¡æ€§</li><li>ä¸‰è§’ä¸ç­‰å¼</li></ul><h2 id="å‘é‡èŒƒæ•°">å‘é‡èŒƒæ•°</h2><p><strong>1 - èŒƒæ•°</strong>ï¼š<span class="math inline">\(\Vert\boldsymbol {x}\Vert_1=\sum\limits_{i=1}^N|x_i|\)</span>ï¼Œå³å‘é‡å…ƒç´ ç»å¯¹å€¼ä¹‹å’Œ</p><p><strong>2 - èŒƒæ•°</strong>ï¼š<span class="math inline">\(\Vert\boldsymbol {x}\Vert_2=(\sum\limits_{i=1}^N (x_i)^2)^{\frac{1}{2}}\)</span>ï¼Œä¹Ÿå«æ¬§å‡ é‡Œå¾—èŒƒæ•°ï¼Œå¸¸ç”¨äºè®¡ç®—å‘é‡é•¿åº¦ï¼Œå³å‘é‡å…ƒç´ çš„å¹³æ–¹å’Œå†å¼€æ–¹</p><p><strong><span class="math inline">\(\infty\)</span>-èŒƒæ•°</strong>:<span class="math inline">\(\Vert \boldsymbol{x}\Vert_{\infty}=\max\limits_{i}|x_i|\)</span>ï¼Œå³æ‰€æœ‰å‘é‡å…ƒç´ ä¸­ç»å¯¹å€¼çš„æœ€å¤§å€¼</p><!-- **-$\infty$- èŒƒæ•°**:$\Vert \boldsymbol {x}\Vert_{-\infty}=\min\limits_{i} |x_i|$ï¼Œå³æ‰€æœ‰å‘é‡å…ƒç´ ç»å¯¹å€¼ä¸­çš„æœ€å°å€¼ --><p><strong>P - èŒƒæ•°</strong>:<span class="math inline">\(\Vert\boldsymbol {x}\Vert_p=(\sum\limits_{i=1}^N (x_i)^p)^{\frac{1}{p}}\)</span>ï¼Œå³å‘é‡å…ƒç´ çš„ p æ¬¡æ–¹å’Œå†å¼€ p æ¬¡æ–¹</p><h2 id="çŸ©é˜µèŒƒæ•°">çŸ©é˜µèŒƒæ•°</h2><p>è®¾<span class="math inline">\(A \in \mathbb{C}^{m Ã—n}\)</span>ï¼Œåˆ™</p><p><span class="math inline">\({||A||}_{m_1} = \sum\limits^{n}_{j=1}\sum\limits^{m}_{i=1} |a_{ij}|\)</span></p><p><span class="math inline">\(||A||_{m_2} = {||A||}_{F}=\sqrt{\sum\limits^{n}_{j=1} \sum\limits^{m}_{i=1} |a_{ij}^2|} =\sqrt{tr(A^HA)} = \sqrt{tr(AA^H)}\)</span></p><p><spanclass="math inline">\(||A||_{m_\infty}=\max\limits_{i,j}\{|a_{ij}|\},1\le i \le m, 1 \le j \le n\)</span></p><h3 id="çŸ©é˜µèŒƒæ•°çš„æ€§è´¨">çŸ©é˜µèŒƒæ•°çš„æ€§è´¨</h3><p><img src="/img/çŸ©é˜µè®º/çŸ©é˜µèŒƒæ•°æ€§è´¨-å®šç†1.png" /> <imgsrc="/img/çŸ©é˜µè®º/çŸ©é˜µèŒƒæ•°æ€§è´¨-å®šç†1-2.png" /></p><ul><li><span class="math inline">\({||A||}_{m_1}\)</span>èŒƒæ•°ä¸å‘é‡èŒƒæ•°<span class="math inline">\(||x||_1\)</span>ç›¸å®¹</li><li><span class="math inline">\({||A||}_{m_2}\)</span>èŒƒæ•°ä¸å‘é‡èŒƒæ•°<span class="math inline">\(||x||_2\)</span>ç›¸å®¹</li><li><spanclass="math inline">\({||A||}_{m_{\infty}}\)</span>èŒƒæ•°ä¸å‘é‡èŒƒæ•° <spanclass="math inline">\(||x||_\infty\)</span> ä¸ç›¸å®¹</li></ul><h3 id="è¯æ˜ä¸€ä¸ªèŒƒæ•°æ˜¯çŸ©é˜µèŒƒæ•°æµç¨‹">è¯æ˜ä¸€ä¸ªèŒƒæ•°æ˜¯çŸ©é˜µèŒƒæ•°æµç¨‹</h3><ul><li>è¯æ˜éè´Ÿæ€§ã€é½æ¬¡æ€§ã€ä¸‰è§’ä¸ç­‰å¼</li><li>çœ‹ä»–å®šä¹‰æ˜¯å“ªç§ç±»å‹çš„èŒƒæ•°ï¼Œè‹¥æ˜¯ç›¸å®¹çš„éœ€è¦è¯æ˜ç›¸å®¹æ€§</li></ul><h2 id="ç®—å­èŒƒæ•°">ç®—å­èŒƒæ•°</h2><p>ç®—å­èŒƒæ•°å®šä¹‰1ï¼š <img src="/img/çŸ©é˜µè®º/ç®—å­èŒƒæ•°å®šä¹‰1.png" /></p><p>æ³¨æ„ï¼šå¹¶ä¸æ˜¯æ‰€ä»¥çš„çŸ©é˜µèŒƒæ•°éƒ½ä¸å‘é‡èŒƒæ•°ç›¸å®¹ã€‚åªæœ‰æ»¡è¶³è¯¥æ¡ä»¶çš„çŸ©é˜µèŒƒæ•°æ‰ä¸å‘é‡èŒƒæ•°æ˜¯ç›¸å®¹çš„ã€‚</p><p>ç®—å­èŒƒæ•°å®šä¹‰2ï¼š <img src="/img/çŸ©é˜µè®º/ç®—å­èŒƒæ•°å®šä¹‰2.png" /></p><p><strong>åˆ™ç§°æ­¤çŸ©é˜µèŒƒæ•°ä¸ºä»å±äºå‘é‡èŒƒæ•° <spanclass="math inline">\(||x||\)</span>çš„ç®—å­èŒƒæ•°</strong>ã€‚è¿™é‡Œçš„xå¯æ˜¯nç»´ç©ºé—´çš„ä»»æ„å–å‘ã€‚</p><p><strong>ç®—å­èŒƒæ•°è¡¨ç¤º</strong>ï¼š</p><p><span class="math inline">\({||A||}_1=\max\limits_{1 \le j \len}\{\sum\limits^{s}_{j=1}|a_{ij}|\}\)</span>,åˆ—æ¨¡å’ŒèŒƒæ•°ï¼Œå³æ‰€æœ‰çŸ©é˜µåˆ—å‘é‡ç»å¯¹å€¼ä¹‹å’Œçš„æœ€å¤§å€¼</p><p><span class="math inline">\(||A||_2=\sqrt{\rho(A^HA)}\)</span>ï¼Œè°±èŒƒæ•°</p><p><span class="math inline">\(||A||_\infty=\max\limits_{1 \le i \les}\{\sum^n_{j=1}|a_{ij}|\}\)</span>,è¡Œæ¨¡å’ŒèŒƒæ•°,å³æ‰€æœ‰çŸ©é˜µè¡Œå‘é‡ç»å¯¹å€¼ä¹‹å’Œçš„æœ€å¤§å€¼</p><h3 id="ç®—å­èŒƒæ•°æ€§è´¨">ç®—å­èŒƒæ•°æ€§è´¨</h3><ul><li><span class="math inline">\({||A||}_{1}\)</span> èŒƒæ•°ä¸å‘é‡èŒƒæ•°<span class="math inline">\(||x||_1\)</span> ç›¸å®¹</li><li><span class="math inline">\({||A||}_{2}\)</span> èŒƒæ•°ä¸å‘é‡èŒƒæ•°<span class="math inline">\(||x||_2\)</span> ç›¸å®¹</li><li><span class="math inline">\(||Â·||_a\)</span>æ˜¯ç®—å­èŒƒæ•° <spanclass="math inline">\(\Rightarrow ||E||_a = 1\)</span></li><li>è®¾<span class="math inline">\(A \in \mathbb{C}^{n Ã— n}ï¼Œ||A||_a\)</span>æ˜¯ä»å±å‘é‡èŒƒæ•°<spanclass="math inline">\(||x||\)</span>çš„ç®—å­èŒƒæ•°ï¼Œè‹¥<spanclass="math inline">\(||A||_a &lt; 1\)</span>,åˆ™ <spanclass="math inline">\(E \pm A\)</span> å¯é€†ï¼Œä¸”<spanclass="math inline">\(||(E \pm A)^{-1}||_a \le (1 -||A||_a)^{-1}\)</span></li></ul><p><img src="/img/çŸ©é˜µè®º/ç®—å­èŒƒæ•°æ€§è´¨-å®šç†3.png" /></p>]]></content>
    
    
    <categories>
      
      <category>æ•°å­¦</category>
      
      <category>çŸ©é˜µè®º</category>
      
    </categories>
    
    
    <tags>
      
      <tag>çŸ©é˜µè®º</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Jordanæ ‡å‡†å‹</title>
    <link href="/2022/12/04/Jardon%E6%A0%87%E5%87%86%E5%9E%8B/"/>
    <url>/2022/12/04/Jardon%E6%A0%87%E5%87%86%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<h2 id="jordanæ ‡å‡†å‹">Jordanæ ‡å‡†å‹</h2><figure><img src="/img/çŸ©é˜µè®º/Jordanæ ‡å‡†å‹å®šä¹‰.png" alt="Jordanæ ‡å‡†å‹å®šä¹‰" /><figcaption aria-hidden="true">Jordanæ ‡å‡†å‹å®šä¹‰</figcaption></figure><p>å…¶ä¸­ <spanclass="math inline">\(J_1(\lambda_1),J_2(\lambda_2)\)</span>åˆ†åˆ«æ„æˆJardonå—ã€‚</p><p>å³å¯¹ä»»æ„çŸ©é˜µ <spanclass="math inline">\(A\)</span>ï¼Œæ¯”å­˜åœ¨né˜¶å¯é€†çŸ©é˜µ<spanclass="math inline">\(P\)</span>ï¼Œä½¿ <spanclass="math display">\[P^{-1}AP=\begin{bmatrix}    J_1 &amp; &amp; &amp; \\ &amp; J_2 &amp; &amp; \\ &amp; &amp; \ddots&amp; \\ &amp; &amp; &amp; J_n\end{bmatrix} = J\]</span></p><p>æ¯ä¸€ä¸ª <span class="math inline">\(J\)</span> éƒ½æ˜¯Jardonå— <spanclass="math display">\[J_i=\begin{bmatrix}    \lambda_i &amp; 1 &amp; &amp; \\ &amp; \lambda_i &amp; \ddots &amp;&amp; \\ &amp; &amp; \ddots &amp;1 \\ &amp; &amp; &amp; \lambda_i\end{bmatrix}\]</span></p><h3 id="jordanæ ‡å‡†å‹çš„ç»“æ„ä¸ç»“è®º">Jordanæ ‡å‡†å‹çš„ç»“æ„ä¸ç»“è®º</h3><ul><li>Jordanæ ‡å‡†å‹çš„ä¸ªæ•°<spanclass="math inline">\(k\)</span>æ˜¯çº¿æ€§æ— å…³ç‰¹å¾å‘é‡çš„ä¸ªæ•°</li><li>çŸ©é˜µå¯å¯¹è§’åŒ–å½“ä¸”ä»…å½“<span class="math inline">\(k=n\)</span></li><li>ç›¸åº”äºä¸€ä¸ªå·²çŸ¥ç‰¹å¾å€¼çš„Jordanå—çš„ä¸ªæ•°æ˜¯è¯¥ç‰¹å¾å€¼çš„å‡ ä½•é‡æ•°ï¼Œå®ƒæ˜¯ç›¸åº”çš„ç‰¹å¾å­ç©ºé—´çš„ç»´æ•°ï¼Œç›¸åº”äºä¸€ä¸ªå·²çŸ¥ç‰¹å¾å€¼çš„æ‰€æœ‰Jordançš„é˜¶æ•°ä¹‹å’Œï¼Œæ˜¯è¯¥ç‰¹å¾å€¼çš„ä»£æ•°é‡æ•°</li><li>ç‰¹å¾å€¼çš„å‡ ä½•é‡æ•° &lt; ä»£æ•°é‡æ•°</li><li>çŸ©é˜µä¸åŒç‰¹å¾å€¼å¯¹åº”çš„ç‰¹å¾å‘é‡çº¿æ€§æ— å…³</li></ul><figure><img src="/img/çŸ©é˜µè®º/Jordanæ ‡å‡†å‹å®šç†2.png" alt="å®šç†2" /><figcaption aria-hidden="true">å®šç†2</figcaption></figure>]]></content>
    
    
    <categories>
      
      <category>æ•°å­¦</category>
      
      <category>çŸ©é˜µè®º</category>
      
    </categories>
    
    
    <tags>
      
      <tag>çŸ©é˜µè®º</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç‰¹å¾å€¼ä¼°è®¡</title>
    <link href="/2022/12/04/%E7%89%B9%E5%BE%81%E5%80%BC%E4%BC%B0%E8%AE%A1/"/>
    <url>/2022/12/04/%E7%89%B9%E5%BE%81%E5%80%BC%E4%BC%B0%E8%AE%A1/</url>
    
    <content type="html"><![CDATA[<p><strong>shurä¸ç­‰å¼</strong> <imgsrc="/img/çŸ©é˜µè®º/ç‰¹å¾å€¼ä¼°è®¡-shurä¸ç­‰å¼.png" /></p><p>è¯æ˜å¦‚ä¸‹ï¼š <img src="/img/çŸ©é˜µè®º/shurä¸ç­‰å¼è¯æ˜.png" /></p><p><strong>è¡Œç›–å°”åœ†ç›˜å’Œåˆ—ç›–å°”åœ†ç›˜</strong>ï¼š <imgsrc="/img/çŸ©é˜µè®º/ç›–å°”åœ†ç›˜.png" /></p><p><strong>åœ†ç›˜å®šç†</strong>ï¼š <img src="/img/çŸ©é˜µè®º/åœ†ç›˜å®šç†1.png" /><img src="/img/çŸ©é˜µè®º/åœ†ç›˜å®šç†2.png" /></p><p>æ¨è®º1ï¼šè®¾<span class="math inline">\(n\)</span>é˜¶æ–¹é˜µ<spanclass="math inline">\(A\)</span>çš„<spanclass="math inline">\(n\)</span>ä¸ªç›–å°”åœ†ç›˜ä¸¤ä¸¤äº’ä¸ç›¸äº¤ï¼Œåˆ™<spanclass="math inline">\(A\)</span>ç›¸ä¼¼äºå¯¹è§’é˜µ.</p><p>æ¨è®º2ï¼š è®¾<span class="math inline">\(n\)</span>é˜¶å®é˜µ<spanclass="math inline">\(A\)</span>çš„<spanclass="math inline">\(n\)</span>ä¸ªç›–å°”åœ†ç›˜ä¸¤ä¸¤äº’ä¸ç›¸äº¤ï¼Œåˆ™<spanclass="math inline">\(A\)</span>ç‰¹å¾å€¼å…¨ä¸ºå®æ•°.</p><p><strong>å¯¹è§’å ä¼˜çŸ©é˜µ</strong>ï¼š</p><p><img src="/img/çŸ©é˜µè®º/å¯¹è§’å ä¼˜çŸ©é˜µ.png" /></p><p><strong>Rayleighå•†</strong>ï¼šè®¾<span class="math inline">\(A \in\mathbb{C}^{n \times n}\)</span>ä¸ºHermiteçŸ©é˜µï¼Œ<spanclass="math inline">\(x \in \mathbb{C}\)</span>ï¼Œç§° <spanclass="math display">\[R(x)=\frac{x^HAx}{x^Hx}, x \ne 0\]</span></p><p>ä¸º<span class="math inline">\(A\)</span>çš„Rayleighå•†ã€‚</p><p><strong>å®šç†ï¼ˆRayleigh-Ritzï¼‰</strong>: <imgsrc="/img/çŸ©é˜µè®º/Rayleigh-Ritzå®šç†.png" /></p>]]></content>
    
    
    <categories>
      
      <category>æ•°å­¦</category>
      
      <category>çŸ©é˜µè®º</category>
      
    </categories>
    
    
    <tags>
      
      <tag>çŸ©é˜µè®º</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>çŸ©é˜µå‡½æ•°</title>
    <link href="/2022/12/04/%E7%9F%A9%E9%98%B5%E5%87%BD%E6%95%B0/"/>
    <url>/2022/12/04/%E7%9F%A9%E9%98%B5%E5%87%BD%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h2 id="çŸ©é˜µå‡½æ•°">çŸ©é˜µå‡½æ•°</h2><p><strong>å®šä¹‰</strong>ï¼š è®¾å¹‚çº§æ•°<spanclass="math inline">\(\sum\limits_{k=0}^{\infty} c_kz^k\)</span>æ”¶æ•›åŠå¾„ä¸º<span class="math inline">\(r\)</span>ï¼Œä¸”å½“<spanclass="math inline">\(|z|&lt;r\)</span>çš„æ—¶å€™ï¼Œå¹‚çº§æ•°æ”¶æ•›äº<spanclass="math inline">\(f(z)\)</span>ï¼Œå³</p><p><span class="math display">\[f(z)=\sum\limits_{k=0}^{\infty} c_kz^k,|z|&lt;r\]</span></p><p>å¦‚æœ<span class="math inline">\(A \in\mathbb{C}^{nÃ—n}\)</span>æ»¡è¶³<spanclass="math inline">\(r(A)&lt;r\)</span>,åˆ™æ”¶æ•›çš„çŸ©é˜µå¹‚çº§æ•°<spanclass="math inline">\(\sum\limits_{k=0}^{\infty}a_kA^k\)</span>çš„å’Œä¸ºçŸ©é˜µå‡½æ•°ï¼Œè®°ä¸º<spanclass="math inline">\(f(A)\)</span>ï¼Œå³</p><p><span class="math display">\[f(A)=\sum\limits_{k=0}^{\infty} c_kA^k\]</span></p><p>æŠŠ<span class="math inline">\(f(A)\)</span>çš„æ–¹é˜µæ¢ä¸º<spanclass="math inline">\(At\)</span>,<spanclass="math inline">\(t\)</span>ä¸ºå‚æ•°ï¼Œå¾—åˆ°</p><p><span class="math display">\[f(At)=\sum\limits_{k=0}^{\infty}c_k(At)^k\]</span></p><p>å¸¸è§çš„çŸ©é˜µçº§æ•°æœ‰ï¼š</p><p><img src="/img/çŸ©é˜µè®º/çŸ©é˜µå‡½æ•°/å¸¸è§çŸ©é˜µå‡½æ•°1.png" /> <imgsrc="/img/çŸ©é˜µè®º/çŸ©é˜µå‡½æ•°/å¸¸è§çŸ©é˜µå‡½æ•°2.png" alt="å¸¸è§çŸ©é˜µå‡½æ•°" /></p><h3 id="çŸ©é˜µå‡½æ•°çš„è®¡ç®—æ–¹æ³•">çŸ©é˜µå‡½æ•°çš„è®¡ç®—æ–¹æ³•</h3><h4 id="åˆ©ç”¨ç›¸ä¼¼å¯¹è§’åŒ–">åˆ©ç”¨ç›¸ä¼¼å¯¹è§’åŒ–</h4><p>è®¾<span class="math inline">\(P^{-1}AP= diag(\lambda_1,\lambda_2,\dots, \lambda_3) = D\)</span></p><p><img src="/img/çŸ©é˜µè®º/çŸ©é˜µå‡½æ•°/ç›¸ä¼¼å¯¹è§’åŒ–è®¡ç®—.png" /> <imgsrc="/img/çŸ©é˜µè®º/çŸ©é˜µå‡½æ•°/ç›¸ä¼¼å¯¹è§’åŒ–è®¡ç®—2.png" /></p><p><strong>ä¾‹1</strong>ï¼š</p><p><img src="/img/çŸ©é˜µè®º/çŸ©é˜µå‡½æ•°/ç›¸ä¼¼å¯¹è§’åŒ–è®¡ç®—-ä¾‹1-1.png" /> <imgsrc="/img/çŸ©é˜µè®º/çŸ©é˜µå‡½æ•°/ç›¸ä¼¼å¯¹è§’åŒ–è®¡ç®—-ä¾‹1-2.png" /> <imgsrc="/img/çŸ©é˜µè®º/çŸ©é˜µå‡½æ•°/ç›¸ä¼¼å¯¹è§’åŒ–è®¡ç®—-ä¾‹1-3.png" /></p><h4 id="jordanæ ‡å‡†å‹æ³•">Jordanæ ‡å‡†å‹æ³•</h4><p><img src="/img/çŸ©é˜µè®º/çŸ©é˜µå‡½æ•°/Jordanæ³•-ä¾‹1-1.png" /> <imgsrc="/img/çŸ©é˜µè®º/çŸ©é˜µå‡½æ•°/Jordanæ³•-ä¾‹1-2.png" /> <imgsrc="/img/çŸ©é˜µè®º/çŸ©é˜µå‡½æ•°/Jordanæ³•-ä¾‹1-3.png" /> <imgsrc="/img/çŸ©é˜µè®º/çŸ©é˜µå‡½æ•°/Jordanæ³•-ä¾‹1-4.png" /></p><p><strong>ä¾‹2</strong>ï¼š</p><p><img src="/img/çŸ©é˜µè®º/çŸ©é˜µå‡½æ•°/Jordanæ³•-ä¾‹2-1.png" /> <imgsrc="/img/çŸ©é˜µè®º/çŸ©é˜µå‡½æ•°/Jordanæ³•-ä¾‹2-2.png" /></p><h4 id="æ•°é¡¹çº§æ•°æ±‚å’Œæ³•">æ•°é¡¹çº§æ•°æ±‚å’Œæ³•</h4><p><img src="/img/çŸ©é˜µè®º/çŸ©é˜µå‡½æ•°/æ•°é¡¹çº§æ•°æ±‚å’Œæ³•.png" /></p><p>ç”±å“ˆå¯†å°”é¡¿-å‡¯è±å®šç†äºæ˜¯æˆ‘ä»¬æœ‰ï¼š</p><p><img src="/img/çŸ©é˜µè®º/çŸ©é˜µå‡½æ•°/æ•°é¡¹çº§æ•°æ±‚å’Œæ³•-2.png" /></p><p>ç”±è¯¥å®šç†ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°é™æ¬¡çš„ç›®çš„ã€‚</p><p><img src="/img/çŸ©é˜µè®º/çŸ©é˜µå‡½æ•°/æ•°é¡¹çº§æ•°æ±‚å’Œæ³•-3.png" /> <imgsrc="/img/çŸ©é˜µè®º/çŸ©é˜µå‡½æ•°/æ•°é¡¹çº§æ•°æ±‚å’Œæ³•-4.png" /></p><h3 id="çŸ©é˜µå‡½æ•°çš„æ€§è´¨">çŸ©é˜µå‡½æ•°çš„æ€§è´¨</h3><p><img src="/img/çŸ©é˜µè®º/çŸ©é˜µå‡½æ•°/çŸ©é˜µå‡½æ•°æ€§è´¨.png" /></p>]]></content>
    
    
    <categories>
      
      <category>æ•°å­¦</category>
      
      <category>çŸ©é˜µè®º</category>
      
    </categories>
    
    
    <tags>
      
      <tag>çŸ©é˜µè®º</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è¿‘ä¼¼ç®—æ³•</title>
    <link href="/2022/12/03/%E8%BF%91%E4%BC%BC%E7%AE%97%E6%B3%95/"/>
    <url>/2022/12/03/%E8%BF%91%E4%BC%BC%E7%AE%97%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h2 id="è¿‘ä¼¼ç®—æ³•">è¿‘ä¼¼ç®—æ³•</h2><p>å‡è®¾ç°åœ¨éœ€è¦è§£å†³ä¸€ä¸ªNP-Hardé—®é¢˜ï¼Œä½†æ˜¯åˆä¸å¤ªå¯èƒ½åœ¨å¤šé¡¹å¼æ—¶é—´å†…æ±‚è§£ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€€è€Œæ±‚å…¶æ¬¡ï¼Œé‚£ä¹ˆå°±å¿…é¡»è¦ç‰ºç‰²ä¸‹é¢çš„å…¶ä¸­ä¸€é¡¹ï¼š</p><ul><li>æ±‚å¾—æœ€ä¼˜è§£</li><li>åœ¨å¤šé¡¹å¼æ—¶é—´å†…å®Œæˆ</li><li>è¦†ç›–é—®é¢˜çš„æ‰€æœ‰ä¾‹å­</li></ul><p>è€Œç‰ºç‰²ç¬¬äºŒæ¡æ˜¯ä¸èƒ½æ¥å—çš„ï¼Œå½“æˆ‘ä»¬é€‰æ‹©æ»¡è¶³åä¸¤è€…ï¼ˆä¹Ÿå°±æ˜¯ç‰ºç‰²ç¬¬ä¸€é¡¹ï¼‰ï¼Œå³å¯¹è§£çš„ä¼˜è¶Šæ€§æ”¾å®½è¦æ±‚æ—¶ï¼Œè®¾è®¡å‡ºçš„ç®—æ³•è¢«ç§°ä¸º<strong>è¿‘ä¼¼ç®—æ³•</strong>ã€‚</p><h2 id="load-balancingé—®é¢˜">Load Balancingé—®é¢˜</h2><p>ç»™å®š<span class="math inline">\(m\)</span>å°ç›¸åŒçš„æœºå™¨ï¼Œ<spanclass="math inline">\(n\)</span>ä¸ªä»»åŠ¡ï¼Œä»»åŠ¡<spanclass="math inline">\(j\)</span>éœ€è¦çš„å¤„ç†æ—¶é—´ä¸º<spanclass="math inline">\(t_j\)</span>,ä¸”æ¯ä¸ªä»»åŠ¡<spanclass="math inline">\(j\)</span>å¿…é¡»åœ¨ä¸€å°æœºå™¨ä¸Šè¿ç»­å®Œæˆã€‚</p><p>ä»¤<span class="math inline">\(J(i)\)</span>ä¸ºåˆ†é…ç»™æœºå™¨<spanclass="math inline">\(i\)</span>çš„ä»»åŠ¡å­é›†ï¼Œæœºå™¨<spanclass="math inline">\(i\)</span>çš„è´Ÿè½½ä¸º<spanclass="math inline">\(L_i=\sum\limits_{j \inJ(i)}t_j\)</span>,è¯¥é—®é¢˜çš„æ—¶é—´è·¨åº¦(makespan)ä¸ºæ‰€æœ‰æœºå™¨ä¸Šçš„ç»“æŸæ—¶é—´æœ€å¤§å€¼<spanclass="math inline">\(L=\max\limits_i L_i\)</span>ã€‚</p><p><strong>LoadBalancing</strong>ï¼šæ±‚ä¸Šè¿°é—®é¢˜ä¸­çš„ä»»åŠ¡åˆ†é…ä½¿å¾—æ—¶é—´è·¨åº¦æœ€å°ã€‚</p><h3 id="è´ªå¿ƒç®—æ³•">è´ªå¿ƒç®—æ³•</h3><p>æ¯æ¬¡å°†ä»»åŠ¡<spanclass="math inline">\(j\)</span>åˆ†é…åœ¨å½“å‰è´Ÿè½½æœ€å°çš„æœºå™¨ä¸Šï¼š <imgsrc="/img/è¿‘ä¼¼ç®—æ³•/LoadBalancingè´ªå¿ƒç®—æ³•.png" /></p><p><strong>å¼•ç†1</strong>ï¼šæœ€ä¼˜è§£makespan<span class="math inline">\(L^*\ge \max\limits_j t_j\)</span>ã€‚</p><p>ç”¨æ—¶æœ€é•¿çš„è¿™ä¸ªä»»åŠ¡æ€»éœ€è¦åˆ†é…åˆ°ä¸€ä¸ªæœºå™¨ä¸Šå®Œæˆ.</p><p><strong>å¼•ç†2</strong>:æœ€ä¼˜è§£makespan <span class="math inline">\(L^*\ge \frac{1}{m} \sum\limits_j t_j\)</span></p><p>æ‰€æœ‰ä»»åŠ¡çš„æ€»è¿è¡Œæ—¶é—´ä¸º<span class="math inline">\(\sum\limits_jt_j\)</span>,é‚£ä¹ˆ<spanclass="math inline">\(L^*\)</span>çš„æ—¶é—´è·¨åº¦å¿…ç„¶é€‰è‡ª<spanclass="math inline">\(m\)</span>ä¸ªæœºå™¨ä¸­æœ€å¤§çš„ä¸€ä¸ª,è€Œ<spanclass="math inline">\(m\)</span>ä¸ªæœºå™¨ä¸­çš„æœ€å¤§æ—¶é—´è·¨åº¦ä¸€å®šä¸å°äº<spanclass="math inline">\(\frac{1}{m}\)</span>çš„æ€»è¿è¡Œæ—¶é—´.</p><p><strong>å®šç†:è´ªå¿ƒç®—æ³•æ˜¯LoadBalancingé—®é¢˜çš„äºŒå€è¿‘ä¼¼ç®—æ³•ã€‚</strong></p><p>è¯æ˜:</p><p>å‡è®¾è´Ÿè½½<span class="math inline">\(L_i\)</span>ä¸ºé—®é¢˜çš„å¹³é™,ä»¤<spanclass="math inline">\(j\)</span>ä¸ºæœ€åä¸€ä¸ªåˆ†é…åˆ°è¯¥æœºå™¨çš„ä»»åŠ¡,ç”±è´ªå¿ƒç®—æ³•,åœ¨ä»»åŠ¡<spanclass="math inline">\(j\)</span>åˆ†é…ä¹‹å‰,æœºå™¨<spanclass="math inline">\(i\)</span>çš„è´Ÿè½½æ˜¯æœ€å°çš„.<spanclass="math inline">\(j\)</span>åˆ†é…ä¹‹å‰æœºå™¨<spanclass="math inline">\(i\)</span>çš„è´Ÿè½½ä¸º<span class="math inline">\(L_i- t_j\)</span>,ä¹Ÿå°±æ˜¯è¯´åœ¨å‡†å¤‡åˆ†é…<spanclass="math inline">\(j\)</span>çš„æ—¶å€™æœ‰<span class="math inline">\(L_i- t_j\)</span>å°äºæˆ–ç­‰äºæ‰€æœ‰æœºå™¨ä¸Šçš„è´Ÿè½½<span class="math inline">\(L_k,1 \le k \le m\)</span></p><p><img src="/img/è¿‘ä¼¼ç®—æ³•/LoadBalancingè´ªå¿ƒç®—æ³•è¯æ˜-1.png" /></p><p>åˆ†é…ä»»åŠ¡<span class="math inline">\(j\)</span>ä¹‹å‰,ç”±å¼•ç†1: <spanclass="math display">\[  \begin{aligned}    L_i - t_j &amp;\le \frac{1}{m}\sum\limits_k L_k \\        &amp;=  \frac{1}{m} \sum\limits_k t_k \\        &amp;\le L^*    \end{aligned}\]</span></p><p>åˆ†é…ä»»åŠ¡<span class="math inline">\(j\)</span>å,ç”±ä¸Šå¼ä»¥åŠå¼•ç†2:<span class="math display">\[L_i = (L_i -t_i) + t_j \le L^* +\max\limits_j t_j \le L^* + L^* = 2L^*\]</span></p><p>é‚£ä¹ˆè´ªå¿ƒç®—æ³•æ˜¯Load Balancingçš„ç´§2å€è¿‘ä¼¼ç®—æ³•å—?åˆ¤æ–­<spanclass="math inline">\(\rho\)</span>-è¿‘ä¼¼ç®—æ³•æ˜¯å¦ç´§çš„è¦çœ‹è¯¥ç®—æ³•ç›¸æ¯”äºæœ€ä¼˜è§£æœ‰æ¯”<spanclass="math inline">\(\rho\)</span>æ›´ä½çš„è¿‘ä¼¼ç‡å—?è‹¥æœ‰åˆ™è¯´æ˜å…¶å¹¶ä¸æ˜¯ç´§çš„ã€‚</p><p>ç­”:å¤§è‡´æ˜¯çš„,è€ƒè™‘ä¸‹é¢çš„ä¸€ä¸ªLoad Balancingçš„å®ä¾‹,æœ‰<spanclass="math inline">\(m\)</span>ä¸ªæœºå™¨,<spanclass="math inline">\(m^2\)</span>ä¸ªä»»åŠ¡,å…¶ä¸­æœ‰<spanclass="math inline">\(m(m-1)\)</span>ä¸ªä»»åŠ¡è¿è¡Œæ—¶é—´ä¸º1,ä¸€ä¸ªä»»åŠ¡çš„è¿è¡Œæ—¶é—´ä¸º<spanclass="math inline">\(m\)</span>.è´ªå¿ƒç®—æ³•çš„ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤º:</p><p><img src="/img/è¿‘ä¼¼ç®—æ³•/LoadBalancingå®ä¾‹-è´ªå¿ƒç®—æ³•.png" /></p><p>è€Œæœ€ä¼˜è§£çš„ç»“æœä¸º:</p><p><img src="/img/è¿‘ä¼¼ç®—æ³•/LoadBalancingå®ä¾‹-æœ€ä¼˜è§£.png" /></p><p>è¿™ä¸ªå®ä¾‹é‡Œè´ªå¿ƒç®—æ³•çš„æ—¶é—´è·¨åº¦ä¸º19,è€Œæœ€ä¼˜è§£çš„æ—¶é—´è·¨åº¦ä¸º10.</p><h3 id="lptlongest-processing-timeç®—æ³•">LPT(longest ProcessingTime)ç®—æ³•</h3><p>LPTç®—æ³•æ˜¯åœ¨ä¸Šé¢çš„è´ªå¿ƒç®—æ³•åŸºç¡€ä¹‹ä¸Š,å…ˆå¯¹<spanclass="math inline">\(n\)</span>ä¸ªä»»åŠ¡æŒ‰æ—¶é—´é™åºæ’åº,ç„¶åå†æŒ‰ç…§ä¸Šé¢çš„è´ªå¿ƒç®—æ³•æ‰§è¡Œ.</p><p><img src="/img/è¿‘ä¼¼ç®—æ³•/LoadBalancingLPTç®—æ³•.png" /></p><p>é€šè¿‡è§‚å¯Ÿå¯ä»¥å¾—å‡º,å½“ä»»åŠ¡æ•°å°äºæˆ–ç­‰äºæœºå™¨æ•°çš„æ—¶å€™,LRTç®—æ³•å°±æ˜¯æœ€ä¼˜è§£.è¿™æ—¶å€™åªéœ€è¦æŠŠä»»åŠ¡<spanclass="math inline">\(i\)</span>åˆ†é…ç»™æœºå™¨<spanclass="math inline">\(i\)</span>.</p><p><strong>å¼•ç†3</strong>:å¦‚æœä»»åŠ¡æ•°å¤šäºæœºå™¨æ•°<spanclass="math inline">\(m\)</span>,æœ‰<span class="math inline">\(L^* \ge2t_{m+1}\)</span>.</p><p>è®¾å‰<spanclass="math inline">\(m+1\)</span>ä¸ªä»»åŠ¡çš„è¿è¡Œæ—¶é—´åˆ†åˆ«ä¸º<spanclass="math inline">\(t_1,\dots,t_{m+1}\)</span>,ç”±äºè¿è¡Œæ—¶é—´<spanclass="math inline">\(t_i\)</span>æ˜¯æŒ‰ç…§é™åºæ’åˆ—,æ‰€ä»¥å‰<spanclass="math inline">\(m+1\)</span>ä¸ªä»»åŠ¡çš„è¿è¡Œæ—¶é—´éƒ½ä¸å°äº<spanclass="math inline">\(t_{m+1}\)</span>,ä¸”ç”±äºé¸½ç¬¼åŸåˆ™,è‡³å°‘æœ‰ä¸€ä¸ªæœºå™¨ä¼šè¢«åˆ†é…ä¸¤ä¸ªä»»åŠ¡.</p><p><strong>å®šç†:LPTç®—æ³•æ˜¯Load Balancingçš„ä¸€ä¸ª<spanclass="math inline">\(\frac{3}{2}\)</span>è¿‘ä¼¼ç®—æ³•.</strong></p><p>è¯æ˜:ä¸è¯æ˜è´ªå¿ƒç®—æ³•ç›¸åŒçš„æ–¹æ³• <span class="math display">\[L_i=(L_i -t_j) + t_j \le L^* + \frac{1}{2}L^* = \frac{3}{2}L\]</span></p><p>é‚£ä¹ˆLPTç®—æ³•æ˜¯Load Balancingçš„ç´§<spanclass="math inline">\(\frac{3}{2}\)</span>å€è¿‘ä¼¼ç®—æ³•å—?ä¸æ˜¯;LPTç®—æ³•æ˜¯LoadBalancingçš„ç´§<spanclass="math inline">\(\frac{4}{3}\)</span>å€è¿‘ä¼¼ç®—æ³•å—?å¾ˆå¯èƒ½æ˜¯.</p><h2 id="centrer-selection-problemä¸­å¿ƒé€‰å€é—®é¢˜">Centrer SelectionProblem(ä¸­å¿ƒé€‰å€é—®é¢˜)</h2><p>å®šä¹‰:ç»™å®šä¸€ä¸ªå¤§å°ä¸º<spanclass="math inline">\(n\)</span>ä¸ªåœ°å€é›†åˆ<spanclass="math inline">\(s_1,s_2,\dots,s_n\)</span>ä»¥åŠä¸€ä¸ªæ•´æ•°<spanclass="math inline">\(k&gt;0\)</span>,é€‰æ‹©<spanclass="math inline">\(k\)</span>ä¸ªä¸­å¿ƒä½¿æ‰€æœ‰åœ°å€åˆ°ç¦»å®ƒæœ€è¿‘çš„ä¸­å¿ƒè·ç¦»çš„æœ€å¤§å€¼æœ€çŸ­.</p><p><img src="/img/è¿‘ä¼¼ç®—æ³•/CentrerSelectionProblem.png" /></p><p>å‡ ä¸ªæ¦‚å¿µ:</p><ul><li><span class="math inline">\(dist(x, y)\)</span>:<spanclass="math inline">\(x,y\)</span>çš„è·ç¦».</li><li><span class="math inline">\(dist(s_i, C)=\min\limits_{c \inC}\)</span>:<spanclass="math inline">\(s_i\)</span>åˆ°ç¦»å®ƒæœ€è¿‘çš„ä¸­å¿ƒçš„è·ç¦»,è¿™é‡Œé‡‡ç”¨æ¬§å¼è·ç¦».</li><li><span class="math inline">\(r(C)=\max\limits_{i}dist(s_i,C)\)</span>:æœ€å°çš„è¦†ç›–åŠå¾„.</li></ul><p>ä¸­å¿ƒé€‰å€é—®é¢˜çš„ç›®æ ‡ä¾¿æ˜¯æ‰¾åˆ°ä¸€ä¸ªä¸­å¿ƒé›†åˆ<spanclass="math inline">\(C\)</span>ä½¿è¦†ç›–åŠå¾„<spanclass="math inline">\(r(C)\)</span>æœ€å°,å…¶ä¸­ä¸­å¿ƒçš„æ•°é‡ç­‰äº<spanclass="math inline">\(k\)</span>.</p><p>è·ç¦»çš„ä¸€äº›æ€§è´¨: <span class="math display">\[dist(x,x)=0\tag{åŒä¸€æ€§}\]</span> <span class="math display">\[dist(x,y)=dist(y,x)\tag{å¯¹ç§°æ€§}\]</span> <span class="math display">\[dist(x,y) \ledist(x,z) + dist(z,y) \tag{ä¸‰è§’ä¸ç­‰å¼}\]</span></p><h3 id="è´ªå¿ƒç®—æ³•-1">è´ªå¿ƒç®—æ³•</h3><p>å¼€å§‹æ—¶æˆ‘ä»¬ä»»æ„é€‰å–ä¸€ä¸ªåœ°å€ä½œä¸ºä¸­å¿ƒï¼Œæ¥ç€é€‰æ‹©ç¦»ç¬¬ä¸€ä¸ªä¸­å¿ƒæœ€è¿œçš„é‚£ä¸ªåœ°å€ä½œä¸ºç¬¬äºŒä¸ªä¸­å¿ƒï¼Œå¦‚æ­¤çš„é‡å¤è¿›è¡Œ,ç›´åˆ°é€‰äº†<spanclass="math inline">\(k\)</span>ä¸ªä¸­å¿ƒä¸ºæ­¢ã€‚</p><p><img src="/img/è¿‘ä¼¼ç®—æ³•/CentrerSelectionProblemè´ªå¿ƒç®—æ³•.png" /></p><p><strong>å®šç†ï¼šè´ªå¿ƒç®—æ³•æ˜¯ä¸­å¿ƒé€‰å€é—®é¢˜çš„2å€è¿‘ä¼¼è§£</strong></p><p>è¯æ˜(åè¯æ³•)ï¼š</p><p>å‡è®¾<spanclass="math inline">\(r(C^*)&lt;\frac{1}{2}r(C)\)</span></p><ul><li>å¯¹è¿‘ä¼¼è§£é›†åˆ<span class="math inline">\(C\)</span>çš„ä¸­å¿ƒ<spanclass="math inline">\(c_i\)</span>ï¼Œæ€»æœ‰ä¸€ä¸ªæœ€ä¼˜è§£çš„ä¸­å¿ƒ<spanclass="math inline">\(c_i^*\)</span>åœ¨<spanclass="math inline">\(c_i\)</span>çš„åœ†ä¸­(ä»»æ„ä¸€ä¸ªæœ€ä¼˜è§£çš„ä¸­å¿ƒ<spanclass="math inline">\(c_i^*\)</span>çš„åœ†é‡Œæœ€å°‘æœ‰ä¸€ä¸ªåœ°å€<spanclass="math inline">\(s\)</span>,è€Œè´ªå¿ƒç®—æ³•é€‰å€éƒ½æ˜¯åœ¨åœ°å€é›†åˆä¸­é€‰çš„ï¼Œå¹¶ä¸”<spanclass="math inline">\(c_i\)</span>çš„åŠå¾„ <spanclass="math inline">\(&gt;\)</span> <spanclass="math inline">\(c_i^*\)</span>çš„åŠå¾„ï¼Œæ‰€ä»¥<spanclass="math inline">\(c_i^*\)</span>å¿…ç„¶åœ¨æŸä¸€ä¸ªä¸­å¿ƒ<spanclass="math inline">\(c_i\)</span>çš„åœ†é‡Œ)</li><li>ä»¤<span class="math inline">\(c_i\)</span>æ˜¯ä¸<spanclass="math inline">\(c_i^*\)</span>å¯¹åº”çš„ä¸­å¿ƒ</li><li>å¯¹äºä»»æ„ä¸€ä¸ªç¦»æœ€ä¼˜è§£<spanclass="math inline">\(c_i^*\)</span>æœ€è¿‘çš„åœ°å€<spanclass="math inline">\(s\)</span>,æœ‰</li></ul><p><span class="math display">\[dist(s,C) \le dist(s, c_i) \le dist(s,c_i^*) + dist(c_i^*, c_i) \le r(C^*) + r(C^*) = 2r(C^*)\]</span></p><p>ä¸Šå¼ä¸å‡è®¾<spanclass="math inline">\(r(C^*)&lt;\frac{1}{2}r(C)\)</span>ç›¸è¿èƒŒï¼Œæ•…æœ‰<spanclass="math inline">\(r(C^*) \ge\frac{1}{2}r(C)\)</span>,å³è´ªå¿ƒç®—æ³•æ˜¯ä¸­å¿ƒé€‰å€é—®é¢˜çš„2å€è¿‘ä¼¼è§£ã€‚</p><p>ä¸­å¿ƒé€‰å€é—®é¢˜æœ‰æ²¡æœ‰<spanclass="math inline">\(\frac{3}{2}\)</span>å€è¿‘ä¼¼è§£æˆ–è€…<spanclass="math inline">\(\frac{4}{3}\)</span>å€è¿‘ä¼¼è§£ï¼Ÿ</p><p>ç­”ï¼šæ²¡æœ‰ï¼Œé™¤éPï¼NPï¼Œå¦åˆ™ä¸­å¿ƒé€‰å€é—®é¢˜æ²¡æœ‰å€ç‡æ¯”2å°çš„è¿‘ä¼¼ç®—æ³•ã€‚</p><h2 id="weighted-vertex-cover">Weighted Vertex Cover</h2><p>å¸¦æƒå€¼çš„é¡¶ç‚¹è¦†ç›–ï¼šå¯¹äºç»™å‡ºçš„ä¸€ä¸ªé¡¶ç‚¹å¸¦æƒå€¼çš„å›¾<spanclass="math inline">\(G\)</span>ï¼Œæ‰¾åˆ°ä¸€ä¸ªé¡¶ç‚¹è¦†ç›–ï¼Œä½¿å®ƒä»¬çš„æƒå€¼ä¹‹å’Œæœ€å°ã€‚ï¼ˆè¿™é‡Œæˆ‘ä»¬ä¸»è¦è§£å†³çš„æ˜¯ï¼šæ±‚å›¾<spanclass="math inline">\(G=(V,E)\)</span>çš„é¡¶ç‚¹è¦†ç›–<spanclass="math inline">\(S\)</span>ï¼Œè¦ä½¿é¡¶ç‚¹é›†åˆ<spanclass="math inline">\(S\)</span>ä¸­æ‰€æœ‰é¡¶ç‚¹çš„æƒå€¼ä¹‹å’Œæœ€å°ã€‚</p><p><img src="/img/è¿‘ä¼¼ç®—æ³•/WeightedVertexCover.png" /></p><h3 id="pricing-method">Pricing Method</h3><p><strong>å®šä»·æ³•</strong>ï¼šå› ä¸ºé¡¶ç‚¹è¦†ç›–è¦æ±‚æ¯æ¡è¾¹è‡³å°‘æœ‰ä¸€ä¸ªé¡¶ç‚¹åœ¨é›†åˆ<spanclass="math inline">\(S\)</span>é‡Œ,æ¯æ¡è¾¹å¿…é¡»è¢«ä¸€äº›é¡¶ç‚¹æ‰€è¦†ç›–ï¼Œæ ¹æ®é¡¶ç‚¹<spanclass="math inline">\(i\)</span>å’Œ<spanclass="math inline">\(j\)</span>ï¼Œç»™è¾¹<span class="math inline">\(e =(i, j)\)</span> æ ‡ä¸Šä»·æ ¼<span class="math inline">\(P_e\)</span>ã€‚</p><p>å…¬å¹³æ€§ï¼šä¸é¡¶ç‚¹<spanclass="math inline">\(i\)</span>æ‰€è¿æ¥çš„æ‰€æœ‰è¾¹çš„ä»·æ ¼ï¼ˆæƒå€¼ï¼‰ä¹‹å’Œå¿…é¡»å°äºé¡¶ç‚¹<spanclass="math inline">\(i\)</span>çš„æƒå€¼ã€‚</p><p>å¼•ç†ï¼šï¼šå›¾<spanclass="math inline">\(G\)</span>çš„æ‰€æœ‰è¾¹çš„ä»·æ ¼ï¼ˆæƒå€¼ï¼‰ä¹‹å’Œ <spanclass="math inline">\(\le\)</span> é¡¶ç‚¹è¦†ç›–<spanclass="math inline">\(S\)</span>ä¸­æ‰€æœ‰é¡¶ç‚¹çš„æƒå€¼ä¹‹å’Œï¼ˆä¸¤ä¸ªç®€å•çš„ç¼©æ”¾ï¼‰ã€‚</p><p><img src="/img/è¿‘ä¼¼ç®—æ³•/WeightedVertexCover-ä¸ç­‰å¼æ”¾ç¼©.png" /></p><p>ä¸Šé¢ç¬¬ä¸€ä¸ª<spanclass="math inline">\(\le\)</span>ä¸èƒ½å†™æˆç­‰å·ï¼Œç­‰å·åªåœ¨æ¯æ¡è¾¹éƒ½æ°å¥½åªæœ‰ä¸€ä¸ªé¡¶ç‚¹åœ¨<spanclass="math inline">\(S\)</span>ä¸­æ—¶æ‰æˆç«‹ï¼Œè‹¥æœ‰è¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹éƒ½åœ¨<spanclass="math inline">\(S\)</span>ä¸­ï¼Œé‚£ä¹ˆè¿™æ¡è¾¹å°±ä¼šè¢«è®¡ç®—ä¸¤æ¬¡ã€‚</p><p>æ±‚è§£è¿‡ç¨‹ï¼šè¾¹çš„ä»·æ ¼è®¾ç½®ä¸æ‰¾å¯»é¡¶ç‚¹è¦†ç›–åŒæ—¶è¿›è¡Œ</p><p><imgsrc="/img/è¿‘ä¼¼ç®—æ³•/WeightedVertexCover-PricingMethod-æ±‚è§£è¿‡ç¨‹.png" /></p><p>ä¾‹å­ï¼š</p><p><imgsrc="/img/è¿‘ä¼¼ç®—æ³•/WeightedVertexCover-PricingMethod-ä¾‹å­.png" /></p><p><strong>Pricing Methodæ˜¯Weighted VertexCover</strong>çš„ä¸€ä¸ª2å€è¿‘ä¼¼ç®—æ³•ã€‚</p><p>è¯æ˜ï¼š</p><p>é¦–å…ˆè¯æ˜<span class="math inline">\(S\)</span>æ˜¯ä¸€ä¸ªç‚¹è¦†ç›–ï¼š</p><p>ç®—æ³•ç»“æŸæ¡ä»¶ï¼šåœ¨whileå¾ªç¯çš„æ¯æ¬¡è¿­ä»£ç»“æŸä¹‹åï¼Œè‡³å°‘æœ‰ä¸€ä¸ªé¡¶ç‚¹ä¼šæ˜¯ç´§è‡´çš„ï¼ˆé™¤éå›¾æ²¡æœ‰è¾¹ï¼‰ï¼Œæ‰€ä»¥åœ¨ç®—æ³•ç»“æŸçš„æ—¶å€™æ¯æ¡è¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹ä¸­è‡³å°‘æœ‰ä¸€ä¸ªæ˜¯ç´§çš„ï¼Œå³æ¯æ¡è¾¹è‡³å°‘æœ‰ä¸€ä¸ªé¡¶ç‚¹åœ¨<spanclass="math inline">\(S\)</span>ä¸­ï¼Œè€ŒVertexCoverè¦æ±‚æ¯æ¡è¾¹è‡³å°‘æœ‰ä¸€ä¸ªé¡¶ç‚¹åœ¨<spanclass="math inline">\(S\)</span>ä¸­ï¼Œæ‰€ä»¥<spanclass="math inline">\(S\)</span>å¿…ç„¶æ˜¯ä¸€ä¸ªç‚¹è¦†ç›–ï¼Œå¦åˆ™å¾ªç¯å°±ä¸ä¼šåœæ­¢ã€‚</p><p>ç„¶åå†è¯æ˜<spanclass="math inline">\(S\)</span>æ˜¯æœ€ä¼˜è§£çš„ä¸€ä¸ª2å€è¿‘ä¼¼è§£ï¼š</p><p><img src="/img/è¿‘ä¼¼ç®—æ³•/è¯æ˜PricingMethod2å€è¿‘ä¼¼è§£.png" /></p><p>ç¬¬ä¸€å¤„æ”¾ç¼©å¾ˆå®¹æ˜“å¾—å‡ºï¼Œ<spanclass="math inline">\(S\)</span>è‚¯å®šä¸ºé¡¶ç‚¹é›†<spanclass="math inline">\(V\)</span>çš„ä¸€ä¸ªå­é›†ï¼›<spanclass="math inline">\(\sum\limits_{i \in V} \sum\limits_{e=(i,j)} p_e =2 \sum\limits_{e \in E} p_e\)</span>æ˜¯å› ä¸ºè®¡ç®—ä¸<spanclass="math inline">\(V\)</span>ä¸­æ‰€æœ‰é¡¶ç‚¹ç›¸è¿çš„è¾¹æ—¶ï¼Œæ¯æ¡è¾¹ä¼šè¢«è®¡ç®—ä¸¤æ¬¡ï¼›æœ€å³è¾¹ä¸€ä¸ªæ”¾ç¼©ä¸ºå¼•ç†çš„ç»“è®ºã€‚</p><h2id="çº¿æ€§è§„åˆ’è§£å†³æœ€å°å¸¦æƒç‚¹è¦†ç›–é—®é¢˜">çº¿æ€§è§„åˆ’è§£å†³æœ€å°å¸¦æƒç‚¹è¦†ç›–é—®é¢˜</h2><h3 id="æ•´æ•°è§„åˆ’">æ•´æ•°è§„åˆ’</h3><p>å¯¹äºå›¾<spanclass="math inline">\(G=(V,E)\)</span>,å¯¹å›¾ä¸­çš„æ¯ä¸ªç‚¹<spanclass="math inline">\(v \in V\)</span>ï¼Œå®šä¹‰å‡½æ•°<spanclass="math inline">\(x(v) \in {0, 1}\)</span>,ä¸” <spanclass="math inline">\(x(v)=0\)</span>ï¼Œè¡¨ç¤ºé¡¶ç‚¹ <spanclass="math inline">\(v\)</span>ä¸åœ¨ç‚¹è¦†ç›–é›†åˆé‡Œã€‚</p><p>å¯¹å›¾ä¸­ä»»æ„ä¸€æ¡è¾¹ <span class="math inline">\((u,v) \inE\)</span>,ç”±ç‚¹è¦†ç›–å®šä¹‰ï¼Œé¡¶ç‚¹<spanclass="math inline">\(u\)</span>ã€é¡¶ç‚¹<spanclass="math inline">\(v\)</span> è‡³å°‘æœ‰ä¸€ä¸ªå¿…é¡»åœ¨ç‚¹è¦†ç›–ä¸­ ï¼Œå› æ­¤ï¼š<spanclass="math inline">\(x(u) + x(v) \ge 1\)</span>.</p><p>å› è€Œå¾—åˆ°æœ€å°æƒå€¼ç‚¹è¦†ç›–çš„è§„åˆ’æ¨¡å‹ï¼šå…¶ä¸­<spanclass="math inline">\(w(v)\)</span> è¡¨ç¤ºé¡¶ç‚¹<spanclass="math inline">\(v\)</span>çš„æƒå€¼ã€‚</p><p><img src="/img/è¿‘ä¼¼ç®—æ³•/æ•´æ•°è§„åˆ’.png" /></p><h3 id="çº¿æ€§è§„åˆ’">çº¿æ€§è§„åˆ’</h3><p>çº¿æ€§è§„åˆ’åœ¨æ•´æ•°è§„åˆ’çš„åŸºç¡€ä¹‹ä¸Šä¸å†é™å®š<spanclass="math inline">\(x(v)\)</span>åªä¸º0æˆ–1ï¼Œè€Œæ˜¯æœ‰ä¸€ä¸ªèŒƒå›´ <spanclass="math inline">\(x(v) \in [0, 1]\)</span> è¿™æ ·åœ¨æ•´æ•°è§„åˆ’ä¸­çš„<spanclass="math inline">\(x(u) + x(v) \ge 1\)</span>ä»ç„¶æˆç«‹.è¿™æ˜¯å¯ä»¥çš„ã€‚å› ä¸ºï¼šå‰è€…æ˜¯åè€…çš„ä¸€ä¸ªç‰¹ä¾‹ã€‚å‰è€…ç§°ä¸º0-1æ•´æ•°è§„åˆ’ï¼Œåè€…ä¸ºæ™®é€šçš„çº¿æ€§è§„åˆ’ã€‚å› æ­¤ï¼Œçº¿æ€§è§„åˆ’ä¸­çš„æœ€ä¼˜è§£æ˜¯0-1æ•´æ•°è§„åˆ’æœ€ä¼˜è§£çš„ä¸€ä¸ªä¸‹ç•Œï¼ˆå› ä¸ºçº¿æ€§è§„åˆ’æœ€ä¼˜è§£åŒ…å«äº†0-1æ•´æ•°è§„åˆ’æœ€ä¼˜è§£ï¼‰ã€‚</p><p><img src="/img/è¿‘ä¼¼ç®—æ³•/ç‚¹è¦†ç›–-LPè§„åˆ’.png" /></p><p><strong>ç”¨çº¿æ€§è§„åˆ’çš„è§£æ¥æ„é€ æœ€å°æƒå€¼ç‚¹è¦†ç›–é—®é¢˜çš„è¿‘ä¼¼è§£ç®—æ³•</strong>:</p><p>å¯¹äºæ¯ä¸€ä¸ªé¡¶ç‚¹<spanclass="math inline">\(v\)</span>ï¼Œéƒ½ä¼šæ±‚å¾—ä¸€ä¸ª<spanclass="math inline">\(x(v)\)</span>çš„å€¼ã€‚è‹¥ï¼Œ<spanclass="math inline">\(x(v) \ge 1/2\)</span>,åˆ™å°†è¯¥é¡¶ç‚¹åŠ å…¥åˆ°ç‚¹è¦†ç›–é›†åˆä¸­ï¼Œå¦åˆ™èˆå»é¡¶ç‚¹<spanclass="math inline">\(v\)</span>ï¼Œç›´è‡³å›¾Gä¸­æ‰€æœ‰çš„é¡¶ç‚¹éƒ½å¤„ç†å®Œæ¯•ã€‚æ­¤æ—¶å¾—åˆ°çš„é¡¶ç‚¹é›†åˆ<spanclass="math inline">\(C\)</span>å³ä¸ºæœ€å°æƒå€¼ç‚¹è¦†ç›–é—®é¢˜çš„è¿‘ä¼¼è§£çš„ç‚¹è¦†ç›–é›†åˆã€‚</p><p><strong>çº¿æ€§è§„åˆ’æ±‚å¾—çš„é¡¶ç‚¹é›†åˆCæ˜¯æœ€å°æƒå€¼ç‚¹è¦†ç›–é—®é¢˜çš„äºŒå€è¿‘ä¼¼è§£</strong>:</p><p>è®¾ <span class="math inline">\(C^*\)</span>æ˜¯æœ€å°æƒå€¼ç‚¹è¦†ç›–é—®é¢˜çš„ä¸€ä¸ªæœ€ä¼˜è§£ï¼Œ<span class="math inline">\(Z\)</span>æ˜¯çº¿æ€§è§„åˆ’çš„ä¸€ä¸ªæœ€ä¼˜è§£ï¼Œ <spanclass="math inline">\(C\)</span>æ˜¯æœ€å°æƒå€¼ç‚¹è¦†ç›–é—®é¢˜çš„è¿‘ä¼¼è§£.</p><ol type="1"><li>ç”±äºæœ€å°æƒå€¼ç‚¹è¦†ç›–é—®é¢˜çš„ä¸€ä¸ªæœ€ä¼˜è§£æ˜¯çº¿æ€§è§„åˆ’çš„ä¸€ä¸ªå¯è¡Œè§£ï¼Œæ•…ï¼š<spanclass="math inline">\(Z \le W(C^*)\)</span>(<spanclass="math inline">\(W\)</span>ä¸ºæ±‚æƒå€¼çš„å‡½æ•°)</li><li>ä¸ºä»€ä¹ˆæ±‚å¾—çš„é›†åˆ<spanclass="math inline">\(C\)</span>å°±æ˜¯ä¸€ä¸ªç‚¹è¦†ç›–å‘¢ï¼Ÿå› ä¸ºå¯¹ä»»æ„è¾¹<spanclass="math inline">\((u,v) \in E\)</span>,æœ‰<spanclass="math inline">\(x(u)+x(v)\ge 1\)</span>ï¼Œå³åœ¨<spanclass="math inline">\(x(u)\)</span>å’Œ<spanclass="math inline">\(x(v)\)</span>ä¸­è‡³å°‘æœ‰ä¸€ä¸ªçš„å€¼å¤§äº1/2ã€‚å› æ­¤ï¼Œé¡¶ç‚¹<spanclass="math inline">\(u\)</span>ã€<span class="math inline">\(v\)</span>è‡³å°‘æœ‰ä¸€ä¸ªä¼šè¢«åŠ å…¥åˆ°é›†åˆ<spanclass="math inline">\(C\)</span>ä¸­ï¼Œä»è€Œä½¿å¾—å›¾<spanclass="math inline">\(G\)</span>ä¸­çš„æ¯ä¸€æ¡è¾¹éƒ½ä¼šè¢«è¦†ç›–ã€‚</li><li>ç”±ä¸‹å¼</li></ol><p><img src="/img/è¿‘ä¼¼ç®—æ³•/è¯æ˜çº¿æ€§è§„åˆ’æ˜¯2å€è¿‘ä¼¼è§£.png" /></p><p>ä»¥åŠ<span class="math inline">\(Z \le W(C^*)\)</span>,çŸ¥:<spanclass="math inline">\(W(C) \le 2Z &lt;=2W(C^*)\)</span>,å³è¿‘ä¼¼è§£<spanclass="math inline">\(C\)</span>çš„æƒå€¼<span class="math inline">\(W(C)\le\)</span> äºŒå€æœ€ä¼˜è§£<spanclass="math inline">\(C^*\)</span>çš„æƒå€¼.</p><p>é‚£ä¹ˆæ˜¯å¦æœ‰æ¯”2å€è¿‘ä¼¼è§£æ›´å°çš„è¿‘ä¼¼è§£?æœ€å°çš„è¿‘ä¼¼è§£å€ç‡æ˜¯å¤šå°‘?</p><p>ç­”:æœ‰.</p><p><strong>å®šç†</strong>: è‹¥ P <span class="math inline">\(\ne\)</span>NP,é‚£ä¹ˆæ²¡æœ‰æ¯”<span class="math inline">\(\rho = 1.3607(10\sqrt{5} -21)\)</span>æ›´å°çš„<span class="math inline">\(\rho\)</span>-è¿‘ä¼¼è§£.</p><h2id="å¤šé¡¹å¼æ—¶é—´é€¼è¿‘ç®—æ³•polynomial-time-approximation-scheme">å¤šé¡¹å¼æ—¶é—´é€¼è¿‘ç®—æ³•(PolynomialTime Approximation Scheme)</h2><p>ä¸Šé¢çš„<spanclass="math inline">\(\rho\)</span>-è¿‘ä¼¼ç®—æ³•æ˜¯é€šè¿‡ç‰ºç‰²æœ€ä¼˜è§£æ¥æ¢å–æ—¶é—´å’Œä¾‹å­,å¤šé¡¹å¼æ—¶é—´é€¼è¿‘ç®—æ³•å¯ä»¥äº§ç”Ÿä»»æ„é«˜è´¨é‡çš„è§£å†³æ–¹æ¡ˆï¼Œä½†ä»¥ç²¾åº¦æ¢å–æ—¶é—´ã€‚</p><p>ä»¥èƒŒåŒ…é—®é¢˜ä¸ºä¾‹:ç‰©å“<spanclass="math inline">\(i\)</span>çš„ä»·å€¼ä¸º<spanclass="math inline">\(v_i\)</span> ,é‡é‡ä¸º<spanclass="math inline">\(w_i\)</span>;èƒŒåŒ…æœ€å¤šå¯ä»¥æ‹¿çš„ç‰©å“é‡é‡ä¸º<spanclass="math inline">\(W\)</span>.ç°åœ¨æ±‚æœ€å¤§å¯ä»¥æ‹¿å–çš„ç‰©å“ä»·å€¼ã€‚</p><p><img src="/img/è¿‘ä¼¼ç®—æ³•/èƒŒåŒ…é—®é¢˜-ä¾‹å­.png" /></p><h3 id="æ–¹æ³•1åŠ¨æ€è§„åˆ’-1">æ–¹æ³•1ï¼šåŠ¨æ€è§„åˆ’-1</h3><p>å®šä¹‰<spanclass="math inline">\(OPT(i,w)=\)</span>æ‰€æœ‰ç‰©å“ä¸­å¯ä»¥æ‹¿åˆ°çš„<strong>æœ€å¤§ä»·å€¼</strong>ã€‚</p><ul><li>è‹¥<span class="math inline">\(OPT\)</span>æ²¡æœ‰é€‰æ‹©ç‰©å“<spanclass="math inline">\(i\)</span><ul><li><span class="math inline">\(OPT\)</span>åœ¨å®¹é‡ä¸º<spanclass="math inline">\(w\)</span>çš„æƒ…å†µä¸‹åœ¨ç‰©å“<spanclass="math inline">\(1,2,\dots,i-1\)</span>ä¸­é€‰å–å¾—åˆ°æœ€ä¼˜è§£</li></ul></li><li>è‹¥<span class="math inline">\(OPT\)</span>é€‰æ‹©ç‰©å“<spanclass="math inline">\(i\)</span><ul><li>æ–°çš„å®¹é‡ä¸º<span class="math inline">\(w-w_i\)</span></li><li><span class="math inline">\(OPT\)</span>åœ¨å®¹é‡ä¸º<spanclass="math inline">\(w-w_i\)</span>çš„æƒ…å†µä¸‹åœ¨ç‰©å“<spanclass="math inline">\(1,2,\dots,i-1\)</span>ä¸­é€‰å–å¾—åˆ°æœ€ä¼˜è§£</li></ul></li></ul><p><img src="/img/è¿‘ä¼¼ç®—æ³•/èƒŒåŒ…é—®é¢˜-åŠ¨æ€è§„åˆ’1.png" /></p><p>è¿è¡Œæ—¶é—´ï¼š<span class="math inline">\(O(n W)\)</span></p><ul><li><span class="math inline">\(W=\)</span>é‡é‡é™åˆ¶</li><li>è¾“å…¥<strong>ä¸æ˜¯</strong>å¤šé¡¹å¼çš„</li></ul><h3 id="æ–¹æ³•2åŠ¨æ€è§„åˆ’2">æ–¹æ³•2ï¼šåŠ¨æ€è§„åˆ’2</h3><p>å®šä¹‰<span class="math inline">\(OPT(i,v)=\)</span>ç‰©å“<spanclass="math inline">\(1,2,\dots,i\)</span>ä¸­æ‹¿å–ä¸”å¾—åˆ°çš„ç‰©å“ä»·å€¼ä¸º<spanclass="math inline">\(v\)</span>æ‰€æ¶ˆè€—çš„<strong>æœ€å°é‡é‡</strong></p><ul><li>è‹¥<span class="math inline">\(OPT\)</span>æ²¡æœ‰é€‰æ‹©ç‰©å“<spanclass="math inline">\(i\)</span><ul><li><span class="math inline">\(OPT\)</span>åœ¨ç‰©å“<spanclass="math inline">\(1,2,\dots,i-1\)</span>ä¸­é€‰å–å¾—åˆ°çš„ç‰©å“ä»·å€¼ä¸º<spanclass="math inline">\(v\)</span></li></ul></li><li>è‹¥<span class="math inline">\(OPT\)</span>é€‰æ‹©ç‰©å“<spanclass="math inline">\(i\)</span><ul><li>æ¶ˆè€—é‡é‡<span class="math inline">\(w_i\)</span>,ä¸”æ–°çš„ä»·å€¼ä¸º<spanclass="math inline">\(v-v_i\)</span></li><li><span class="math inline">\(OPT\)</span>åœ¨ç‰©å“<spanclass="math inline">\(1,2,\dots,i-1\)</span>ä¸­é€‰å–å¾—åˆ°çš„ç‰©å“ä»·å€¼ä¸º<spanclass="math inline">\(v\)</span></li></ul></li></ul><p><img src="/img/è¿‘ä¼¼ç®—æ³•/èƒŒåŒ…é—®é¢˜-åŠ¨æ€è§„åˆ’2.png" /></p><p>è¿è¡Œæ—¶é—´ï¼š<span class="math inline">\(O(n V^*)=O(n^2v_{max})\)</span></p><ul><li><span class="math inline">\(V^*\)</span>ä¸ºåœ¨<spanclass="math inline">\(OPT(n, v) \leW\)</span>çš„æƒ…å†µä¸‹å¯ä»¥é€‰å–çš„æœ€å¤§ä»·å€¼</li><li>è¾“å…¥<strong>ä¸æ˜¯</strong>å¤šé¡¹å¼çš„</li></ul><h3 id="å¤šé¡¹å¼æ—¶é—´é€¼è¿‘ç®—æ³•">å¤šé¡¹å¼æ—¶é—´é€¼è¿‘ç®—æ³•</h3><p>ä»¥ä¸Šçš„åŠ¨æ€è§„åˆ’éƒ½å¯ä»¥å¾—åˆ°æœ€ä¼˜è§£ï¼Œä½†æ˜¯è€ƒè™‘ä¸€ä¸ªé—®é¢˜ï¼šè‹¥æ‰€æœ‰ç‰©å“çš„ä»·å€¼è¿œå¤§äºé‡é‡çš„æ—¶å€™ï¼Œä¸Šé¢çš„åŠ¨æ€è§„åˆ’è¿˜å¯è¡Œå—ï¼Ÿ</p><p>è¿™æ—¶å€™é—®é¢˜çš„è¾“å…¥ä¸æ˜¯å¤šé¡¹å¼çš„ï¼ˆç‰©å“çš„ä»·å€¼ï¼Œå› ä¸ºåœ¨è®¡ç®—æœºå†…æ•°æ®éƒ½è¦è½¬åŒ–ä¸º2è¿›åˆ¶å†å¤„ç†ï¼‰ï¼Œè¿™æ—¶å€™ä¸ºäº†ä½¿æ±‚è§£æ—¶é—´æ›´å¿«ï¼Œå¼•å…¥äº†æ–°çš„ç®—æ³•<strong>å¤šé¡¹å¼æ—¶é—´é€¼è¿‘ç®—æ³•ï¼ˆPolynomialTime Approximation Schemeï¼‰</strong>ã€‚å®ƒçš„å¤§è‡´æ€æƒ³æ˜¯ï¼š</p><ul><li>å°†æ‰€æœ‰çš„ä»·å€¼å‘ä¸Šèˆå…¥åˆ°ä¸€ä¸ªè¾ƒå°çš„èŒƒå›´é‡Œ</li><li>åœ¨å‘ä¸Šèˆå…¥åçš„å®åŠ›ä¸Šè¿è¡ŒåŠ¨æ€è§„åˆ’ç®—æ³•</li><li>å¾—åˆ°å‘ä¸Šèˆå…¥å®ä¾‹çš„æœ€ä¼˜è§£</li></ul><p>æ³¨ï¼šè¿™é‡Œä¸€å®šè¦æ˜¯å‘ä¸Šèˆå…¥è€Œä¸èƒ½æ˜¯å››èˆäº”å…¥ï¼Œè™½ç„¶å…¨éƒ¨å‘ä¸Šèˆå…¥å¯èƒ½ä¼šåœ¨åŸæ¥çš„é—®é¢˜ä¸­ä¸¢å¤±ä¸€äº›è¾ƒä¸ºä¼˜è´¨çš„è§£ï¼Œä½†æ˜¯è‹¥å››èˆäº”å…¥çš„æ—¶å€™ï¼Œè‹¥æœ‰å‘ä¸‹èˆå»çš„ä»·å€¼ï¼Œå¯èƒ½åœ¨æ–°çš„å®ä¾‹ä¸­æ‰¾åˆ°çš„è§£åœ¨åŸé—®é¢˜ä¸­æ˜¯ä¸å¯è¡Œè§£ã€‚</p><p><img src="/img/è¿‘ä¼¼ç®—æ³•/èƒŒåŒ…é—®é¢˜-å››èˆäº”å…¥.png" /></p><p>é¦–å…ˆå¯¹æ‰€æœ‰ä»·å€¼å‘ä¸Šèˆå…¥ï¼š</p><p><img src="/img/è¿‘ä¼¼ç®—æ³•/å‘ä¸Šèˆå…¥.png" /></p><ul><li><spanclass="math inline">\(v_{max}\)</span>ä¸ºåŸå§‹ä¾‹å­é‡Œçš„æœ€å¤§ä»·å€¼</li><li><span class="math inline">\(\varepsilon\)</span>ä¸ºç²¾ç¡®å‚æ•°</li><li><span class="math inline">\(\theta\)</span>ä¸ºæ”¾ç¼©å› å­</li></ul><p>å¯¹äºæ”¾ç¼©ä¹‹åçš„ä¾‹å­ï¼Œå¤æ‚åº¦<span class="math inline">\(O(n^3 /\varepsilon)\)</span>,ä½¿ç”¨ä¸Šé¢çš„åŠ¨æ€è§„åˆ’-2æ–¹æ³•çš„è¿è¡Œæ—¶é—´ä¸º<spanclass="math inline">\(0(n^2 \hat{v}_{max})\)</span>.</p><p>å…¶ä¸­</p><p><img src="/img/è¿‘ä¼¼ç®—æ³•/å…¬å¼1.png" /></p><p><strong>å®šç†</strong>ï¼šè‹¥<spanclass="math inline">\(S\)</span>ä¸ºå¤šé¡¹å¼æ—¶é—´é€¼è¿‘ç®—æ³•æ‰¾åˆ°çš„ä¸€ä¸ªè§£ï¼ŒåŒæ—¶<spanclass="math inline">\(S^*\)</span>ä¸ºå¦ä¸€ä¸ªå¯è¡Œè§£ï¼Œé‚£ä¹ˆæœ‰ <spanclass="math inline">\((1+\varepsilon) \sum\limits_{i \in S}v_i \ge\sum\limits_{i \in S^*}v_i\)</span></p><p>è¯æ˜ï¼š</p><p><img src="/img/è¿‘ä¼¼ç®—æ³•/å¤šé¡¹å¼æ—¶é—´é€¼è¿‘ç®—æ³•-è¯æ˜.png" /></p>]]></content>
    
    
    <categories>
      
      <category>é«˜çº§ç®—æ³•è®¾è®¡ä¸åˆ†æ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>é«˜çº§ç®—æ³•è®¾è®¡ä¸åˆ†æ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>NPé—®é¢˜ä»¥åŠå¸¸è§å¤šé¡¹å¼è§„çº¦</title>
    <link href="/2022/12/02/NP%E9%97%AE%E9%A2%98%E4%BB%A5%E5%8F%8A%E5%B8%B8%E8%A7%81%E5%A4%9A%E9%A1%B9%E5%BC%8F%E8%A7%84%E7%BA%A6/"/>
    <url>/2022/12/02/NP%E9%97%AE%E9%A2%98%E4%BB%A5%E5%8F%8A%E5%B8%B8%E8%A7%81%E5%A4%9A%E9%A1%B9%E5%BC%8F%E8%A7%84%E7%BA%A6/</url>
    
    <content type="html"><![CDATA[<h2 id="pnpnpcnphé—®é¢˜">Pã€NPã€NPCã€NPHé—®é¢˜</h2><p><strong>Pé—®é¢˜</strong>ï¼šå­˜åœ¨å¤šé¡¹å¼æ—¶é—´ç®—æ³•çš„å†³ç­–é—®é¢˜ã€‚</p><p><strong>NPé—®é¢˜</strong>ï¼šèƒ½åœ¨å¤šé¡¹å¼æ—¶é—´å†…éªŒè¯æŸä¸ªçŒœæƒ³ç­”æ¡ˆçš„æ­£ç¡®æ€§ï¼Œä½†é—®é¢˜æ±‚è§£å¯èƒ½åœ¨æ— æ³•åœ¨å¤šé¡¹å¼æ—¶é—´å†…å®Œæˆã€‚æ¯”å¦‚Compositeé—®é¢˜ã€3-Satisfiabilityã€HamiltonianCycleï¼Œå¾ˆå®¹æ˜“å°±ç¡®å®šä¸€ä¸ªç­”æ¡ˆæ˜¯å¦æ­£ç¡®ï¼Œä½†ç¡®æ‰¾ä¸åˆ°ä¸€ä¸ªå…¬å¼æ¥æè¿°å…¶è§„å¾‹ã€‚</p><p><strong>ç»“è®º1</strong>ï¼šP <spanclass="math inline">\(\subseteq\)</span> NP</p><p><strong>ç»“è®º2</strong>ï¼šNP <spanclass="math inline">\(\subseteq\)</span> EXP</p><p><strong>EXPé—®é¢˜</strong>ï¼šå­˜åœ¨æŒ‡æ•°æ—¶é—´ç®—æ³•çš„å†³ç­–é—®é¢˜ã€‚</p><p><strong>NPCé—®é¢˜</strong>: éœ€è¦æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶</p><ul><li>å®ƒæ˜¯ä¸€ä¸ªNPé—®é¢˜</li><li>æ‰€æœ‰çš„NPé—®é¢˜éƒ½å¯ä»¥è§„çº¦åˆ°NP-complete</li></ul><p><strong>å®šç†</strong>ï¼šè‹¥Yæ˜¯ä¸€ä¸ªNPCé—®é¢˜ï¼Œé‚£ä¹ˆYå¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…æ±‚è§£<strong>å½“ä¸”ä»…å½“</strong>P<spanclass="math inline">\(=\)</span>NP</p><p>è¯æ˜ï¼š</p><p><span class="math inline">\(\Rightarrow\)</span></p><p>è‹¥P <span class="math inline">\(=\)</span>NPï¼Œé‚£ä¹ˆYå¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´æ±‚è§£ï¼Œå› ä¸ºYæ˜¯NPï¼ˆNPCçš„ç¬¬ä¸€ä¸ªæ¡ä»¶ï¼šå®ƒè¦å…ˆæ˜¯ä¸€ä¸ªNPï¼‰</p><p><span class="math inline">\(\Leftarrow\)</span></p><p>è‹¥Yå¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´æ±‚è§£ï¼š - ä»¤Xä¸ºä»»æ„ä¸€ä¸ªNPé—®é¢˜ï¼Œå› ä¸ºX <spanclass="math inline">\(\le_p\)</span>Yï¼Œè€ŒYå¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´æ±‚è§£ï¼Œæ•…Xä¹Ÿå¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´æ±‚è§£ã€‚NP <spanclass="math inline">\(\subseteq\)</span> P - åˆå·²çŸ¥P <spanclass="math inline">\(\subseteq\)</span> NP,æ‰€ä»¥ P <spanclass="math inline">\(=\)</span> NP</p><p><strong>å¦‚æœ</strong>æˆ‘ä»¬ç»™NPCé—®é¢˜æ‰¾åˆ°äº†ä¸€ä¸ªå¤šé¡¹å¼æ—¶é—´å¤æ‚åº¦çš„ç®—æ³•ï¼Œé‚£ä¹ˆä¹Ÿå°±æ„å‘³ç€æˆ‘ä»¬ç»™æ‰€æœ‰çš„NPé—®é¢˜æ‰¾åˆ°äº†å¤šé¡¹å¼æ—¶é—´å¤æ‚åº¦çš„ç®—æ³•ï¼Œä»è€ŒNP=Pï¼Œå› ä¸ºP=NPï¼Œæ‰€ä»¥â€œPå¯¹NPé—®é¢˜â€å°±å¯ä»¥è¢«è§£å†³ã€‚ä½†ç»™NPCé—®é¢˜æ‰¾ä¸€ä¸ªå¤šé¡¹å¼æ—¶é—´å¤æ‚åº¦çš„ç®—æ³•å¤ªéš¾äº†ï¼Œæ‰€ä»¥ç°åœ¨äººä»¬æ™®éç›¸ä¿¡Pâ‰ NPã€‚</p><p><strong>NPHé—®é¢˜</strong>ï¼šæ»¡è¶³ä¸Šé¢NPCé—®é¢˜çš„ç¬¬äºŒä¸ªæ¡ä»¶ï¼Œä½†ä¸ä¸€å®šè¦æ»¡è¶³ç¬¬ä¸€ä¸ªæ¡ä»¶ï¼Œæ‰€ä»¥NPHçš„èŒƒå›´æ¯”HPCæ›´å¤§ã€‚</p><h3 id="è¯æ˜ä¸€ä¸ªé—®é¢˜æ˜¯npcé—®é¢˜çš„æ­¥éª¤">è¯æ˜ä¸€ä¸ªé—®é¢˜æ˜¯NPCé—®é¢˜çš„æ­¥éª¤</h3><ul><li>è¯æ˜è¿™ä¸ªé—®é¢˜Yå±äºNP</li><li>é€‰æ‹©ä¸€ä¸ªNPCé—®é¢˜X</li><li>è¯æ˜Xå¯ä»¥å¤šé¡¹å¼è§„çº¦åˆ°Y</li></ul><h3 id="è¯æ˜ä¸€ä¸ªé—®é¢˜æ˜¯nphé—®é¢˜çš„æ­¥éª¤">è¯æ˜ä¸€ä¸ªé—®é¢˜æ˜¯NPHé—®é¢˜çš„æ­¥éª¤</h3><p>è¦è¯æ˜ä¸€ä¸ªé—®é¢˜æ˜¯NP-hardï¼Œé€šå¸¸æ˜¯æ‰¾åˆ°ä¸€ä¸ªå·²è¢«è¯æ˜äº†çš„NPCé—®é¢˜ï¼Œå¹¶æŠŠè¿™ä¸ªNPCé—®é¢˜å½’çº¦åˆ°è¯¥é—®é¢˜ä¸Šå»ï¼ˆå³NPC<span class="math inline">\(\le\)</span> NP-hardï¼‰,ç®€å•æ¥è¯´å°±æ˜¯ï¼š</p><ul><li>å¯¹é—®é¢˜Aç»™å®šé™åˆ¶æ¡ä»¶å¾—åˆ°ä¸€ä¸ªç‰¹ä¾‹Bé—®é¢˜</li><li>è¯æ˜é—®é¢˜Bæ˜¯NPCé—®é¢˜</li></ul><h2 id="npcä¹‹é—´è§„çº¦çš„ä¾‹å­">NPCä¹‹é—´è§„çº¦çš„ä¾‹å­</h2><h3 id="sat-le_p-independent-set">3-SAT <spanclass="math inline">\(\le_p\)</span> Independent Set</h3><p><strong>è¯æ˜ï¼šç»™å®šä¸€ä¸ª3-SATçš„ä¾‹å­<spanclass="math inline">\(\Phi\)</span>,å¯ä»¥æ„é€ ä¸€ä¸ªå¤§å°ä¸º<spanclass="math inline">\(k\)</span>çš„Independent Setå½“ä¸”ä»…å½“å¼å­<spanclass="math inline">\(\Phi\)</span>æ˜¯å¯æ»¡è¶³çš„ã€‚</strong></p><p>æ„é€ :</p><ul><li>3-SATä¸­çš„æ¯ä¸ªClauseåŒ…å«ç‹¬ç«‹é›†é‡Œçš„ä¸‰ä¸ªé¡¶ç‚¹ï¼Œå…¶ä¸­æ¯ä¸ªLiteralå¯¹åº”ä¸€ä¸ªé¡¶ç‚¹</li><li>è¿æ¥å¥å­é‡Œçš„ç‚¹è¿æ¥å½¢æˆä¸‰è§’å½¢</li><li>è¿æ¥ä¸åŒClauseé‡Œæ¯ä¸ªLiteralå’Œå®ƒå¯¹åº”çš„é</li></ul><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/img/å¤šé¡¹å¼è§„çº¦/3-SAT2IndependentSet.png" /></p><p><strong>è¯æ˜</strong>ï¼š</p><p><span class="math inline">\(\Rightarrow\)</span></p><p>ä»¤Sä¸ºä¸€ä¸ªå¤§å°ä¸º<spanclass="math inline">\(k\)</span>çš„ç‹¬ç«‹é›†ï¼Œæ¯ä¸ªä¸‰è§’å½¢é‡Œä¸€å®šåªæœ‰ä¸€ä¸ªé¡¶ç‚¹åœ¨<spanclass="math inline">\(S\)</span>é‡Œï¼Œè®¾è¯¥é¡¶ç‚¹å–1ï¼Œå…¶ä½™é¡¶ç‚¹å–0ï¼Œåˆ™å…¶è‚¯å®šæ˜¯ä¸€ä¸ªæ»¡è¶³3-SATçš„èµ‹å€¼ã€‚</p><p><span class="math inline">\(\Leftarrow\)</span></p><p>ç»™å®š3-SATä¸€ä¸ªæ»¡è¶³çš„èµ‹å€¼ï¼Œåœ¨æ¯ä¸ªä¸‰è§’å½¢ä¸­é€‰å–ä¸€ä¸ªå–å€¼ä¸º1çš„é¡¶ç‚¹ï¼Œè¿™æ ·ä¾¿æ„æˆäº†ä¸€ä¸ªå¤§å°ä¸º<spanclass="math inline">\(k\)</span>çš„ç‹¬ç«‹é›†ã€‚</p><h3 id="hamiltonian-cycle-problem">Hamiltonian Cycle problem</h3><p><strong>Hamiltonian Cycle</strong>:ç»™å®šä¸€ä¸ªæ— å‘å›¾ <spanclass="math inline">\(G=(V,E)\)</span>ï¼Œæ˜¯å¦å­˜åœ¨ä¸€ä¸ªç®€å•çš„ç¯ <spanclass="math inline">\(\Gamma\)</span> åŒ…å« <spanclass="math inline">\(V\)</span> ä¸­æ‰€æœ‰çš„ç‚¹ã€‚</p><figure><img src="/img/å¤šé¡¹å¼è§„çº¦/HamiltonianCycleå®šä¹‰.png"alt="æœ‰å¥‡æ•°ä¸ªèŠ‚ç‚¹çš„Hamiltonian Cycle" /><figcaption aria-hidden="true">æœ‰å¥‡æ•°ä¸ªèŠ‚ç‚¹çš„HamiltonianCycle</figcaption></figure><p><strong>DIR-HAM-CYCLE</strong>ï¼šç»™å®šä¸€ä¸ªæœ‰å‘å›¾ <spanclass="math inline">\(G=(V,E)\)</span>,æ˜¯å¦å­˜åœ¨ä¸€ä¸ªç®€å•ç¯ <spanclass="math inline">\(\Gamma\)</span> åŒ…å«<spanclass="math inline">\(V\)</span>ä¸­æ‰€æœ‰é¡¶ç‚¹ï¼Ÿ</p><p><strong>DIR-HAM-CYCL <span class="math inline">\(\le_p\)</span>Ham-Cycle</strong>: è¯æ˜ï¼šç»™å®šä¸€ä¸ªæœ‰å‘å›¾<spanclass="math inline">\(G=(V,E)\)</span>,æ„é€ ä¸€ä¸ªæœ‰<spanclass="math inline">\(3n\)</span>ä¸ªèŠ‚ç‚¹çš„æ— å‘å›¾<spanclass="math inline">\(G&#39;\)</span>ï¼Œåˆ™<spanclass="math inline">\(G\)</span>æœ‰Hamiltonian Cycleå½“ä¸”ä»…å½“<spanclass="math inline">\(G&#39;\)</span>æœ‰Hamiltonian Cycleã€‚</p><p><img src="/img/å¤šé¡¹å¼è§„çº¦/DIR-HAM-CYC2Ham-Cycle.png" /></p><p><span class="math inline">\(\Rightarrow\)</span></p><p>è‹¥<span class="math inline">\(G\)</span>ä¸­æœ‰ä¸€ä¸ªæœ‰å‘çš„HamiltonianCycleï¼Œåˆ™<spanclass="math inline">\(G&#39;\)</span>ä¸­è‚¯å®šä¹Ÿæœ‰ä¸€ä¸ªHamiltonianCycleï¼Œä¸”é¡ºåºä¸æœ‰å‘å›¾çš„èŠ‚ç‚¹é¡ºåºç›¸åŒã€‚</p><p><span class="math inline">\(\Leftarrow\)</span></p><p>è‹¥<spanclass="math inline">\(G&#39;\)</span>ä¸­æœ‰ä¸€ä¸ªæ— å‘çš„HamiltonianCycleï¼Œåˆ™ä»è“è‰²èŠ‚ç‚¹å‡ºå‘ï¼ŒèŠ‚ç‚¹çš„é¢œè‰²å‡ºç°é¡ºåºå¿…ç„¶æ˜¯ä¸¤ç§ä¸­çš„ä¸€ç§ -B,G,R,B,G,R,<span class="math inline">\(\dots\)</span> -B,R,G,B,R,G,<span class="math inline">\(\dots\)</span></p><p>è‹¥<span class="math inline">\(G&#39;\)</span>çš„HamiltonianCycleé¡ºåºæ˜¯ç¬¬ä¸€ç§ï¼Œé‚£ä¹ˆå¯¹åº”<spanclass="math inline">\(G\)</span>ä¸­çš„HamiltonianCycleçš„èŠ‚ç‚¹é¡ºåºä¸å…¶è“è‰²èŠ‚ç‚¹é¡ºåºç›¸åŒï¼›è‹¥<spanclass="math inline">\(G&#39;\)</span>çš„HamiltonianCycleé¡ºåºæ˜¯ç¬¬äºŒç§ï¼Œé‚£ä¹ˆå¯¹åº”<spanclass="math inline">\(G\)</span>ä¸­çš„HamiltonianCycleçš„èŠ‚ç‚¹é¡ºåºä¸å…¶è“è‰²èŠ‚ç‚¹é¡ºåºç›¸åã€‚</p><h3 id="sat-le_p-hamiltonian-cycle-problem">3SAT <spanclass="math inline">\(\le_p\)</span> Hamiltonian Cycle problem</h3><!-- **Vertex Cover**ï¼šä¸€ç»„é¡¶ç‚¹çš„é›†åˆï¼Œä½¿å¾—å›¾çš„æ¯æ¡è¾¹è‡³å°‘ä¸é›†åˆä¸­çš„ä¸€ä¸ªé¡¶ç‚¹ç›¸è¿æ¥ã€‚åœ¨è¿™é‡ŒVertex Coveré—®é¢˜æ˜¯ç»™å®šå›¾$G$å’Œç‚¹é›†çš„ä¸ªæ•°$k$ï¼Œè¦æ‰¾åˆ°å›¾$G$çš„ä¸€ä¸ªå¤§å°ä¸º$k$çš„ç‚¹è¦†ç›–ã€‚ï¼ˆä¹Ÿå°±æ˜¯å¸¸è¯´çš„æœ€å°ç‚¹è¦†ç›–ï¼‰ --><p><strong>æ„é€ æ€è·¯:æœ‰<spanclass="math inline">\(n\)</span>ä¸ªå˜é‡çš„3-SATæœ‰<spanclass="math inline">\(2^n\)</span>ç§å¯èƒ½çš„åˆ†é…ï¼Œè¦å°†å…¶è§„çº¦åˆ°HamiltonianCycleï¼Œå…¶å¯¹åº”çš„Hamiltonian Cycleåº”è¯¥ä¹Ÿæœ‰<spanclass="math inline">\(2^n\)</span>ç§å¯èƒ½çš„åˆ†é…æ–¹å¼ã€‚</strong></p><p>æ„é€ æ–¹æ³•ï¼šå¯¹ä¸€ä¸ªæœ‰<span class="math inline">\(n\)</span>ä¸ªå˜é‡å’Œ<spanclass="math inline">\(k\)</span>ä¸ªå¥å­çš„3-SAT,æ„é€ <spanclass="math inline">\(3k+3\)</span>ä¸ªèŠ‚ç‚¹çš„HamiltonianCycleï¼Œå…¶ä¸­æ¯ä¸ªå˜é‡<span class="math inline">\(x_i\)</span>å¯¹åº”<spanclass="math inline">\(3k+3\)</span>ä¸ªèŠ‚ç‚¹ï¼Œä»¤å¤–å†å¢åŠ ä¸€ä¸ªæºç‚¹<spanclass="math inline">\(s\)</span>ã€ä¸€ä¸ªæ±‡ç‚¹<spanclass="math inline">\(t\)</span>ã€‚</p><p><img src="/img/å¤šé¡¹å¼è§„çº¦/3-SAT2Ham-Cycleæ„é€ .png" /></p><p>å¦‚æœ <spanclass="math inline">\(x_i=1\)</span>ï¼Œåˆ™å½¢æˆä»å·¦å‘å³çš„ä¸€ä¸ªè·¯å¾„ï¼›å¦‚æœ<spanclass="math inline">\(x_i=0\)</span>ï¼Œåˆ™å½¢æˆä»å³å‘å·¦çš„ä¸€ä¸ªè·¯å¾„ã€‚</p><p>å¯¹äºæ¯ä¸€ä¸ªclause <span class="math inline">\(c_j=z_1 z_2z_3\)</span>ï¼Œè‹¥<span class="math inline">\(z=x_i\)</span>,åˆ™æ·»åŠ æœ‰å‘è¾¹<spanclass="math inline">\((v_{i,3j},c_j)å’Œ(c_j,v_{i,3j+1})\)</span>;è‹¥<spanclass="math inline">\(z=\bar{x}_i\)</span>,åˆ™æ·»åŠ æœ‰å‘è¾¹<spanclass="math inline">\((c_j,v_{i,3j})å’Œ(v_{i,3j+1},c_j)\)</span>ï¼Œè¿™é‡Œ<spanclass="math inline">\(1\le j\le m, 1\le i\len\)</span>ã€‚å¦‚ä¸Šå›¾æ‰€ç¤ºï¼ˆå³è‹¥<spanclass="math inline">\(z=x_i\)</span>,è¯¥èŠ‚ç‚¹ä¸<spanclass="math inline">\(c\)</span>èŠ‚ç‚¹çš„è¿æ¥é¡ºåºæ˜¯ä»å·¦è¾¹è¿›å…¥<spanclass="math inline">\(c\)</span>èŠ‚ç‚¹ï¼Œç„¶åä»å³è¾¹å‡º<spanclass="math inline">\(c\)</span>èŠ‚ç‚¹ï¼›åä¹‹é¡ºåºç›¸åï¼‰ã€‚</p><p>å¦‚æœé€‰æ‹©å­å¥<span class="math inline">\(C_1\)</span>ä¸­<spanclass="math inline">\(x_1=1\)</span>,åˆ™<spanclass="math inline">\(x_1\)</span>å¯¹åº”çš„è·¯å¾„ä¸ºä»å·¦å‘å³;åŒç†<spanclass="math inline">\(x_2=0\)</span>,åˆ™<spanclass="math inline">\(x_2\)</span>å¯¹åº”çš„è·¯å¾„ä¸ºä»å³å‘å·¦ï¼›<spanclass="math inline">\(x_3=1\)</span>,åˆ™<spanclass="math inline">\(x_3\)</span>å¯¹åº”çš„è·¯å¾„ä¸ºä»å·¦å‘å³ã€‚å…¶ä½™å¥å­åŒç†ï¼Œè¿™æ ·å°±å¾—åˆ°äº†æœ€ç»ˆçš„å›¾<spanclass="math inline">\(G\)</span>ã€‚</p><p><strong>è¯æ˜</strong>:</p><p><span class="math inline">\(\Rightarrow\)</span></p><p>å‡è®¾3-SATæœ‰ä¸€ä¸ªå¯æ»¡è¶³çš„åˆ†é…<spanclass="math inline">\(x^*\)</span>ï¼š</p><ul><li>å¯¹äº<span class="math inline">\(x_i\)</span>,è‹¥å…¶ä¸º1ï¼Œåˆ™ç¬¬<spanclass="math inline">\(i\)</span>è¡Œä»å·¦å¾€å³éå†ï¼›åä¹‹ï¼Œè‹¥å…¶ä¸º0ï¼Œåˆ™ç¬¬<spanclass="math inline">\(i\)</span>è¡Œä»å³å¾€å·¦éå†</li><li>ä¸”å¯¹äºæ¯ä¸ªå¥å­èŠ‚ç‚¹<spanclass="math inline">\(c_i\)</span>ï¼Œè‡³å°‘ä¼šæœ‰ä¸€è¡Œä¾¿åˆ©çš„æ—¶å€™ä¼šç»è¿‡<spanclass="math inline">\(c_i\)</span>ï¼Œå¦åˆ™ä¾¿ä¸æ»¡è¶³æ¯ä¸ªå¥å­éƒ½ä¸ºçœŸçš„æ¡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯¥åˆ†é…å¹¶ä¸æ˜¯å¯æ»¡è¶³çš„ã€‚</li></ul><p><span class="math inline">\(\Leftarrow\)</span></p><p>å‡è®¾æ„é€ çš„å›¾<spanclass="math inline">\(G\)</span>æœ‰ä¸€ä¸ªHam-Cycleï¼Œé‚£ä¹ˆ</p><ul><li>è‹¥Ham-Cycleè¿›å…¥å¥å­èŠ‚ç‚¹<spanclass="math inline">\(c_i\)</span>ï¼Œé‚£ä¹ˆå®ƒä¸€å®šä¼šè¿”å›ç›¸åŒçš„è¡Œï¼Œå¦åˆ™ä¾¿ä¸å­˜åœ¨ç®€å•ç¯ã€‚</li><li>è¿™æ ·Ham-Cycleé‡Œçš„å¥å­èŠ‚ç‚¹<spanclass="math inline">\(c_i\)</span>ä¸åŒä¸€è¡Œçš„ä¸¤ä¸ªç›¸é‚»èŠ‚ç‚¹ç›¸è¿ï¼Œè®°è¿™ä¸¤ä¸ªç›¸é‚»èŠ‚ç‚¹ä¹‹é—´çš„è¾¹ä¸º<spanclass="math inline">\(e_i\)</span></li><li>å»æ‰å¥å­èŠ‚ç‚¹<span class="math inline">\(c_i\)</span>ï¼ŒåŒæ—¶ç”¨<spanclass="math inline">\(e_i\)</span>æ›¿æ¢ä¸<spanclass="math inline">\(c_i\)</span>ç›¸è¿çš„ä¸¤æ¡è¾¹ã€‚</li><li>æŒ‰ä¸Šé¢çš„æ–¹æ³•å»æ‰æ‰€æœ‰çš„å¥å­èŠ‚ç‚¹å¾—åˆ°å›¾ä¹Ÿå¿…ç„¶å­˜åœ¨Ham-Cycleï¼Œä¸”èŠ‚ç‚¹çš„é¡ºåºæ˜¯ç›¸åŒçš„ã€‚</li><li>è‹¥Ham-Cycleçš„ç¬¬<spanclass="math inline">\(i\)</span>è¡Œæ˜¯ä»å·¦å¾€å³éå†çš„ï¼Œä¾¿ä»¤<spanclass="math inline">\(x_i=1\)</span>;åä¹‹åˆ™ä»¤<spanclass="math inline">\(x_i=0\)</span>ï¼Œè¿™æ ·ä¾¿å¾—åˆ°ä¸€ä¸ªåˆ†é…æ–¹æ¡ˆï¼Œä¸”å…¶æ˜¯å¯æ»¡è¶³çš„ã€‚</li></ul><p>è¿™æ ·ä¾¿å¾—åˆ°ä¸€ä¸ªåˆ†é…æ–¹å¼ï¼Œä¸”æ¯ä¸ªå¥å­éƒ½æ˜¯å¯æ»¡è¶³çš„ã€‚</p><h3 id="ham-cycle-le_p-tsptraveling-saleperson-problem">HAM-CYCLE <spanclass="math inline">\(\le_p\)</span> TSP(Traveling SalepersonProblem)</h3><p><strong>TSP(Traveling Saleperson Problem)</strong>ï¼šç»™å®šä¸€ä¸ª<spanclass="math inline">\(n\)</span>ä¸ªåŸå¸‚çš„é›†åˆä»¥åŠåŸå¸‚ä¹‹é—´çš„è·ç¦»<spanclass="math inline">\(d(u,v)\)</span>,æ˜¯å¦å­˜åœ¨ä¸€ä¸ªæ—…è¡Œçš„è·¯çº¿ä½¿è¡Œèµ°çš„è·ç¦»<spanclass="math inline">\(\le n\)</span>?</p><p>æ—…è¡Œè€…é—®é¢˜ä¸HAM-CYCLEçš„åŒºåˆ«åœ¨äºï¼šæ—…è¡Œè€…é—®é¢˜å¹¶ä¸é™å®šç®€å•è·¯å¾„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥é€šè¿‡å¤šæ¬¡ï¼Œåªéœ€è¦è€ƒè™‘æœ€åçš„è·¯å¾„é•¿åº¦ã€‚</p><p><strong>DIR-HAM-CYCLE</strong>ï¼šç»™å®šä¸€ä¸ªæœ‰å‘å›¾ <spanclass="math inline">\(G=(V,E)\)</span>,æ˜¯å¦å­˜åœ¨ä¸€ä¸ªç®€å•ç¯ <spanclass="math inline">\(\Gamma\)</span> åŒ…å«<spanclass="math inline">\(V\)</span>ä¸­æ‰€æœ‰é¡¶ç‚¹ï¼Ÿ</p><p>$HAM-CYCLE <span class="math inline">\(\le_p\)</span> TSP(TravelingSaleperson Problem)$</p><p><strong>æ„é€ </strong>ï¼šç»™å®šä¸€ä¸ªHAM-CYCLEçš„å®ä¾‹<spanclass="math inline">\(G=(V,E)\)</span>,<spanclass="math inline">\(V\)</span>ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹æ„é€ ä¸€ä¸ªåŸå¸‚èŠ‚ç‚¹ï¼ŒåŸå¸‚ä¹‹é—´çš„è·ç¦»æ ¹æ®<spanclass="math inline">\(E\)</span>è¿›è¡Œèµ‹å€¼: <spanclass="math display">\[d(u,v)= \begin{cases}    1, (u,v) \in E  \\    2, (u,v) \notin E\end{cases}\]</span></p><p>åˆ™TSPä¸­æœ‰ä¸€ä¸ªæ—…è¡Œè·¯å¾„<span class="math inline">\(\len\)</span>å½“ä¸”ä»…å½“<spanclass="math inline">\(G\)</span>ä¸­å­˜åœ¨HAM-CYCLE</p><h3 id="sat-le_p-3-colorable">3-SAT <spanclass="math inline">\(\le_p\)</span> 3-Colorable</h3><p><strong>3-Colorable</strong>:ç»™å®šä¸€ä¸ªæ— å‘å›¾<spanclass="math inline">\(G\)</span>ï¼Œå¹¶ç»™å›¾ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹æŸ“ä¸Šçº¢ã€è“ã€ç»¿çš„å…¶ä¸­ä¸€ç§é¢œè‰²ï¼Œé‚£ä¹ˆæ˜¯å¦å­˜åœ¨ä¸€ç§æŸ“è‰²æ–¹å¼ä½¿ç›¸é‚»çš„èŠ‚ç‚¹éƒ½æœ‰ä¸åŒçš„é¢œè‰²ï¼Ÿ</p><p>3-SAT <span class="math inline">\(\le_p\)</span> 3-Colorable</p><p><strong>æ„é€ </strong>ï¼š</p><ul><li>å¯¹æ¯ä¸ªLiteralï¼Œæ„é€ ä¸€ä¸ªèŠ‚ç‚¹</li><li>åŒæ—¶æ·»åŠ ä¸‰ä¸ªèŠ‚ç‚¹<spanclass="math inline">\(Tã€Fã€B\)</span>ï¼Œè¿æ¥è¿™ä¸‰ä¸ªèŠ‚ç‚¹å½¢æˆä¸€ä¸ªä¸‰è§’å½¢</li><li>å¯¹æ¯ä¸ªliteralèŠ‚ç‚¹ï¼Œåˆ›å»ºä¸€ä¸ªå®ƒçš„"é"å¹¶ä¸å®ƒç›¸è¿</li><li>æ‰€æœ‰çš„LiteralèŠ‚ç‚¹éƒ½ä¸<span class="math inline">\(B\)</span>ç›¸è¿</li></ul><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š <imgsrc="/img/å¤šé¡¹å¼è§„çº¦/3-SAT23-COLOLABLE-1.png" /></p><p>è¿™æ ·æ„é€ ä¿è¯äº†ä¸‹é¢çš„æ¯ä¸ªLiteralèŠ‚ç‚¹éƒ½æ˜¯ç»¿è‰²æˆ–çº¢è‰²ï¼Œä¸”å®ƒçš„â€œéâ€ä¸å®ƒçš„é¢œè‰²åˆšå¥½ç›¸åã€‚</p><p>ç»§ç»­æ¥ä¸Šé¢ï¼š</p><ul><li>å¯¹æ¯ä¸ªClauseï¼Œå‡è®¾<span class="math inline">\(C_i=x_1 \vee\overline{x_2} \vee x_3\)</span>,åˆ™å¯¹<span class="math inline">\(x_1 ,\overline{x_2} , x_3\)</span>æ·»åŠ 6ä¸ªèŠ‚ç‚¹ä»¥åŠ13æ¡è¾¹</li></ul><p><img src="/img/å¤šé¡¹å¼è§„çº¦/3-SAT23-COLOLABLE-2.png" /></p><p>å³<span class="math inline">\(x_1 , \overline{x_2} ,x_3\)</span>ä¸‹æ–¹çš„ä¸¤è¡Œä¸€å…±6ä¸ªèŠ‚ç‚¹ï¼Œå¹¶å°†å·¦ä¸‹è§’çš„èŠ‚ç‚¹ã€ç¬¬ä¸€è¡Œçš„èŠ‚ç‚¹ä¸ä¹‹å‰æ„é€ çš„<spanclass="math inline">\(T\)</span>èŠ‚ç‚¹ç›¸è¿ï¼Œå³ä¸‹è§’çš„èŠ‚ç‚¹ä¸ä¹‹å‰çš„<spanclass="math inline">\(F\)</span>èŠ‚ç‚¹ç›¸è¿ã€‚</p><p>è¿™æ ·æ„é€ æ˜¯ä¸ºäº†ä¿è¯å½“ä¸‰ä¸ªLiteralèŠ‚ç‚¹å…¨ä¸ºçº¢è‰²çš„æ—¶å€™ï¼Œæ˜¯ä¸æ»¡è¶³ä¸‰ç€è‰²çš„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼šå½“ä¸‰ä¸ªLiteralèŠ‚ç‚¹å…¨ä¸ºçº¢è‰²çš„æ—¶å€™ï¼Œä»–ä»¬ä¸‹é¢é‚£è¡ŒèŠ‚ç‚¹å¿…é¡»ä¸ºè“è‰²ï¼Œè¿™æ ·æœ€åä¸€è¡Œä»å·¦åˆ°å³ç€è‰²ï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹å†²çªã€‚</p><p><img src="/img/å¤šé¡¹å¼è§„çº¦/3-SAT23-COLOLABLE-3.png" /></p><p><strong>3-SAT <span class="math inline">\(\le_p\)</span>3-Colorable</strong>ï¼š</p><p><span class="math inline">\(\Rightarrow\)</span></p><p>è‹¥å›¾3-Colorableï¼š</p><ul><li>å°†æ‰€æœ‰ä¸ºç»¿è‰²çš„LiteralèŠ‚ç‚¹è®¾ä¸ºçœŸ</li><li>ç”±ä¸Šé¢å¯çŸ¥ï¼Œå½“å›¾3-Colorableçš„æ—¶å€™ä¸‰ä¸ªLiteralèŠ‚ç‚¹è‡³å°‘æœ‰ä¸€ä¸ªæ˜¯ç»¿è‰²çš„ï¼Œé‚£ä¹ˆè¯¥å¥å­çš„è¾“å‡ºä¸ºçœŸ</li></ul><p><span class="math inline">\(\Leftarrow\)</span></p><p>è‹¥3-SATæ˜¯å¯æ»¡è¶³çš„ï¼šåˆ™ - ä¸‰ä¸ªLiteralèŠ‚ç‚¹è‡³å°‘æœ‰ä¸€ä¸ªä¸ºçœŸ -å°†ä¸ºçœŸçš„LiteralèŠ‚ç‚¹æŸ“ä¸ºç»¿è‰²ï¼Œç„¶åå°†è¯¥èŠ‚ç‚¹ä¸‹é¢çš„èŠ‚ç‚¹æŸ“ä¸ºçº¢è‰²ï¼ˆå¦åˆ™ä¼šå†²çªï¼‰ï¼Œå†ç»§ç»­å°†ä¸‹é¢çš„èŠ‚ç‚¹æŸ“ä¸ºè“è‰²-å¯¹ä¸­é—´ä¸€è¡Œæ²¡æœ‰æŸ“çº¢çš„èŠ‚ç‚¹æŸ“ä¸ºè“è‰²ï¼Œç„¶åå®ƒä»¬ä¸‹é¢ä¸€è¡Œæ²¡æœ‰æŸ“è‰²çš„èŠ‚ç‚¹å¯å”¯ä¸€ç¡®å®šé¢œè‰²</p><p><img src="/img/å¤šé¡¹å¼è§„çº¦/3-SAT23-COLOLABLE-4.png" /></p><p>ä¸Šé¢æ²¡æœ‰æŸ“è‰²çš„LiteralèŠ‚ç‚¹ç»¿è‰²ã€çº¢è‰²çš†å¯ã€‚</p><h3 id="coloræœç´¢é—®é¢˜-le_p-3-coloråˆ¤æ–­é—®é¢˜è‡ªè§„çº¦">3-COLORæœç´¢é—®é¢˜ <spanclass="math inline">\(\le_p\)</span> 3-COLORåˆ¤æ–­é—®é¢˜ï¼ˆè‡ªè§„çº¦ï¼‰</h3><p><strong>æ–¹æ³•1</strong>ï¼š</p><p>å°†3-COLORå›¾ä¸­ä¸ç›¸é‚»çš„ç‚¹åˆå¹¶ï¼Œåˆå¹¶åçš„ç‚¹è¡¨ç¤ºä¹‹å‰æ‰€æœ‰åˆå¹¶è¿‡æ¥ç‚¹çš„é›†åˆï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/img/å¤šé¡¹å¼è§„çº¦/3-colorè‡ªè§„çº¦.png" /></p><p>ç„¶åä¸€ç›´é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œè‹¥å›¾å¯ä»¥è¿›è¡Œ3ç€è‰²ï¼Œé‚£ä¹ˆåˆ°æœ€åå›¾å¿…ç„¶ä¼šåˆå¹¶ä¸ºä¸€ä¸ªä¸‰è§’å½¢ã€‚æŸ“è‰²æ˜¯å¯¹æœ€åçš„ä¸‰è§’å½¢ä¸‰ä¸ªç‚¹æ‰€ä»£è¡¨çš„ç‚¹çš„é›†åˆæŸ“æˆä¸åŒçš„é¢œè‰²ï¼Œä¾¿ä¸ºæœ€åçš„3ç€è‰²ã€‚</p><p><strong>æ–¹æ³•2</strong>ï¼š</p><p>è®¾åˆ¤å®šç®—æ³•ä¸º<span class="math inline">\(D\)</span></p><ol type="1"><li>è°ƒç”¨ç®—æ³•<spanclass="math inline">\(D\)</span>åˆ¤æ–­åŸå›¾æ˜¯å¦æœ‰è§£ï¼Œè‹¥æ— è§£ï¼Œåˆ™è¿”å›NOã€‚</li><li>ä»»æ„é€‰æ‹©ä¸€å¯¹è¾¹<span class="math inline">\((u,v)\)</span>ï¼Œæ»¡è¶³<spanclass="math inline">\((u,v) \notin E\)</span><ol type="1"><li>è€ƒè™‘å›¾<span class="math inline">\(G&#39; = G +(u,v)\)</span>ï¼Œè°ƒç”¨<spanclass="math inline">\(D\)</span>åˆ¤æ–­æ˜¯å¦æœ‰è§£ã€‚</li><li>è‹¥<span class="math inline">\(G&#39;\)</span>æ— è§£ï¼Œæ ‡è®°ç‚¹å¯¹<spanclass="math inline">\((u,v)\)</span>ï¼›è‹¥æœ‰è§£ï¼Œæ·»åŠ è¾¹<spanclass="math inline">\((u,v)\)</span>åˆ°<spanclass="math inline">\(G\)</span>ä¸­ã€‚</li></ol></li><li>è¿”å›æ­¥éª¤2ï¼Œç»§ç»­é€‰æ‹©ä¸€å¯¹æœªæ ‡è®°ç‚¹å¯¹ã€‚</li><li>è‹¥å›¾<spanclass="math inline">\(G\)</span>æ„æˆä¸€ä¸ªä¸‰éƒ¨å®Œå…¨å›¾ï¼Œæ¯ä¸€éƒ¨é€‰æ‹©ä¸€ä¸ªé¢œè‰²ï¼Œè¾“å‡ºé¢œè‰²æ–¹æ¡ˆã€‚### ç‚¹è¦†ç›–æœç´¢é—®é¢˜ <span class="math inline">\(\le_p\)</span>ç‚¹è¦†ç›–åˆ¤æ–­é—®é¢˜</li></ol><ul><li>ä»1å¼€å§‹ï¼Œä¾æ¬¡æŸ¥æ‰¾è¯¥å›¾æœ‰æ²¡æœ‰<spanclass="math inline">\(k^*\)</span>ä¸ªé¡¶ç‚¹çš„é¡¶ç‚¹è¦†ç›–(è¿™æ ·å¾—åˆ°çš„ç¬¬ä¸€æ¬¡æ»¡è¶³çš„<spanclass="math inline">\(k^*\)</span> çš„å€¼å°±æ˜¯è¯¥å›¾æœ€å°é¡¶ç‚¹è¦†ç›–çš„æ•°ç›®)</li><li>ä»å›¾ä¸­é€‰å‡ºä¸€ä¸ªç‚¹<span class="math inline">\(v\)</span>ï¼Œè‹¥å»é™¤è¯¥ç‚¹åå›¾çš„é¡¶ç‚¹è¦†ç›–æ•°ç›®å˜ä¸º<span class="math inline">\(k^* âˆ’1\)</span>ï¼Œåˆ™<spanclass="math inline">\(v\)</span>æ˜¯åŸå›¾é¡¶ç‚¹è¦†ç›–ä¸­çš„ä¸€å‘˜ï¼Œåä¹‹åˆ™ä¸æ˜¯</li><li>åœ¨<span class="math inline">\(G âˆ’v\)</span>ä¸­é€’å½’æ‰§è¡Œä¸Šè¿°ä¸¤æ­¥ã€‚</li></ul><h3 id="ham-cycleæœç´¢é—®é¢˜-le_p-ham-cycleåˆ¤æ–­é—®é¢˜">Ham-Cycleæœç´¢é—®é¢˜<span class="math inline">\(\le_p\)</span> Ham-Cycleåˆ¤æ–­é—®é¢˜</h3><p>è¯æ˜ï¼šè‹¥å¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…ç»™å‡ºåˆ¤å®šä¸€ä¸ªå›¾æ˜¯å¦å­˜åœ¨å“ˆå¯†å°”é¡¿åœˆï¼Œåˆ™å¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…æ‰¾åˆ°ä¸€ä¸ªå›¾çš„å“ˆå¯†å°”é¡¿åœˆï¼ˆå¦‚æœå­˜åœ¨çš„è¯ï¼‰</p><p>é¦–å…ˆåˆ¤æ–­<spanclass="math inline">\(G\)</span>ä¸­æ˜¯å¦å­˜åœ¨Ham-Cycle,è‹¥ä¸å­˜åœ¨åˆ™ç®—æ³•ç»“æŸï¼Œå¦‚æœå­˜åœ¨åˆ™ç»§ç»­å¯»æ‰¾Ham-Cycle:<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs fortran">å¯¹Gä¸­çš„æ¯æ¡è¾¹e<br>&#123;<br>    è‹¥G-eä¸å­˜åœ¨Ham-<span class="hljs-keyword">Cycle</span>ï¼Œå°†eåŠ å…¥Sä¸­ï¼›<br>    å¦åˆ™ä»¤G=G-e<br>&#125;<br>æœ€åæ‰€å¾—çš„é›†åˆä¾¿æ˜¯ä¸€ä¸ªHam-<span class="hljs-keyword">Cycle</span><br></code></pre></td></tr></table></figure></p>]]></content>
    
    
    <categories>
      
      <category>é«˜çº§ç®—æ³•è®¾è®¡ä¸åˆ†æ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>ç®—æ³•è®¾è®¡ä¸åˆ†æ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¤šé¡¹å¼è§„çº¦</title>
    <link href="/2022/12/02/%E5%A4%9A%E9%A1%B9%E5%BC%8F%E8%A7%84%E7%BA%A6/"/>
    <url>/2022/12/02/%E5%A4%9A%E9%A1%B9%E5%BC%8F%E8%A7%84%E7%BA%A6/</url>
    
    <content type="html"><![CDATA[<h2 id="å¤šé¡¹å¼è§„çº¦">å¤šé¡¹å¼è§„çº¦</h2><p>å®šä¹‰ï¼šè‹¥é—®é¢˜X çš„ä»»æ„å®ä¾‹å¯ä»¥ç”±ä¸‹é¢ä¸¤æ¡ä¹‹å’Œè§£å†³</p><ul><li>é—®é¢˜Xå¯ä»¥é€šè¿‡å¤šé¡¹å¼æ—¶é—´çš„åŸºæœ¬è¿ç®—æ­¥éª¤è½¬æ¢ä¸ºé—®é¢˜Yï¼›</li><li>é—®é¢˜Xå¤šé¡¹å¼æ¬¡è°ƒç”¨æ±‚è§£é—®é¢˜Yçš„ç®—æ³•ï¼Œä¸”é—®é¢˜Yå¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…è¢«æ±‚è§£ã€‚</li></ul><p>é‚£ä¹ˆç§°é—®é¢˜Xå¯ä»¥å¤šé¡¹å¼è§„çº¦åˆ°é—®é¢˜Yï¼Œè®°ä¸º $ X _{p} Y$ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé—®é¢˜Xè½¬æ¢ä¸ºé—®é¢˜Yä¹‹åï¼Œé—®é¢˜Yçš„è¿è¡Œæ—¶é—´æ˜¯å»ºç«‹åœ¨é—®é¢˜Yçš„è¾“å…¥ä¸Šã€‚</p><p>å¤šé¡¹å¼è§„çº¦çš„å‡ ä¸ªæ€§è´¨ï¼š</p><ul><li>è‹¥ <span class="math inline">\(X \le_{p}Y\)</span>ï¼Œåˆ™è‹¥Yèƒ½åœ¨å¤šé¡¹å¼æ—¶é—´å†…æ±‚è§£ï¼Œé‚£ä¹ˆXä¹Ÿèƒ½åœ¨å¤šé¡¹å¼æ—¶é—´å†…æ±‚è§£ã€‚</li><li>è‹¥ <span class="math inline">\(X \le_{p}Y\)</span>ï¼Œåˆ™è‹¥Xä¸èƒ½åœ¨å¤šé¡¹å¼æ—¶é—´å†…æ±‚è§£ï¼Œé‚£ä¹ˆYä¹Ÿä¸èƒ½åœ¨å¤šé¡¹å¼æ—¶é—´å†…æ±‚è§£ã€‚</li><li>è‹¥ <span class="math inline">\(X \le_{p} Y\)</span> ä¸” <spanclass="math inline">\(Y \le_{p} X\)</span>ï¼Œé‚£ä¹ˆXå’ŒYæ˜¯ç­‰ä»·çš„ã€‚</li></ul><h3 id="åŸºæœ¬çš„è§„çº¦æ–¹æ³•">åŸºæœ¬çš„è§„çº¦æ–¹æ³•</h3><ul><li>ç®€å•çš„æ’ç­‰å½’çº¦ï¼šæ¯”å¦‚æœ€å¤§ç‹¬ç«‹é›†å’Œæœ€å°ç‚¹è¦†ç›–ã€‚</li><li>ä»ç‰¹æ®Šä¾‹å­åˆ°ä¸€èˆ¬ä¾‹å­ï¼šæ¯”å¦‚ <span class="math inline">\(ç‚¹è¦†ç›–\le_{p} é›†åˆè¦†ç›–\)</span>ã€‚<br /></li><li>é€šè¿‡ä¸€äº›å°æŠ€å·§è§„çº¦ã€‚æ¯”å¦‚ <span class="math inline">\(3-SAT \le_{p}ç‹¬ç«‹é›†\)</span></li></ul><h3 id="ç®€å•çš„æ’ç­‰è§„çº¦">ç®€å•çš„æ’ç­‰è§„çº¦</h3><h4 id="ç‹¬ç«‹é›†é—®é¢˜independent-set">ç‹¬ç«‹é›†é—®é¢˜ï¼ˆIndependent Setï¼‰</h4><p><strong>å®šä¹‰</strong>ï¼šç»™å®šä¸€ä¸ªå›¾ <spanclass="math inline">\(G=(V,E)\)</span>å’Œä¸€ä¸ªæ•´æ•°k(Vä¸ºé¡¶ç‚¹é›†ï¼ŒEä¸ºè¾¹é›†)ï¼Œæ˜¯å¦æœ‰ä¸€ä¸ªVçš„å­é›†<span class="math inline">\(S \subseteq V\)</span>ä½¿å¾— <spanclass="math inline">\(|S| \gek\)</span>å¹¶ä¸”å›¾ä¸­æ¯æ¡è¾¹è‡³å¤šæœ‰ä¸€ä¸ªé¡¶ç‚¹åœ¨Sä¸­ï¼Ÿ</p><figure><img src="/img/å¤šé¡¹å¼è§„çº¦/ç‹¬ç«‹é›†.png" alt="ç‹¬ç«‹é›†" /><figcaption aria-hidden="true">ç‹¬ç«‹é›†</figcaption></figure><h4 id="ç‚¹è¦†ç›–é—®é¢˜vertex-cover">ç‚¹è¦†ç›–é—®é¢˜ï¼ˆVertex Coverï¼‰</h4><p><strong>å®šä¹‰</strong>:ç»™å®šä¸€ä¸ªå›¾ <spanclass="math inline">\(G=(V,E)\)</span>å’Œä¸€ä¸ªæ•´æ•°k,æ˜¯å¦æœ‰ä¸€ä¸ªVçš„å­é›†<span class="math inline">\(S \subseteq V\)</span>ä½¿å¾— <spanclass="math inline">\(|S| \lek\)</span>å¹¶ä¸”å›¾ä¸­çš„æ¯æ¡è¾¹è‡³å°‘æœ‰ä¸€ä¸ªé¡¶ç‚¹åœ¨<spanclass="math inline">\(S\)</span>ä¸­ï¼Ÿ</p><figure><img src="/img/å¤šé¡¹å¼è§„çº¦/ç‚¹è¦†ç›–.png" alt="ç‚¹è¦†ç›–" /><figcaption aria-hidden="true">ç‚¹è¦†ç›–</figcaption></figure><h4 id="vertex-coverå’Œindependent-setçš„å…³ç³»">Vertex Coverå’ŒIndependentSetçš„å…³ç³»</h4><p><strong>å®šç†ï¼š <span class="math inline">\(ç‚¹è¦†ç›– \equiv_pç‹¬ç«‹é›†\)</span></strong></p><p>è¯æ˜å¦‚ä¸‹ï¼š</p><p><span class="math inline">\(\Rightarrow\)</span></p><ul><li>ä»¤<span class="math inline">\(S\)</span>ä¸ºä»»æ„ç‹¬ç«‹é›†</li><li>å¯¹ä»»æ„çš„è¾¹ <span class="math inline">\((u,v)\)</span></li><li><span class="math inline">\(S\)</span>æ˜¯ç‹¬ç«‹é›† <spanclass="math inline">\(\Rightarrow\)</span> <span class="math inline">\(u\notin S\)</span> æˆ– <span class="math inline">\(v \notin S \Rightarrowu \in V - S\)</span> æˆ– <span class="math inline">\(v \in V -S\)</span></li><li>æ‰€ä»¥ <span class="math inline">\(V-S\)</span> æ˜¯ä¸€ä¸ªç‚¹è¦†ç›–</li></ul><p><span class="math inline">\(\Leftarrow\)</span></p><ul><li>ä»¤ <span class="math inline">\(V-S\)</span>æ˜¯ä¸€ä¸ªç‚¹è¦†ç›–</li><li>å¯¹ä¸¤ä¸ªé¡¶ç‚¹ <span class="math inline">\(u \in S\)</span> åŠ <spanclass="math inline">\(v \in S\)</span></li><li>è‹¥ <span class="math inline">\(V-S\)</span> æ˜¯ä¸€ä¸ªç‚¹è¦†ç›–,é‚£ä¹ˆ <spanclass="math inline">\((u, v) \notin E\)</span></li><li>å› æ­¤ï¼Œæ²¡æœ‰ç›¸é‚»çš„é¡¶ç‚¹åœ¨ <span class="math inline">\(S\)</span> ä¸­<span class="math inline">\(\Rightarrow\)</span> <spanclass="math inline">\(S\)</span>æ˜¯ç‹¬ç«‹é›†</li></ul><h3 id="ä»ç‰¹æ®Šä¾‹å­åˆ°ä¸€èˆ¬ä¾‹å­">ä»ç‰¹æ®Šä¾‹å­åˆ°ä¸€èˆ¬ä¾‹å­</h3><h4 id="é›†åˆè¦†ç›–set-cover">é›†åˆè¦†ç›–ï¼ˆSet Coverï¼‰</h4><p><strong>å®šä¹‰</strong>ï¼šç»™å®šä¸€ä¸ªé›†åˆ<spanclass="math inline">\(U\)</span>ï¼Œä»¥åŠ<spanclass="math inline">\(U\)</span>çš„å­é›†<spanclass="math inline">\(S_1,S_2,\dots,S_m\)</span>ä»¥åŠä¸€ä¸ªæ•´æ•°<spanclass="math inline">\(k\)</span>ï¼Œæ˜¯å¦å­˜åœ¨å°äºæˆ–ç­‰äº<spanclass="math inline">\(k\)</span>ä¸ªå­é›†<spanclass="math inline">\(S_i\)</span>çš„å¹¶ç­‰äº<spanclass="math inline">\(U\)</span>?</p><p><strong>ä¾‹å­</strong>:</p><figure><img src="/img/å¤šé¡¹å¼è§„çº¦/é›†åˆè¦†ç›–ä¾‹å­.png" alt="å‡ ä½•è¦†ç›–ä¾‹å­" /><figcaption aria-hidden="true">å‡ ä½•è¦†ç›–ä¾‹å­</figcaption></figure><h4 id="vertex-coverå½’çº¦åˆ°set-cover">Vertex Coverå½’çº¦åˆ°Set Cover</h4><p><strong>è¯æ˜ï¼šç»™å®šä¸€ä¸ªVertex-Coverçš„å®ä¾‹<spanclass="math inline">\(G=(V,E),k\)</span>,å¯ä»¥æ„é€ ä¸€ä¸ªä¸VertexCoverå¤§å°ç›¸ç­‰çš„Set Coverçš„å®ä¾‹ã€‚ï¼ˆä»ç‰¹æ®Šä¾‹å­åˆ°ä¸€èˆ¬ä¾‹å­ï¼‰</strong></p><ul><li>åˆ›å»ºä¸€ä¸ªSet Coverçš„å®ä¾‹<span class="math inline">\(k = k,U=E,S_v=\{e\in E: ä¸Vç›¸è¿çš„è¾¹\}\)</span></li><li>å¯ä»¥çœ‹åˆ°Set Coverçš„<span class="math inline">\(size \lek\)</span>å½“ä¸”ä»…å½“Vertex Coverçš„<span class="math inline">\(size \lek\)</span></li></ul><p><strong>ä¾‹å­</strong>ï¼šæœ‰å¦‚ä¸‹ç‚¹è¦†ç›–</p><p><img src="/img/å¤šé¡¹å¼è§„çº¦/VertexCoverå½’çº¦åˆ°SetCoverä¾‹å­.png" /></p><p>æ„é€ Set Coverçš„<span class="math inline">\(U\)</span>ä¸ºVertexCoverçš„è¾¹é›†ï¼Œå³<span class="math inline">\(U=(1,2,3,4,5,6)\)</span>ï¼ŒSetCoverçš„æ¯ä¸ªå­é›†<span class="math inline">\(S_i\)</span>ä¸ºVertexCoverä¸­å¯¹åº”é¡¶ç‚¹æ‰€è¿çš„è¾¹,æ•…æœ‰ <span class="math display">\[    S_a=\{3,7\}ï¼Œ \\    S_b=\{2,4\}ï¼Œ \\    S_c=\{3,4,5,6\}ï¼Œ \\    S_d=\{5\}ï¼Œ  \\    S_e=\{1\}ï¼Œ \\    S_f=\{1,2,6,7\}    \]</span></p><p>å¯ä»¥çœ‹åˆ°<span class="math inline">\(S_c\)</span>å’Œ<spanclass="math inline">\(S_f\)</span>æ„æˆä¸€ä¸ªSetCoverçš„å®ä¾‹ï¼Œè€Œè¿™ä¸¤ä¸ªå­é›†å¯¹åº”çš„é¡¶ç‚¹æ°å¥½ç»„æˆä¸€ä¸ªVertex Coverçš„å®ä¾‹ã€‚</p><h3 id="é€šè¿‡å°æŠ€å·§è§„çº¦">é€šè¿‡"å°æŠ€å·§"è§„çº¦</h3><h4 id="saté—®é¢˜">3-SATé—®é¢˜</h4><p><strong>Literalï¼ˆå­—ï¼‰</strong>ï¼šä¸€ä¸ªå¸ƒå°”å˜é‡æˆ–è€…å®ƒçš„é<spanclass="math inline">\(x_i \quad or \quad \overline{x_i}\)</span></p><p><strong>Clauseï¼ˆå¥å­ï¼‰</strong>ï¼šLiteralçš„æå– <spanclass="math inline">\(C_j = x_1 \vee \overline{x_2} \veex_3\)</span></p><p><strong>Formulaï¼ˆå¼å­ï¼‰</strong>ï¼šClauseçš„åˆå– <spanclass="math inline">\(\Phi=C_1 \wedge C_2 \wedge C_3 \wedgeC_4\)</span></p><p><strong>SAT</strong>:ç»™å®šCNFå¼å­<spanclass="math inline">\(\Phi\)</span>ï¼Œæ˜¯å¦å­˜åœ¨ä¸€ä¸ªæ»¡è¶³ç»“æœæ˜¯Trueçš„åˆ†é…<spanclass="math inline">\(x_1,\dots,x_n\)</span>ï¼Ÿè‹¥æœ‰åˆ™ç§°å¼å­<spanclass="math inline">\(\Phi\)</span>æ˜¯<strong>å¯æ»¡è¶³</strong>çš„ã€‚</p><p><strong>3-SAT</strong>:æ¯ä¸ªClauseåªæœ‰ä¸‰ä¸ªLiteralsã€‚</p><p><strong>ä¾‹å­</strong>ï¼š</p><p><img src="/img/å¤šé¡¹å¼è§„çº¦/3-SATä¾‹å­.png" /></p><h4id="satisfiability3-satå½’çº¦åˆ°independent-set">3-Satisfiabilityï¼ˆ3-SATï¼‰å½’çº¦åˆ°IndependentSet</h4><p><strong>è¯æ˜ï¼šç»™å®šä¸€ä¸ª3-SATçš„ä¾‹å­<spanclass="math inline">\(\Phi\)</span>,å¯ä»¥æ„é€ ä¸€ä¸ªå¤§å°ä¸º<spanclass="math inline">\(k\)</span>çš„Independent Setå½“ä¸”ä»…å½“å¼å­<spanclass="math inline">\(\Phi\)</span>æ˜¯å¯æ»¡è¶³çš„ã€‚</strong></p><p>æ„é€ : -3-SATä¸­çš„æ¯ä¸ªClauseåŒ…å«ç‹¬ç«‹é›†é‡Œçš„ä¸‰ä¸ªé¡¶ç‚¹ï¼Œå…¶ä¸­æ¯ä¸ªLiteralå¯¹åº”ä¸€ä¸ªé¡¶ç‚¹ -è¿æ¥å¥å­é‡Œçš„ç‚¹è¿æ¥å½¢æˆä¸‰è§’å½¢ -è¿æ¥ä¸åŒClauseé‡Œæ¯ä¸ªLiteralå’Œå®ƒå¯¹åº”çš„é</p><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/img/å¤šé¡¹å¼è§„çº¦/3-SAT2IndependentSet.png" /></p><p><strong>è¯æ˜</strong>ï¼š</p><p><span class="math inline">\(\Rightarrow\)</span></p><p>ä»¤Sä¸ºä¸€ä¸ªå¤§å°ä¸º<spanclass="math inline">\(k\)</span>çš„ç‹¬ç«‹é›†ï¼Œæ¯ä¸ªä¸‰è§’å½¢é‡Œä¸€å®šåªæœ‰ä¸€ä¸ªé¡¶ç‚¹åœ¨<spanclass="math inline">\(S\)</span>é‡Œï¼Œè®¾è¯¥é¡¶ç‚¹å–1ï¼Œå…¶ä½™é¡¶ç‚¹å–0ï¼Œåˆ™å…¶è‚¯å®šæ˜¯ä¸€ä¸ªæ»¡è¶³3-SATçš„èµ‹å€¼ã€‚</p><p><span class="math inline">\(\Leftarrow\)</span></p><p>ç»™å®š3-SATä¸€ä¸ªæ»¡è¶³çš„èµ‹å€¼ï¼Œåœ¨æ¯ä¸ªä¸‰è§’å½¢ä¸­é€‰å–ä¸€ä¸ªå–å€¼ä¸º1çš„é¡¶ç‚¹ï¼Œè¿™æ ·ä¾¿æ„æˆäº†ä¸€ä¸ªå¤§å°ä¸º<spanclass="math inline">\(k\)</span>çš„ç‹¬ç«‹é›†ã€‚</p><h2 id="è‡ªè§„çº¦é‡è¦">è‡ªè§„çº¦ï¼ˆé‡è¦ï¼‰</h2><p><strong>å†³ç­–é—®é¢˜ï¼ˆDecision Problemï¼‰</strong>ï¼šè¯¸å¦‚"æ˜¯å¦å­˜åœ¨ä¸€ä¸ª<spanclass="math inline">\(size \ge k\)</span>çš„ç‚¹è¦†ç›–"</p><p><strong>æ±‚è§£é—®é¢˜ï¼ˆSearchProblemï¼‰</strong>ï¼šè¯¸å¦‚"å¯»æ‰¾ä¸€ä¸ªæœ€å°çš„ç‚¹è¦†ç›–"</p><p><strong>è‡ªè§„çº¦ï¼ˆSelf-Reducibilityï¼‰</strong>ï¼šSearch Problem <spanclass="math inline">\(\le_p\)</span> Decision Problem</p>]]></content>
    
    
    <categories>
      
      <category>é«˜çº§ç®—æ³•è®¾è®¡ä¸åˆ†æ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>é«˜çº§ç®—æ³•è®¾è®¡ä¸åˆ†æ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æœ€å¤§æµæœ€å°å‰²</title>
    <link href="/2022/12/02/%E6%9C%80%E5%A4%A7%E6%B5%81%E6%9C%80%E5%B0%8F%E5%89%B2/"/>
    <url>/2022/12/02/%E6%9C%80%E5%A4%A7%E6%B5%81%E6%9C%80%E5%B0%8F%E5%89%B2/</url>
    
    <content type="html"><![CDATA[<h2 id="æœ€å°å‰²">æœ€å°å‰²</h2><p>åœ¨å›¾è®ºä¸­ï¼Œå»æ‰å…¶ä¸­æ‰€æœ‰è¾¹èƒ½ä½¿ä¸€å¼ ç½‘ç»œæµå›¾ä¸å†è¿é€šï¼ˆå³åˆ†æˆä¸¤ä¸ªå­å›¾ï¼‰çš„è¾¹é›†ç§°ä¸ºå›¾çš„å‰²ã€‚ä¸€ä¸ª$st-cut $å³å»æ‰çš„è¾¹æŠŠæºç‚¹så’Œæ±‡ç‚¹tåˆ’åˆ†åœ¨ä¸¤ä¸ªä¸åŒçš„éƒ¨åˆ†ã€‚</p><figure><img src="/img/æœ€å¤§æµæœ€å°å‰²/æœ€å°å‰²å®šä¹‰.png" alt="æœ€å°å‰²å®šä¹‰" /><figcaption aria-hidden="true">æœ€å°å‰²å®šä¹‰</figcaption></figure><p>ä¸€èˆ¬æ¥è¯´ï¼Œä¸€å¼ å›¾ä¸­æœ‰å¤šä¸ªä¸åŒçš„<spanclass="math inline">\(st-cut\)</span>ï¼Œå¦‚ä¸‹å›¾ä¾¿ä¸ºå…¶ä¸­ä¸€ä¸ª <spanclass="math inline">\(st-cut\)</span> ã€‚</p><figure><img src="/img/æœ€å¤§æµæœ€å°å‰²/ä¸€ä¸ªå‰²ä¾‹å­.png" alt="ä¸€ä¸ªå‰²ä¾‹å­" /><figcaption aria-hidden="true">ä¸€ä¸ªå‰²ä¾‹å­</figcaption></figure><p>ä½†æ˜¯åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å»æ‰æ¯æ¡è¾¹å¾€å¾€éƒ½æ˜¯æœ‰ä»£ä»·çš„ï¼Œä»¥è¾¹çš„å®¹é‡ä½œä¸ºæƒå€¼ï¼Œä¸€ä¸ªå‰²ä¸­å»æ‰çš„è¾¹çš„æƒå€¼ä¹‹å’Œä¸ºè¿™ä¸ªå‰²çš„å€¼ï¼Œé‚£ä¹ˆæœ€å°å‰²å°±æ˜¯è¿™å¼ å›¾ä¸Šæœ€å°çš„å‰²ã€‚</p><h2 id="æœ€å¤§æµ">æœ€å¤§æµ</h2><p>ä¸ºäº†æ±‚è§£æœ€å°å‰²ï¼Œéœ€è¦å¼•å…¥æœ€å¤§æµçš„æ¦‚å¿µã€‚ç”¨è¾¹çš„æƒå€¼è¡¨ç¤ºè¾¹çš„æœ€å¤§æµé‡ï¼Œä¸€ä¸ª<span class="math inline">\(st-flow\)</span>æ˜¯ä»æºç‚¹såˆ°æ±‡ç‚¹tçš„æµé‡ã€‚é€šä¿—çš„è®²ï¼Œæœ€å¤§æµå°±æ˜¯ä»æºç‚¹såˆ°æ±‡ç‚¹tçš„æœ€å¤§æµé‡ã€‚</p><figure><img src="/img/æœ€å¤§æµæœ€å°å‰²/æœ€å¤§æµ.png" alt="æœ€å¤§æµ" /><figcaption aria-hidden="true">æœ€å¤§æµ</figcaption></figure><h2 id="æ±‚è§£æœ€å¤§æµ">æ±‚è§£æœ€å¤§æµ</h2><h3 id="è´ªå¿ƒç®—æ³•">è´ªå¿ƒç®—æ³•</h3><ul><li>å¼€å§‹æ—¶å¯¹æ¯æ¡è¾¹eä»¤<span class="math inline">\(f(e)=0\)</span></li><li>æ‰¾åˆ°ä¸€æ¡ä»æºç‚¹såˆ°æ±‡ç‚¹tçš„è·¯å¾„ <span class="math inline">\(s\rightarrow t\)</span> ä½¿è·¯å¾„ä¸Šçš„æ¯æ¡è¾¹eæ»¡è¶³ <spanclass="math inline">\(f(e)&lt;c(e)\)</span> ,å…¶ä¸­ <spanclass="math inline">\(c(e)\)</span> ä¸ºè¾¹eçš„æƒå€¼</li><li><span class="math inline">\(flow = flow + è·¯å¾„ä¸Šçš„æµé‡\)</span></li><li>é‡å¤ä¸Šè¿°æ­¥éª¤ç›´è‡³æ‰¾ä¸åˆ°æ–°çš„è·¯å¾„</li></ul><h3 id="ford-fulkersonç®—æ³•">Ford-Fulkersonç®—æ³•</h3><h4 id="æ®‹ç•™å›¾residual-graph">æ®‹ç•™å›¾(Residual Graph)</h4><p>åœ¨å¦ä¸€ä¸ªå›¾ä¸­ï¼Œé¢å¤–æ„é€ ä¸€ä¸ªåå‘è¾¹ï¼Œæƒå€¼æ˜¯å®é™…æµè¿‡è¯¥è¾¹çš„æµé‡ <spanclass="math inline">\(f(e)\)</span> ã€‚</p><figure><img src="/img/æœ€å¤§æµæœ€å°å‰²/æ®‹ä½™å›¾.png" alt="æ®‹ä½™å›¾" /><figcaption aria-hidden="true">æ®‹ä½™å›¾</figcaption></figure><p>å‰©ä½™å›¾æœ‰ä»¥ä¸‹æ€§è´¨ï¼š - <strong>å¢å¹¿è·¯å¾„(AugmentingPath)</strong>:ä¸€ä¸ªå¢å¹¿è·¯å¾„Pæ˜¯ä»æ®‹ä½™å›¾ä¸­çš„ä¸€æ¡ç®€å•è·¯å¾„ <spanclass="math inline">\(s \rightarrow t\)</span> -å¢å¹¿è·¯å¾„çš„å®¹é‡æ˜¯è¯¥æ¡è·¯å¾„æ‰€æœ‰è¾¹ä¸­çš„æœ€å°æƒå€¼</p><h4 id="ç®—æ³•è¯´æ˜">ç®—æ³•è¯´æ˜</h4><ul><li>æ¯æ¬¡æ‰¾åˆ°ä¸€æ¡ä»såˆ°tçš„å¢å¹¿è·¯å¾„ï¼Œå¹¶è°ƒæ•´flowå’Œæ®‹ç•™å›¾ï¼Œä¸æ–­è°ƒæ•´ç›´åˆ°æ²¡æœ‰å¢å¹¿è·¯å¾„</li><li>å½“æ®‹ç•™å›¾ä¸­ä¸å­˜åœ¨ä»såˆ°tçš„å¢å¹¿è·¯å¾„æ—¶ï¼Œè¯¥å›¾å·²ç»è¾¾åˆ°æœ€å¤§æµ</li></ul><h4 id="ä¾‹å­">ä¾‹å­</h4><p>åˆå§‹æ—¶æ²¡æœ‰åå‘è¾¹,æ­¤æ—¶æ®‹ç•™å›¾ç­‰äºåŸå›¾</p><p><img src="/img/æœ€å¤§æµæœ€å°å‰²/Ford-Fulkersonä¾‹å­1.png" /></p><p>ä»ä¸­é€‰å–ä¸€æ¡å¢å¹¿è·¯å¾„,å¹¶æ›´æ–°æ®‹ç•™å›¾å’ŒåŸå›¾</p><p><img src="/img/æœ€å¤§æµæœ€å°å‰²/Ford-Fulkersonä¾‹å­2.png" /></p><p>é‡å¤ä¸Šé¢çš„æ­¥éª¤,æ³¨æ„<strong>å¢å¹¿è·¯å¾„ä¸€å®šè¦ä»æ®‹ç•™å›¾ä¸­æ‰¾</strong>,ä¸”å¯ä»¥ä½¿ç”¨æ®‹ç•™å›¾ä¸­çš„åå‘è¾¹.</p><p><img src="/img/æœ€å¤§æµæœ€å°å‰²/Ford-Fulkersonä¾‹å­3.png" /></p><p><img src="/img/æœ€å¤§æµæœ€å°å‰²/Ford-Fulkersonä¾‹å­4.png" /></p><p><img src="/img/æœ€å¤§æµæœ€å°å‰²/Ford-Fulkersonä¾‹å­5.png" /></p><p><img src="/img/æœ€å¤§æµæœ€å°å‰²/Ford-Fulkersonä¾‹å­6.png" /></p><p><img src="/img/æœ€å¤§æµæœ€å°å‰²/Ford-Fulkersonä¾‹å­7.png" /></p><p>æ­¤æ—¶,æ²¡æœ‰æ–°çš„å¢å¹¿è·¯å¾„,åˆ™æœ€å¤§æµçš„å€¼ç­‰äºæµè¿›sçš„æµé‡,å³ <spanclass="math inline">\(flow = s_{in}\)</span></p><h2 id="æœ€å¤§æµä¸æœ€å°å‰²çš„å…³ç³»">æœ€å¤§æµä¸æœ€å°å‰²çš„å…³ç³»</h2><p><strong>æœ€å¤§æµæœ€å°å‰²å®šç†ï¼šæœ€å¤§æµ=æœ€å°å‰²ã€‚</strong>æœ€å¤§æµ-æœ€å°å‰²å®šç†ç”¨æ¥è¯æ˜Ford-Fulksonæ–¹æ³•çš„ç¡®è¾¾åˆ°äº†æœ€å¤§æµ.</p><figure><img src="/img/æœ€å¤§æµæœ€å°å‰²/æœ€å¤§æµæœ€å°å‰²å®šç†.png"alt="æœ€å¤§æµæœ€å°å‰²å®šç†" /><figcaption aria-hidden="true">æœ€å¤§æµæœ€å°å‰²å®šç†</figcaption></figure><p>è¯æ˜:</p><ul><li><span class="math inline">\((i) \Rightarrow (ii)\)</span>:å¼±å¯¹å¶æ€§æ³•åˆ™çš„æ¨è®º</li><li><span class="math inline">\((ii) \Rightarrow (iii)\)</span>:åè¯æ³•<br />è‹¥fæ˜¯ä¸€ä¸ªæœ€å¤§æµ,ä¸”ä»å­˜åœ¨å¢å¹¿è·¯å¾„,é‚£ä¹ˆå¯ä»¥è®©fåŠ ä¸Šå¢å¹¿è·¯å¾„çš„æµé‡,ä¸fæ˜¯ä¸€ä¸ªæœ€å¤§æµç›¸æ‚–.æ•…<spanclass="math inline">\((ii) \Rightarrow (iii)\)</span>æˆç«‹</li><li><span class="math inline">\((iii) \Rightarrow (i)\)</span></li></ul><p>è®¾fæ˜¯ä¸€ä¸ªæµ,ä¸”æ²¡æœ‰å¢å¹¿è·¯å¾„,ä»¤Aç­‰äºsçš„å¯è¾¾é¡¶ç‚¹é›†,åˆ™</p><p><img src="/img/æœ€å¤§æµæœ€å°å‰²/iiiåˆ°i.png" /></p><h2 id="æ±‚å‡ºæœ€å¤§æµä¹‹åå¦‚ä½•æ±‚æœ€å°å‰²">æ±‚å‡ºæœ€å¤§æµä¹‹åå¦‚ä½•æ±‚æœ€å°å‰²</h2><p>æ±‚å®Œæœ€å¤§æµä¹‹åï¼Œåœ¨æ®‹ç•™å›¾ä¸­ç”¨BFSéå†ï¼Œç»“æŸåå¯å¾—åˆ°ä¸€ä¸ªä»<spanclass="math inline">\(s\)</span>å‡ºå‘å¯è¾¾çš„é›†åˆï¼Œå°†åŸå›¾åˆ†ä¸ºä¸¤ä¸ªå­é›†åˆï¼Œ<spanclass="math inline">\(s\)</span>å¯è¾¾çš„é›†åˆ<spanclass="math inline">\(X\)</span>ä»¥åŠ<spanclass="math inline">\(s\)</span>ä¸å¯è¾¾çš„é›†åˆ<spanclass="math inline">\(Y\)</span>,å…¶ä¸­<spanclass="math inline">\(Y\)</span>ä¸­å¿…ç„¶åŒ…å«æ±‡ç‚¹<spanclass="math inline">\(t\)</span>ã€‚</p><p>è¿æ¥ä¸¤ä¸ªé›†åˆ<span class="math inline">\(X\)</span>å’Œ<spanclass="math inline">\(Y\)</span>çš„è¾¹æœ‰ä¸¤ç§æƒ…å†µ</p><ul><li>å·²è¢«å æ»¡çš„å‰å‘è¾¹</li><li>æ²¡æœ‰æµé‡çš„åå‘è¾¹(å³ä»<span class="math inline">\(Y\)</span>åˆ°<spanclass="math inline">\(X\)</span>çš„è¾¹)</li></ul><p>å…¶ä¸­è¢«å æ»¡çš„å‰å‘è¾¹é›†åˆå°±æ˜¯æ‰€æ±‚çš„æœ€å°å‰²</p><p>è¿˜æ˜¯ç”¨ä¸Šé¢çš„ä¾‹å­ <imgsrc="/img/æœ€å¤§æµæœ€å°å‰²/Ford-Fulkersonä¾‹å­7.png" /></p><p>åœ¨<span class="math inline">\(G_f\)</span>ä¸­,ç”¨BFSéå†å¯å¾—<spanclass="math inline">\(s\)</span>å¯è¾¾çš„é¡¶ç‚¹é›†åˆä¸º<spanclass="math inline">\(\{s, 3\}\)</span>ï¼Œåœ¨<spanclass="math inline">\(G\)</span>ä¸­æŸ¥çœ‹<span class="math inline">\(\{s,3\}\)</span>ä¸å›¾ä¸­å‰©ä½™é¡¶ç‚¹é›†åˆçš„å…³ç³»ã€‚</p><ul><li>å·²è¢«å æ»¡çš„å‰å‘è¾¹:<span class="math inline">\(s \rightarrow 2, 3\rightarrow 5\)</span></li><li>æ²¡æœ‰æµé‡çš„åå‘è¾¹:<span class="math inline">\(2 \rightarrow3\)</span></li></ul><p>æ‰€ä»¥å›¾ä¸­çš„ä¸€ä¸ªæœ€å°å‰²ä¸º<span class="math inline">\(s \rightarrow 2, 3\rightarrow 5\)</span>ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>é«˜çº§ç®—æ³•è®¾è®¡ä¸åˆ†æ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
      <tag>é«˜çº§ç®—æ³•è®¾è®¡ä¸åˆ†æ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Gitå¸¸ç”¨å‘½ä»¤</title>
    <link href="/2022/12/01/Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
    <url>/2022/12/01/Git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<h2 id="gitæ’¤é”€commitå‘½ä»¤">Gitæ’¤é”€commitå‘½ä»¤</h2><p>å½“è¦æ’¤é”€çš„æäº¤ä¸æ˜¯æœ€å¼€å§‹çš„æäº¤æ—¶ <figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs maxima">git <span class="hljs-built_in">reset</span> HEAD~<br></code></pre></td></tr></table></figure>å½“è¦æ’¤é”€çš„æäº¤æ—¶æœ€å¼€å§‹çš„æäº¤æ—¶ <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">git <span class="hljs-keyword">update</span> <span class="hljs-operator">-</span><span class="hljs-keyword">ref</span> <span class="hljs-operator">-</span>d HEAD<br></code></pre></td></tr></table></figure> ## Gitè¿æ¥è¿œç¨‹ä»“åº“<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">git remote <span class="hljs-keyword">add </span><span class="hljs-keyword">origin </span>url<br></code></pre></td></tr></table></figure> æ³¨ï¼šurlä¸ºgithubä»“åº“é“¾æ¥ ## Gitåˆ é™¤å·²ç»addçš„æ–‡ä»¶1.è¦åˆ é™¤çš„æ–‡ä»¶å°‘æ—¶ ä¸€ç§æ˜¯ <code>git rm --cached</code>"æ–‡ä»¶è·¯å¾„"ï¼Œä¸åˆ é™¤ç‰©ç†æ–‡ä»¶ï¼Œä»…å°†è¯¥æ–‡ä»¶ä»ç¼“å­˜ä¸­åˆ é™¤ï¼› ä¸€ç§æ˜¯<code>git rm --f</code>"æ–‡ä»¶è·¯å¾„"ï¼Œä¸ä»…å°†è¯¥æ–‡ä»¶ä»ç¼“å­˜ä¸­åˆ é™¤ï¼Œè¿˜ä¼šå°†ç‰©ç†æ–‡ä»¶åˆ é™¤ï¼ˆä¸ä¼šå›æ”¶åˆ°åƒåœ¾æ¡¶ï¼‰ã€‚</p><p>2.è¦åˆ é™¤çš„æ–‡ä»¶å¤šæ—¶ <code>git rm -r --cached</code> . æ¸…ç©ºç¼“å­˜åŒºç„¶åå°†æœ¬åœ°æ–‡ä»¶åˆ é™¤ï¼Œå†æ¬¡<code>add</code></p><h2 id="gitåˆ›å»ºè¿œç¨‹æ–°åˆ†æ”¯">Gitåˆ›å»ºè¿œç¨‹æ–°åˆ†æ”¯</h2><p>gitæ— æ³•ç›´æ¥é€šè¿‡å‘½ä»¤æ–¹å¼åˆ›å»ºè¿œç¨‹æ–°åˆ†æ”¯ï¼Œéœ€è¦é—´æ¥æ¥åˆ›å»º,è¿™é‡Œæˆ‘åˆ›å»ºçš„è¿œç¨‹æ–°åˆ†æ”¯åå«vedio</p><p>é¦–å…ˆ</p><p><code>git checkout --orphan åˆ†æ”¯å</code> <imgsrc="https://img-blog.csdnimg.cn/20210403164118752.png" /> <strong>gitrm -rf .</strong> ï¼ˆè¿™ä¸€æ­¥å¾ˆå…³é”®ï¼‰ç„¶ååˆ›å»ºä¸€ä¸ªæ–‡ä»¶readme.mdï¼ˆå…¶å®ä»»ä½•æ–‡ä»¶éƒ½å¯ä»¥ï¼‰ï¼Œaddå¹¶commitï¼Œç„¶å</p><p><code>git push origin åˆ†æ”¯å</code></p><p>å°±å¯ä»¥å•¦~å¦‚ä¸‹å›¾çº¢æ¡†åœˆæ³¨çš„å‘½ä»¤ <imgsrc="https://img-blog.csdnimg.cn/20210403164816128.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MzkzOTQyMQ==,size_16,color_FFFFFF,t_70" /></p><h2id="gitå¼ºåˆ¶æäº¤æœ¬åœ°åˆ†æ”¯è¦†ç›–è¿œç¨‹åˆ†æ”¯">gitå¼ºåˆ¶æäº¤æœ¬åœ°åˆ†æ”¯è¦†ç›–è¿œç¨‹åˆ†æ”¯</h2><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs maxima">git <span class="hljs-built_in">push</span> <span class="hljs-built_in">origin</span> localBranchName:remoteBranchName --force<br></code></pre></td></tr></table></figure><h2 id="gitä»è¿œç¨‹ä»“åº“æ‹‰å–">Gitä»è¿œç¨‹ä»“åº“æ‹‰å–</h2><p><code>git pull origin main</code></p><h2 id="gitåˆ›å»ºä¸åˆ‡æ¢åˆ†æ”¯">Gitåˆ›å»ºä¸åˆ‡æ¢åˆ†æ”¯</h2><p>åˆ›å»ºåˆ†æ”¯ <code>git branch branch_name</code> åˆ‡æ¢åˆ†æ”¯<code>git checkout branch_name</code></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Latexå¸¸ç”¨è¡¨ç¤º</title>
    <link href="/2022/12/01/Latex%E5%B8%B8%E7%94%A8%E7%AC%A6%E5%8F%B7/"/>
    <url>/2022/12/01/Latex%E5%B8%B8%E7%94%A8%E7%AC%A6%E5%8F%B7/</url>
    
    <content type="html"><![CDATA[<h2 id="å¸Œè…Šå­—æ¯">å¸Œè…Šå­—æ¯</h2><table><thead><tr class="header"><th>å°å†™å­—æ¯</th><th>è¯­æ³•</th><th>å¤§å†™å­—æ¯</th><th>å®ç°</th></tr></thead><tbody><tr class="odd"><td><span class="math inline">\(\alpha\)</span></td><td><code>\alpha</code></td><td><span class="math inline">\(A\)</span></td><td><code>A</code></td></tr><tr class="even"><td><span class="math inline">\(\beta\)</span></td><td><code>\beta</code></td><td><span class="math inline">\(B\)</span></td><td><code>B</code></td></tr><tr class="odd"><td><span class="math inline">\(\gamma\)</span></td><td><code>\gamma</code></td><td><span class="math inline">\(\Gamma\)</span></td><td><code>\Gamma</code></td></tr><tr class="even"><td><span class="math inline">\(\delta\)</span></td><td><code>\delta</code></td><td><span class="math inline">\(\Delta\)</span></td><td><code>\Delta</code></td></tr><tr class="odd"><td><span class="math inline">\(\epsilon\)</span></td><td><code>\epsilon</code></td><td><span class="math inline">\(E\)</span></td><td><code>E</code></td></tr><tr class="even"><td><span class="math inline">\(\varepsilon\)</span></td><td><code>\varepsilon</code></td><td></td><td></td></tr><tr class="odd"><td><span class="math inline">\(\zeta\)</span></td><td><code>\zeta</code></td><td><span class="math inline">\(Z\)</span></td><td><code>Z</code></td></tr><tr class="even"><td><span class="math inline">\(\eta\)</span></td><td><code>\eta</code></td><td><span class="math inline">\(H\)</span></td><td><code>H</code></td></tr><tr class="odd"><td><span class="math inline">\(\theta\)</span></td><td><code>\theta</code></td><td><span class="math inline">\(\Theta\)</span></td><td><code>\Theta</code></td></tr><tr class="even"><td><span class="math inline">\(\vartheta\)</span></td><td><code>\vartheta</code></td><td></td><td></td></tr><tr class="odd"><td><span class="math inline">\(\iota\)</span></td><td><code>\iota</code></td><td><span class="math inline">\(I\)</span></td><td><code>I</code></td></tr><tr class="even"><td><span class="math inline">\(\kappa\)</span></td><td><code>\kappa</code></td><td><span class="math inline">\(K\)</span></td><td><code>K</code></td></tr><tr class="odd"><td><span class="math inline">\(\lambda\)</span></td><td><code>\lambda</code></td><td><span class="math inline">\(\Lambda\)</span></td><td><code>\Lambda</code></td></tr><tr class="even"><td><span class="math inline">\(\mu\)</span></td><td><code>\mu</code></td><td><span class="math inline">\(M\)</span></td><td><code>M</code></td></tr><tr class="odd"><td><span class="math inline">\(\nu\)</span></td><td><code>\nu</code></td><td><span class="math inline">\(N\)</span></td><td><code>N</code></td></tr><tr class="even"><td><span class="math inline">\(\xi\)</span></td><td><code>\xi</code></td><td><span class="math inline">\(\Xi\)</span></td><td><code>\Xi</code></td></tr><tr class="odd"><td><span class="math inline">\(\omicron\)</span></td><td><code>\omicron</code></td><td><span class="math inline">\(O\)</span></td><td><code>O</code></td></tr><tr class="even"><td><span class="math inline">\(\pi\)</span></td><td><code>\pi</code></td><td><span class="math inline">\(\Pi\)</span></td><td><code>\Pi</code></td></tr><tr class="odd"><td><span class="math inline">\(\varpi\)</span></td><td><code>\varpi</code></td><td></td><td></td></tr><tr class="even"><td><span class="math inline">\(\rho\)</span></td><td><code>\rho</code></td><td><span class="math inline">\(R\)</span></td><td><code>R</code></td></tr><tr class="odd"><td><span class="math inline">\(\varrho\)</span></td><td><code>\varrho</code></td><td></td><td></td></tr><tr class="even"><td><span class="math inline">\(\sigma\)</span></td><td><code>\sigma</code></td><td><span class="math inline">\(\Sigma\)</span></td><td><code>\Sigma</code></td></tr><tr class="odd"><td><span class="math inline">\(\varsigma\)</span></td><td><code>\varsigma</code></td><td></td><td></td></tr><tr class="even"><td><span class="math inline">\(\tau\)</span></td><td><code>\tau</code></td><td><span class="math inline">\(T\)</span></td><td><code>T</code></td></tr><tr class="odd"><td><span class="math inline">\(\upsilon\)</span></td><td><code>\upsilon</code></td><td></td><td></td></tr><tr class="even"><td><span class="math inline">\(\phi\)</span></td><td><code>\phi</code></td><td><span class="math inline">\(\Phi\)</span></td><td><code>\Phi</code></td></tr><tr class="odd"><td><span class="math inline">\(\varphi\)</span></td><td><code>\varphi</code></td><td></td><td></td></tr><tr class="even"><td><span class="math inline">\(\chi\)</span></td><td><code>\chi</code></td><td><span class="math inline">\(X\)</span></td><td><code>X</code></td></tr><tr class="odd"><td><span class="math inline">\(\psi\)</span></td><td><code>\psi</code></td><td><span class="math inline">\(\Psi\)</span></td><td><code>\Psi</code></td></tr><tr class="even"><td><span class="math inline">\(\omega\)</span></td><td><code>\omega</code></td><td><span class="math inline">\(\Omega\)</span></td><td><code>\Omega</code></td></tr></tbody></table><p>varå¼€å¤´çš„åªæœ‰å°å†™å¸Œè…Šå­—æ¯ï¼Œæ²¡æœ‰å¤§å†™ã€‚</p><h2 id="è¿ç®—ç¬¦ç¬¦å·">è¿ç®—ç¬¦ç¬¦å·</h2><table><thead><tr class="header"><th>ç¬¦å·</th><th>å®ç°</th></tr></thead><tbody><tr class="odd"><td><span class="math inline">\(\sum\)</span></td><td><code>\sum</code></td></tr><tr class="even"><td><span class="math inline">\(\prod\)</span></td><td><code>\prod</code></td></tr><tr class="odd"><td><span class="math inline">\(\int\)</span></td><td><code>\int</code></td></tr><tr class="even"><td><span class="math inline">\(\oplus\)</span></td><td><code>\oplus</code></td></tr><tr class="odd"><td><span class="math inline">\(\otimes\)</span></td><td><code>\otimes</code></td></tr><tr class="even"><td><span class="math inline">\(\times\)</span></td><td><code>\times</code></td></tr><tr class="odd"><td><span class="math inline">\(\cdot\)</span></td><td><code>\codt</code></td></tr><tr class="even"><td><span class="math inline">\(\cap\)</span></td><td><code>\cap</code></td></tr><tr class="odd"><td><span class="math inline">\(\cup\)</span></td><td><code>\cup</code></td></tr></tbody></table><h2 id="å…³ç³»ç¬¦å·">å…³ç³»ç¬¦å·</h2><table><thead><tr class="header"><th>ç¬¦å·</th><th>å®ç°</th></tr></thead><tbody><tr class="odd"><td><span class="math inline">\(\le\)</span></td><td><code>\le</code></td></tr><tr class="even"><td><span class="math inline">\(\ge\)</span></td><td><code>\ge</code></td></tr><tr class="odd"><td><span class="math inline">\(\ll\)</span></td><td><code>\ll</code></td></tr><tr class="even"><td><span class="math inline">\(\gg\)</span></td><td><code>\gg</code></td></tr><tr class="odd"><td><span class="math inline">\(\equiv\)</span></td><td><code>\equiv</code></td></tr><tr class="even"><td><span class="math inline">\(\subseteq\)</span></td><td><code>\subseteq</code></td></tr><tr class="odd"><td><span class="math inline">\(\supseteq\)</span></td><td><code>\supseteq</code></td></tr><tr class="even"><td><span class="math inline">\(\subset\)</span></td><td><code>\subset</code></td></tr><tr class="odd"><td><span class="math inline">\(\supset\)</span></td><td><code>\supset</code></td></tr></tbody></table><h2 id="ç®­å¤´ç¬¦å·">ç®­å¤´ç¬¦å·</h2><table><thead><tr class="header"><th>ç¬¦å·</th><th>å®ç°</th></tr></thead><tbody><tr class="odd"><td><span class="math inline">\(\Leftarrow\)</span></td><td><code>\Leftarrow</code></td></tr><tr class="even"><td><span class="math inline">\(\Rightarrow\)</span></td><td><code>\Rightarrow</code></td></tr><tr class="odd"><td><span class="math inline">\(\Longleftrightarrow\)</span></td><td><code>\Longleftrightarrow</code></td></tr></tbody></table><h2 id="å…¶ä»–ç¬¦å·">å…¶ä»–ç¬¦å·</h2><table><thead><tr class="header"><th>ç¬¦å·</th><th>å®ç°</th><th>å«ä¹‰</th></tr></thead><tbody><tr class="odd"><td><span class="math inline">\(\infty\)</span></td><td><code>\infty</code></td><td>æ— ç©·</td></tr><tr class="even"><td><span class="math inline">\(\exists\)</span></td><td><code>\exists</code></td><td>å­˜åœ¨</td></tr><tr class="odd"><td><span class="math inline">\(\forall\)</span></td><td><code>\forall</code></td><td>ä»»å–</td></tr><tr class="even"><td><span class="math inline">\(\ldots\)</span></td><td><code>\ldots</code></td><td>ä¸‹ä¸‰è¿ç‚¹</td></tr><tr class="odd"><td><span class="math inline">\(\cdots\)</span></td><td><code>\cdots</code></td><td>ä¸­ä¸‰è¿ç‚¹</td></tr><tr class="even"><td><span class="math inline">\(\vdots\)</span></td><td><code>\vdots</code></td><td>ç«–ä¸‰è¿ç‚¹</td></tr><tr class="odd"><td><span class="math inline">\(\ddots\)</span></td><td><code>\ddots</code></td><td>æ–œä¸‰è¿ç‚¹</td></tr><tr class="even"><td><span class="math inline">\(\overline{x}\)</span></td><td><code>\overline&#123;x&#125;</code></td><td>å¹³å‡</td></tr><tr class="odd"><td><span class="math inline">\(\quad\)</span></td><td><code>\quad</code></td><td>ç©ºæ ¼</td></tr></tbody></table>]]></content>
    
    
    
    <tags>
      
      <tag>latex</tag>
      
      <tag>æ‚</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ¨æ€è§„åˆ’</title>
    <link href="/2022/12/01/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"/>
    <url>/2022/12/01/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/</url>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡å¤§éƒ¨åˆ†è½¬è½½è‡ªçŸ¥ä¹<ahref="https://www.zhihu.com/people/ruan-xing-zhi"><span class="citation"data-cites="é˜®è¡Œæ­¢">@é˜®è¡Œæ­¢</span></a>ï¼Œåæ·»åŠ äº†è‡ªå·±çš„ä¸€äº›æ€è€ƒã€‚</p><h2 id="ä»ä¸€ä¸ªç”Ÿæ´»é—®é¢˜è°ˆèµ·">1. ä»ä¸€ä¸ªç”Ÿæ´»é—®é¢˜è°ˆèµ·</h2><p>å…ˆæ¥çœ‹çœ‹ç”Ÿæ´»ä¸­ç»å¸¸é‡åˆ°çš„äº‹å§â€”â€”å‡è®¾æ‚¨æ˜¯ä¸ªåœŸè±ªï¼Œèº«ä¸Šå¸¦äº†è¶³å¤Ÿçš„1ã€5ã€10ã€20ã€50ã€100å…ƒé¢å€¼çš„é’ç¥¨ã€‚ç°åœ¨æ‚¨çš„ç›®æ ‡æ˜¯å‡‘å‡ºæŸä¸ªé‡‘é¢wï¼Œ<strong>éœ€è¦ç”¨åˆ°å°½é‡å°‘çš„é’ç¥¨</strong>ã€‚</p><p>ä¾æ®ç”Ÿæ´»ç»éªŒï¼Œæˆ‘ä»¬æ˜¾ç„¶å¯ä»¥é‡‡å–è¿™æ ·çš„ç­–ç•¥ï¼šèƒ½ç”¨100çš„å°±å°½é‡ç”¨100çš„ï¼Œå¦åˆ™å°½é‡ç”¨50çš„â€¦â€¦ä¾æ¬¡ç±»æ¨ã€‚åœ¨è¿™ç§ç­–ç•¥ä¸‹ï¼Œ666=6Ã—100+1Ã—50+1Ã—10+1Ã—5+1Ã—1ï¼Œå…±ä½¿ç”¨äº†10å¼ é’ç¥¨ã€‚</p><p>è¿™ç§ç­–ç•¥ç§°ä¸ºâ€œ<strong>è´ªå¿ƒ</strong>â€ï¼šå‡è®¾æˆ‘ä»¬é¢å¯¹çš„å±€é¢æ˜¯â€œéœ€è¦å‡‘å‡ºwâ€ï¼Œè´ªå¿ƒç­–ç•¥ä¼š<strong>å°½å¿«</strong>è®©wå˜å¾—æ›´å°ã€‚èƒ½è®©wå°‘100å°±å°½é‡è®©å®ƒå°‘100ï¼Œè¿™æ ·æˆ‘ä»¬æ¥ä¸‹æ¥é¢å¯¹çš„å±€é¢å°±æ˜¯å‡‘å‡ºw-100ã€‚é•¿æœŸçš„ç”Ÿæ´»ç»éªŒè¡¨æ˜ï¼Œè´ªå¿ƒç­–ç•¥æ˜¯æ­£ç¡®çš„ã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬æ¢ä¸€ç»„é’ç¥¨çš„é¢å€¼ï¼Œè´ªå¿ƒç­–ç•¥å°±ä¹Ÿè®¸ä¸æˆç«‹äº†ã€‚å¦‚æœä¸€ä¸ªå¥‡è‘©å›½å®¶çš„é’ç¥¨é¢é¢åˆ†åˆ«æ˜¯1ã€5ã€11ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨å‡‘å‡º15çš„æ—¶å€™ï¼Œè´ªå¿ƒç­–ç•¥ä¼šå‡ºé”™ï¼š<br />ã€€ã€€15=1Ã—11+4Ã—1 ï¼ˆè´ªå¿ƒç­–ç•¥ä½¿ç”¨äº†5å¼ é’ç¥¨ï¼‰<br />ã€€ã€€15=3Ã—5 ï¼ˆæ­£ç¡®çš„ç­–ç•¥ï¼Œåªç”¨3å¼ é’ç¥¨ï¼‰<br />ã€€ã€€ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿè´ªå¿ƒç­–ç•¥é”™åœ¨äº†å“ªé‡Œï¼Ÿ</p><p><strong>é¼ ç›®å¯¸å…‰</strong>ã€‚</p><p>åˆšåˆšå·²ç»è¯´è¿‡ï¼Œè´ªå¿ƒç­–ç•¥çš„çº²é¢†æ˜¯ï¼šâ€œå°½é‡ä½¿æ¥ä¸‹æ¥é¢å¯¹çš„wæ›´å°â€ã€‚è¿™æ ·ï¼Œè´ªå¿ƒç­–ç•¥åœ¨w=15çš„å±€é¢æ—¶ï¼Œä¼šä¼˜å…ˆä½¿ç”¨11æ¥æŠŠwé™åˆ°4ï¼›ä½†æ˜¯åœ¨è¿™ä¸ªé—®é¢˜ä¸­ï¼Œå‡‘å‡º4çš„ä»£ä»·æ˜¯å¾ˆé«˜çš„ï¼Œå¿…é¡»ä½¿ç”¨4Ã—1ã€‚å¦‚æœä½¿ç”¨äº†5ï¼Œwä¼šé™ä¸º10ï¼Œè™½ç„¶æ²¡æœ‰4é‚£ä¹ˆå°ï¼Œä½†æ˜¯å‡‘å‡º10åªéœ€è¦ä¸¤å¼ 5å…ƒã€‚</p><p>åœ¨è¿™é‡Œæˆ‘ä»¬å‘ç°ï¼Œè´ªå¿ƒæ˜¯ä¸€ç§<strong>åªè€ƒè™‘çœ¼å‰æƒ…å†µ</strong>çš„ç­–ç•¥ã€‚</p><p>é‚£ä¹ˆï¼Œç°åœ¨æˆ‘ä»¬æ€æ ·æ‰èƒ½é¿å…é¼ ç›®å¯¸å…‰å‘¢ï¼Ÿ</p><p>å¦‚æœç›´æ¥æš´åŠ›æšä¸¾å‡‘å‡ºwçš„æ–¹æ¡ˆï¼Œæ˜æ˜¾å¤æ‚åº¦è¿‡é«˜ã€‚å¤ªå¤šç§æ–¹æ³•å¯ä»¥å‡‘å‡ºwäº†ï¼Œæšä¸¾å®ƒä»¬çš„æ—¶é—´æ˜¯ä¸å¯æ‰¿å—çš„ã€‚æˆ‘ä»¬ç°åœ¨æ¥å°è¯•æ‰¾ä¸€ä¸‹æ€§è´¨ã€‚</p><p>é‡æ–°åˆ†æåˆšåˆšçš„ä¾‹å­ã€‚w=15æ—¶ï¼Œæˆ‘ä»¬å¦‚æœå–11ï¼Œæ¥ä¸‹æ¥å°±é¢å¯¹w=4çš„æƒ…å†µï¼›å¦‚æœå–5ï¼Œåˆ™æ¥ä¸‹æ¥é¢å¯¹w=10çš„æƒ…å†µã€‚æˆ‘ä»¬å‘ç°è¿™äº›é—®é¢˜éƒ½æœ‰ç›¸åŒçš„å½¢å¼ï¼šâ€œç»™å®šwï¼Œå‡‘å‡ºwæ‰€ç”¨çš„æœ€å°‘é’ç¥¨æ˜¯å¤šå°‘å¼ ï¼Ÿâ€æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç”¨f(n)æ¥è¡¨ç¤ºâ€œå‡‘å‡ºnæ‰€éœ€çš„æœ€å°‘é’ç¥¨æ•°é‡â€ã€‚</p><p>é‚£ä¹ˆï¼Œå¦‚æœæˆ‘ä»¬å–äº†11ï¼Œæœ€åçš„ä»£ä»·ï¼ˆç”¨æ‰çš„é’ç¥¨æ€»æ•°ï¼‰æ˜¯å¤šå°‘å‘¢ï¼Ÿ</p><p>æ˜æ˜¾<strong>cost=f(4)+1=4+1=5</strong>ï¼Œå®ƒçš„æ„ä¹‰æ˜¯ï¼šåˆ©ç”¨11æ¥å‡‘å‡º15ï¼Œä»˜å‡ºçš„ä»£ä»·ç­‰äºf(4)åŠ ä¸Šè‡ªå·±è¿™ä¸€å¼ é’ç¥¨ã€‚ç°åœ¨æˆ‘ä»¬æš‚æ—¶ä¸ç®¡f(4)æ€ä¹ˆæ±‚å‡ºæ¥ã€‚</p><p>ä¾æ¬¡ç±»æ¨ï¼Œé©¬ä¸Šå¯ä»¥çŸ¥é“ï¼šå¦‚æœæˆ‘ä»¬ç”¨5æ¥å‡‘å‡º15ï¼Œcostå°±æ˜¯<strong>f(10)+1=2+1=3</strong>ã€‚</p><p>é‚£ä¹ˆï¼Œç°åœ¨w=15çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¯¥å–é‚£ç§é’ç¥¨å‘¢ï¼Ÿ<strong>å½“ç„¶æ˜¯å„ç§æ–¹æ¡ˆä¸­ï¼Œcostå€¼æœ€ä½çš„é‚£ä¸€ä¸ªï¼</strong></p><ul><li>å–11ï¼šcost=f(4)+1=4+1=5</li><li>å–5:cost=f(10)+1=2+1=3</li><li>å–1:cost=f(14)+1=4+1=5</li></ul><p>æ˜¾è€Œæ˜“è§ï¼Œcostå€¼æœ€ä½çš„æ˜¯å–5çš„æ–¹æ¡ˆã€‚<strong>æˆ‘ä»¬é€šè¿‡ä¸Šé¢ä¸‰ä¸ªå¼å­ï¼Œåšå‡ºäº†æ­£ç¡®çš„å†³ç­–ï¼</strong></p><p>è¿™ç»™äº†æˆ‘ä»¬ä¸€ä¸ª<strong>è‡³å…³é‡è¦</strong>çš„å¯ç¤ºâ€”â€”f(n)åªä¸f(n-1),f(n-5),f(n-11) ç›¸å…³ï¼›æ›´ç¡®åˆ‡åœ°è¯´ï¼š</p><blockquote><p>f(n)=min{f(n-1),f(n-5),f(n-11)}+1</p></blockquote><p>è¿™ä¸ªå¼å­æ˜¯éå¸¸æ¿€åŠ¨äººå¿ƒçš„ã€‚æˆ‘ä»¬è¦æ±‚å‡ºf(n)ï¼Œåªéœ€è¦æ±‚å‡ºå‡ ä¸ªæ›´å°çš„få€¼ï¼›æ—¢ç„¶å¦‚æ­¤ï¼Œæˆ‘ä»¬ä»å°åˆ°å¤§æŠŠæ‰€æœ‰çš„f(i)æ±‚å‡ºæ¥ä¸å°±å¥½äº†ï¼Ÿæ³¨æ„ä¸€ä¸‹è¾¹ç•Œæƒ…å†µå³å¯ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><figure><img src="/img/åŠ¨æ€è§„åˆ’/è§£å†³æ–¹æ¡ˆ.jpg" alt="pic1" /><figcaption aria-hidden="true">pic1</figcaption></figure><p>æˆ‘ä»¬ä»¥O(n)çš„å¤æ‚åº¦è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚ç°åœ¨å›è¿‡å¤´æ¥ï¼Œæˆ‘ä»¬çœ‹çœ‹å®ƒçš„åŸç†ï¼š</p><ul><li>f(n)åªä¸f(n-1),f(n-5),f(n-11)çš„å€¼æœ‰å…³ã€‚</li><li>æˆ‘ä»¬åªå…³å¿ƒf(w)çš„å€¼ï¼Œä¸å…³å¿ƒæ˜¯æ€ä¹ˆå‡‘å‡ºwçš„ã€‚</li></ul><p>è¿™ä¸¤ä¸ªäº‹å®ï¼Œä¿è¯äº†æˆ‘ä»¬åšæ³•çš„æ­£ç¡®æ€§ã€‚å®ƒæ¯”èµ·è´ªå¿ƒç­–ç•¥ï¼Œä¼šåˆ†åˆ«ç®—å‡ºå–1ã€5ã€11çš„ä»£ä»·ï¼Œä»è€Œåšå‡ºä¸€ä¸ªæ­£ç¡®å†³ç­–ï¼Œè¿™æ ·å°±é¿å…æ‰äº†â€œé¼ ç›®å¯¸å…‰â€ï¼</p><p>å®ƒä¸æš´åŠ›çš„åŒºåˆ«åœ¨å“ªé‡Œï¼Ÿæˆ‘ä»¬çš„æš´åŠ›æšä¸¾äº†â€œä½¿ç”¨çš„ç¡¬å¸â€ï¼Œç„¶è€Œè¿™å±äºå†—ä½™ä¿¡æ¯ã€‚æˆ‘ä»¬è¦çš„æ˜¯ç­”æ¡ˆï¼Œæ ¹æœ¬ä¸å…³å¿ƒè¿™ä¸ªç­”æ¡ˆæ˜¯æ€ä¹ˆå‡‘å‡ºæ¥çš„ã€‚è­¬å¦‚ï¼Œè¦æ±‚å‡ºf(15)ï¼Œåªéœ€è¦çŸ¥é“f(14),f(10),f(4)çš„å€¼ã€‚<strong>å…¶ä»–ä¿¡æ¯å¹¶ä¸éœ€è¦</strong>ã€‚æˆ‘ä»¬èˆå¼ƒäº†å†—ä½™ä¿¡æ¯ã€‚æˆ‘ä»¬åªè®°å½•äº†å¯¹è§£å†³é—®é¢˜æœ‰å¸®åŠ©çš„ä¿¡æ¯â€”â€”f(n).</p><p>æˆ‘ä»¬èƒ½è¿™æ ·å¹²ï¼Œå–å†³äºé—®é¢˜çš„æ€§è´¨ï¼šæ±‚å‡ºf(n)ï¼Œåªéœ€è¦çŸ¥é“å‡ ä¸ªæ›´å°çš„f(c)ã€‚<strong>æˆ‘ä»¬å°†æ±‚è§£f(c)ç§°ä½œæ±‚è§£f(n)çš„â€œå­é—®é¢˜â€</strong>ã€‚</p><p><strong>è¿™å°±æ˜¯DPï¼ˆåŠ¨æ€è§„åˆ’ï¼Œdynamic programmingï¼‰</strong>.</p><p><strong>å°†ä¸€ä¸ªé—®é¢˜æ‹†æˆå‡ ä¸ªå­é—®é¢˜ï¼Œåˆ†åˆ«æ±‚è§£è¿™äº›å­é—®é¢˜ï¼Œå³å¯æ¨æ–­å‡ºå¤§é—®é¢˜çš„è§£ã€‚</strong></p><h2 id="å‡ ä¸ªç®€å•çš„æ¦‚å¿µ">2. å‡ ä¸ªç®€å•çš„æ¦‚å¿µ</h2><ul><li><strong>æ— åæ•ˆæ€§</strong><br />ä¸€æ—¦f(n)ç¡®å®šï¼Œâ€œæˆ‘ä»¬å¦‚ä½•å‡‘å‡ºf(n)â€å°±å†ä¹Ÿç”¨ä¸ç€äº†ã€‚</li></ul><p>è¦æ±‚å‡ºf(15)ï¼Œåªéœ€è¦çŸ¥é“f(14),f(10),f(4)çš„å€¼ï¼Œè€Œf(14),f(10),f(4)æ˜¯å¦‚ä½•ç®—å‡ºæ¥çš„ï¼Œå¯¹ä¹‹åçš„é—®é¢˜æ²¡æœ‰å½±å“ã€‚</p><p>â€œ<strong>æœªæ¥ä¸è¿‡å»æ— å…³</strong>â€ï¼Œè¿™å°±æ˜¯<strong>æ— åæ•ˆæ€§</strong>ã€‚</p><p>ï¼ˆä¸¥æ ¼å®šä¹‰ï¼šå¦‚æœç»™å®šæŸä¸€é˜¶æ®µçš„çŠ¶æ€ï¼Œåˆ™åœ¨è¿™ä¸€é˜¶æ®µä»¥åè¿‡ç¨‹çš„å‘å±•ä¸å—è¿™é˜¶æ®µä»¥å‰å„æ®µçŠ¶æ€çš„å½±å“ã€‚ï¼‰</p><ul><li>æœ€ä¼˜å­ç»“æ„</li></ul><p>å›é¡¾æˆ‘ä»¬å¯¹f(n)çš„å®šä¹‰ï¼šæˆ‘ä»¬è®°â€œå‡‘å‡ºnæ‰€éœ€çš„æœ€å°‘é’ç¥¨æ•°é‡â€ä¸ºf(n).</p><p>f(n)çš„å®šä¹‰å°±å·²ç»è•´å«äº†â€œæœ€ä¼˜â€ã€‚åˆ©ç”¨w=14,10,4çš„æœ€ä¼˜è§£ï¼Œæˆ‘ä»¬å³å¯ç®—å‡ºw=15çš„æœ€ä¼˜è§£ã€‚</p><p>å¤§é—®é¢˜çš„<strong>æœ€ä¼˜è§£</strong>å¯ä»¥ç”±å°é—®é¢˜çš„<strong>æœ€ä¼˜è§£</strong>æ¨å‡ºï¼Œè¿™ä¸ªæ€§è´¨å«åšâ€œæœ€ä¼˜å­ç»“æ„æ€§è´¨â€ã€‚</p><p>å¼•å…¥è¿™ä¸¤ä¸ªæ¦‚å¿µä¹‹åï¼Œæˆ‘ä»¬å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªé—®é¢˜èƒ½å¦ä½¿ç”¨DPè§£å†³å‘¢ï¼Ÿ</p><p><strong>èƒ½å°†å¤§é—®é¢˜æ‹†æˆå‡ ä¸ªå°é—®é¢˜ï¼Œä¸”æ»¡è¶³æ— åæ•ˆæ€§ã€æœ€ä¼˜å­ç»“æ„æ€§è´¨</strong>ã€‚</p><h2 id="dpçš„å…¸å‹åº”ç”¨dagæœ€çŸ­è·¯">3. DPçš„å…¸å‹åº”ç”¨ï¼šDAGæœ€çŸ­è·¯</h2><p>é—®é¢˜å¾ˆç®€å•ï¼šç»™å®šä¸€ä¸ªåŸå¸‚çš„åœ°å›¾ï¼Œæ‰€æœ‰çš„é“è·¯éƒ½æ˜¯å•è¡Œé“ï¼Œè€Œä¸”ä¸ä¼šæ„æˆç¯ã€‚æ¯æ¡é“è·¯éƒ½æœ‰è¿‡è·¯è´¹ï¼Œé—®æ‚¨ä»Sç‚¹åˆ°Tç‚¹èŠ±è´¹çš„æœ€å°‘è´¹ç”¨ã€‚</p><figure><img src="/img/åŠ¨æ€è§„åˆ’/æœ€çŸ­è·¯å¾„.png" alt="æœ€çŸ­è·¯å¾„" /><figcaption aria-hidden="true">æœ€çŸ­è·¯å¾„</figcaption></figure><p>è¿™ä¸ªé—®é¢˜èƒ½ç”¨DPè§£å†³å—ï¼Ÿæˆ‘ä»¬å…ˆè¯•ç€è®°ä»Såˆ°Pçš„æœ€å°‘è´¹ç”¨ä¸ºf(P).</p><p>æƒ³è¦åˆ°Tï¼Œè¦ä¹ˆç»è¿‡Cï¼Œè¦ä¹ˆç»è¿‡Dã€‚ä»è€Œ<spanclass="math inline">\(f(T)=min\{f(C)+20,f(D)+10\}\)</span>.</p><p>å¥½åƒçœ‹èµ·æ¥å¯ä»¥DPã€‚ç°åœ¨æˆ‘ä»¬æ£€éªŒåˆšåˆšé‚£ä¸¤ä¸ªæ€§è´¨ï¼š</p><ul><li>æ— åæ•ˆæ€§ï¼šå¯¹äºç‚¹Pï¼Œä¸€æ—¦f(P)ç¡®å®šï¼Œä»¥åå°±åªå…³å¿ƒf(P)çš„å€¼ï¼Œä¸å…³å¿ƒæ€ä¹ˆå»çš„ã€‚</li><li>æœ€ä¼˜å­ç»“æ„ï¼šå¯¹äºPï¼Œæˆ‘ä»¬å½“ç„¶åªå…³å¿ƒåˆ°Pçš„æœ€å°è´¹ç”¨ï¼Œå³f(P)ã€‚å¦‚æœæˆ‘ä»¬ä»Sèµ°åˆ°Tæ˜¯<spanclass="math inline">\(S \rightarrow P\rightarrow Q \rightarrowT\)</span>,é‚£è‚¯å®šSèµ°åˆ°Qçš„æœ€ä¼˜è·¯å¾„æ˜¯<span class="math inline">\(S\rightarrow P\rightarrowQ\)</span>ã€‚å¯¹ä¸€æ¡æœ€ä¼˜çš„è·¯å¾„è€Œè¨€ï¼Œä»Sèµ°åˆ°<strong>æ²¿é€”ä¸Šæ‰€æœ‰çš„ç‚¹ï¼ˆå­é—®é¢˜ï¼‰</strong>çš„æœ€ä¼˜è·¯å¾„ï¼Œéƒ½æ˜¯è¿™æ¡å¤§è·¯çš„ä¸€éƒ¨åˆ†ã€‚è¿™ä¸ªé—®é¢˜çš„æœ€ä¼˜å­ç»“æ„æ€§è´¨æ˜¯æ˜¾ç„¶çš„ã€‚</li></ul><p>æ—¢ç„¶è¿™ä¸¤ä¸ªæ€§è´¨éƒ½æ»¡è¶³ï¼Œé‚£ä¹ˆæœ¬é¢˜å¯ä»¥DPã€‚å¼å­æ˜æ˜¾ä¸ºï¼š</p><blockquote><p>f(P)=min{f(R)+W<sub><span class="math inline">\(R \rightarrowP\)</span></sub>}</p></blockquote><p>å…¶ä¸­Rä¸ºæœ‰è·¯é€šåˆ°Pçš„æ‰€æœ‰çš„ç‚¹ï¼Œ [å…¬å¼] ä¸ºRåˆ°Pçš„è¿‡è·¯è´¹ã€‚</p><p>ä»£ç å®ç°ä¹Ÿå¾ˆç®€å•ï¼Œæ‹“æ‰‘æ’åºå³å¯ã€‚</p><h2 id="å¯¹dpåŸç†çš„ä¸€ç‚¹è®¨è®º">4. å¯¹DPåŸç†çš„ä¸€ç‚¹è®¨è®º</h2><ul><li>DPçš„æ ¸å¿ƒæ€æƒ³</li></ul><p>DPä¸ºä»€ä¹ˆä¼šå¿«ï¼Ÿ</p><p>æ— è®ºæ˜¯DPè¿˜æ˜¯æš´åŠ›ï¼Œæˆ‘ä»¬çš„ç®—æ³•éƒ½æ˜¯åœ¨<strong>å¯èƒ½è§£ç©ºé—´</strong>å†…ï¼Œå¯»æ‰¾<strong>æœ€ä¼˜è§£</strong>ã€‚</p><p>æ¥çœ‹é’ç¥¨é—®é¢˜ã€‚æš´åŠ›åšæ³•æ˜¯æšä¸¾æ‰€æœ‰çš„å¯èƒ½è§£ï¼Œè¿™æ˜¯æœ€å¤§çš„å¯èƒ½è§£ç©ºé—´ã€‚</p><p>DPæ˜¯æšä¸¾<strong>æœ‰å¸Œæœ›æˆä¸ºç­”æ¡ˆçš„è§£</strong>ã€‚è¿™ä¸ªç©ºé—´æ¯”æš´åŠ›çš„å°å¾—å¤šã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼š<strong>DPè‡ªå¸¦å‰ªæ</strong>ã€‚</p><p>DPèˆå¼ƒäº†ä¸€å¤§å †ä¸å¯èƒ½æˆä¸ºæœ€ä¼˜è§£çš„ç­”æ¡ˆã€‚è­¬å¦‚ï¼š<br />ã€€ã€€15 = 5+5+5 è¢«è€ƒè™‘äº†ã€‚<br />ã€€ã€€15 = 5+5+1+1+1+1+1 ä»æ¥æ²¡æœ‰è€ƒè™‘è¿‡ï¼Œå› ä¸ºè¿™ä¸å¯èƒ½æˆä¸ºæœ€ä¼˜è§£ã€‚</p><p>åœ¨æš´åŠ›ç®—æ³•ä¸­ï¼Œå¯èƒ½è§£ç©ºé—´å¾€å¾€æ˜¯æŒ‡æ•°çº§çš„å¤§å°ï¼›å¦‚æœæˆ‘ä»¬é‡‡ç”¨DPï¼Œé‚£ä¹ˆæœ‰å¯èƒ½æŠŠè§£ç©ºé—´çš„å¤§å°é™åˆ°å¤šé¡¹å¼çº§ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œè§£ç©ºé—´è¶Šå°ï¼Œå¯»æ‰¾è§£å°±è¶Šå¿«ã€‚è¿™æ ·å°±å®Œæˆäº†ä¼˜åŒ–ã€‚</p><ul><li>DPçš„æ“ä½œè¿‡ç¨‹</li></ul><p>ä¸€è¨€ä»¥è”½ä¹‹ï¼š<strong>å¤§äº‹åŒ–å°ï¼Œå°äº‹åŒ–äº†</strong>ã€‚</p><p>å°†ä¸€ä¸ªå¤§é—®é¢˜è½¬åŒ–æˆå‡ ä¸ªå°é—®é¢˜ï¼›<br />ã€€ã€€æ±‚è§£å°é—®é¢˜ï¼›<br />ã€€ã€€æ¨å‡ºå¤§é—®é¢˜çš„è§£ã€‚</p><ul><li>å¦‚ä½•è®¾è®¡DPç®—æ³•</li></ul><p>ä¸‹é¢ä»‹ç»æ¯”è¾ƒé€šç”¨çš„è®¾è®¡DPç®—æ³•çš„æ­¥éª¤ã€‚</p><p>é¦–å…ˆï¼ŒæŠŠæˆ‘ä»¬é¢å¯¹çš„å±€é¢è¡¨ç¤ºä¸ºxã€‚è¿™ä¸€æ­¥ç§°ä¸ºè®¾è®¡çŠ¶æ€ã€‚</p><p>å¯¹äºçŠ¶æ€xï¼Œè®°æˆ‘ä»¬è¦æ±‚å‡ºçš„ç­”æ¡ˆ(e.g.æœ€å°è´¹ç”¨)ä¸ºf(x).æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ±‚å‡ºf(T).<strong>æ‰¾å‡ºf(x)ä¸å“ªäº›å±€é¢æœ‰å…³ï¼ˆè®°ä¸ºpï¼‰</strong>ï¼Œå†™å‡ºä¸€ä¸ªå¼å­ï¼ˆç§°ä¸ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼‰ï¼Œé€šè¿‡f(p)æ¥æ¨å‡ºf(x).</p><ul><li>DPä¸‰è¿</li></ul><p>è®¾è®¡DPç®—æ³•ï¼Œå¾€å¾€å¯ä»¥éµå¾ªDPä¸‰è¿ï¼š</p><p>æˆ‘æ˜¯è°ï¼Ÿ â€”â€”è®¾è®¡çŠ¶æ€ï¼Œè¡¨ç¤ºå±€é¢</p><p>æˆ‘ä»å“ªé‡Œæ¥ï¼Ÿ</p><p>æˆ‘è¦åˆ°å“ªé‡Œå»ï¼Ÿ â€”â€”è®¾è®¡è½¬ç§»</p><p>è®¾è®¡çŠ¶æ€æ˜¯DPçš„åŸºç¡€ã€‚æ¥ä¸‹æ¥çš„è®¾è®¡è½¬ç§»ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼šä¸€ç§æ˜¯è€ƒè™‘æˆ‘ä»å“ªé‡Œæ¥ï¼ˆæœ¬æ–‡ä¹‹å‰æåˆ°çš„ä¸¤ä¸ªä¾‹å­ï¼Œéƒ½æ˜¯åœ¨è€ƒè™‘â€œæˆ‘ä»å“ªé‡Œæ¥â€ï¼‰ï¼›å¦ä¸€ç§æ˜¯è€ƒè™‘æˆ‘åˆ°å“ªé‡Œå»ï¼Œè¿™å¸¸è§äºæ±‚å‡ºf(x)ä¹‹åï¼Œ<strong>æ›´æ–°èƒ½ä»xèµ°åˆ°çš„ä¸€äº›è§£</strong>ã€‚è¿™ç§DPä¹Ÿæ˜¯ä¸å°‘çš„ï¼Œæˆ‘ä»¬ä»¥åä¼šé‡åˆ°ã€‚</p><p>æ€»è€Œè¨€ä¹‹ï¼Œâ€œæˆ‘ä»å“ªé‡Œæ¥â€å’Œâ€œæˆ‘è¦åˆ°å“ªé‡Œå»â€åªéœ€è¦è€ƒè™‘æ¸…æ¥šå…¶ä¸­ä¸€ä¸ªï¼Œå°±èƒ½è®¾è®¡å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼Œä»è€Œå†™ä»£ç æ±‚è§£é—®é¢˜ã€‚å‰è€…åˆç§°pullå‹çš„è½¬ç§»ï¼Œåè€…åˆç§°pushå‹çš„è½¬ç§»ã€‚</p><blockquote><p>æ€è€ƒé¢˜ï¼šå¦‚ä½•æŠŠé’ç¥¨é—®é¢˜çš„ä»£ç æ”¹å†™æˆâ€œæˆ‘åˆ°å“ªé‡Œå»â€çš„å½¢å¼ï¼Ÿ<br />æç¤ºï¼šæ±‚å‡ºf(x)ä¹‹åï¼Œæ›´æ–°f(x+1),f(x+5),f(x+11).</p></blockquote><h2 id="ä¾‹é¢˜æœ€é•¿ä¸Šå‡å­åºåˆ—">5. ä¾‹é¢˜ï¼šæœ€é•¿ä¸Šå‡å­åºåˆ—</h2><p>æ‰¯äº†è¿™ä¹ˆå¤šå½¢è€Œä¸Šçš„å†…å®¹ï¼Œè¿˜æ˜¯åšä¸€é“ä¾‹é¢˜å§ã€‚</p><p>æœ€é•¿ä¸Šå‡å­åºåˆ—ï¼ˆLISï¼‰é—®é¢˜ï¼šç»™å®šé•¿åº¦ä¸ºnçš„åºåˆ—aï¼Œä»aä¸­æŠ½å–å‡ºä¸€ä¸ªå­åºåˆ—ï¼Œè¿™ä¸ªå­åºåˆ—éœ€è¦å•è°ƒé€’å¢ã€‚é—®æœ€é•¿çš„ä¸Šå‡å­åºåˆ—ï¼ˆLISï¼‰çš„é•¿åº¦ã€‚<br />ã€€ã€€e.g. 1,5,3,4,6,9,7,8çš„LISä¸º1,3,4,6,7,8ï¼Œé•¿åº¦ä¸º6ã€‚</p><p>å¦‚ä½•è®¾è®¡çŠ¶æ€ï¼ˆæˆ‘æ˜¯è°ï¼‰ï¼Ÿ</p><p>æˆ‘ä»¬è®°<spanclass="math inline">\(f(x)\)</span>ä¸ºä»¥a<sub>x</sub>ç»“å°¾çš„LISé•¿åº¦ï¼Œé‚£ä¹ˆç­”æ¡ˆå°±æ˜¯<span class="math inline">\(max\{f(x)\}\)</span></p><p>çŠ¶æ€xä»å“ªé‡Œæ¨è¿‡æ¥ï¼ˆæˆ‘ä»å“ªé‡Œæ¥ï¼‰ï¼Ÿ</p><p>è€ƒè™‘æ¯”xå°çš„æ¯ä¸€ä¸ªpï¼šå¦‚æœ a<sub>x</sub> &gt; a<sub>p</sub>ï¼Œé‚£ä¹ˆ<spanclass="math inline">\(f(x)\)</span>å¯ä»¥å–<spanclass="math inline">\(f(p)+1\)</span>.</p><p>è§£é‡Šï¼šæˆ‘ä»¬æŠŠ a<sub>x</sub> æ¥åœ¨ a<sub>p</sub>çš„åé¢ï¼Œè‚¯å®šèƒ½æ„é€ ä¸€ä¸ªä»¥ a<sub>x</sub> ç»“å°¾çš„ä¸Šå‡å­åºåˆ—ï¼Œé•¿åº¦æ¯”ä»¥a<sub>p</sub> ç»“å°¾çš„LISå¤§1.é‚£ä¹ˆï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹äº†ï¼š</p><figure><img src="/img/åŠ¨æ€è§„åˆ’/çŠ¶æ€è½¬ç§»æ–¹ç¨‹.svg" alt="çŠ¶æ€è½¬ç§»æ–¹ç¨‹" /><figcaption aria-hidden="true">çŠ¶æ€è½¬ç§»æ–¹ç¨‹</figcaption></figure><p>è‡³æ­¤è§£å†³é—®é¢˜ã€‚ä¸¤å±‚forå¾ªç¯ï¼Œå¤æ‚åº¦O(n<sup>2</sup>) ã€‚</p><figure><img src="/img/åŠ¨æ€è§„åˆ’/æœ€é•¿ä¸Šå‡å­åºåˆ—ä»£ç .jpg"alt="æœ€é•¿ä¸Šå‡å­åºåˆ—ä»£ç " /><figcaption aria-hidden="true">æœ€é•¿ä¸Šå‡å­åºåˆ—ä»£ç </figcaption></figure><p>ä»è¿™ä¸‰ä¸ªä¾‹é¢˜ä¸­å¯ä»¥çœ‹å‡ºï¼ŒDPæ˜¯ä¸€ç§æ€æƒ³ï¼Œä¸€ç§â€œå¤§äº‹åŒ–å°ï¼Œå°äº‹åŒ–äº†â€çš„æ€æƒ³ã€‚å¸¦ç€è¿™ç§æ€æƒ³ï¼ŒDPå°†ä¼šæˆä¸ºæˆ‘ä»¬è§£å†³é—®é¢˜çš„åˆ©å™¨ã€‚</p><h2 id="ä¹ é¢˜">6. ä¹ é¢˜</h2><p>å¦‚æœè¯»è€…æœ‰å…´è¶£ï¼Œå¯ä»¥è¯•ç€å®Œæˆä¸‹é¢å‡ ä¸ªä¹ é¢˜ï¼š</p><ol type="1"><li>è¯·é‡‡å–ä¸€äº›ä¼˜åŒ–æ‰‹æ®µï¼Œä»¥ O(n log<sub>2</sub> n)çš„å¤æ‚åº¦è§£å†³LISé—®é¢˜ã€‚</li></ol><p>æç¤ºï¼šå¯ä»¥å‚è€ƒè¿™ç¯‡åšå®¢ <ahref="https://www.luogu.com.cn/blog/pks-LOVING/junior-dynamic-programming-dong-tai-gui-hua-chu-bu-ge-zhong-zi-xu-lie">JuniorDynamic Programming--åŠ¨æ€è§„åˆ’åˆæ­¥Â·å„ç§å­åºåˆ—é—®é¢˜</a></p><ol start="2" type="1"><li>â€œæŒ‰é¡ºåºé€’æ¨â€å’Œâ€œè®°å¿†åŒ–æœç´¢â€æ˜¯å®ç°DPçš„ä¸¤ç§æ–¹å¼ã€‚è¯·æŸ¥é˜…èµ„æ–™ï¼Œç®€å•æè¿°â€œè®°å¿†åŒ–æœç´¢â€æ˜¯ä»€ä¹ˆã€‚å¹¶é‡‡ç”¨è®°å¿†åŒ–æœç´¢å†™å‡ºé’ç¥¨é—®é¢˜çš„ä»£ç ï¼Œç„¶åå®Œæˆ<ahref="https://www.luogu.com.cn/problem/P1541">P1541 ä¹Œé¾Ÿæ£‹ - æ´›è°·</a>ã€‚</li><li>01èƒŒåŒ…é—®é¢˜æ˜¯ä¸€ç§å¸¸è§çš„DPæ¨¡å‹ã€‚è¯·å®Œæˆ<ahref="https://www.luogu.com.cn/problem/P1048">P1048 é‡‡è¯ -æ´›è°·</a>ã€‚</li></ol><h2 id="è¯»åæ€è€ƒåŠ¨æ€è§„åˆ’å’Œåˆ†æ²»æ³•çš„åŒºåˆ«ä¸å…±åŒç‚¹">7.è¯»åæ€è€ƒï¼šåŠ¨æ€è§„åˆ’å’Œåˆ†æ²»æ³•çš„åŒºåˆ«ä¸å…±åŒç‚¹ï¼Ÿ</h2><h3 id="åˆ†æ²»æ³•">1. åˆ†æ²»æ³•</h3><p>åˆ†æ²»æ³•(Divide-and-Conquer) :å°†åŸé—®é¢˜åˆ’åˆ†æˆnä¸ªè§„æ¨¡è¾ƒå°è€Œç»“æ„ä¸åŸé—®é¢˜ç›¸ä¼¼çš„å­é—®é¢˜ï¼›é€’å½’åœ°è§£å†³è¿™äº›å­é—®é¢˜ï¼Œç„¶åå†åˆå¹¶å…¶ç»“æœï¼Œå°±å¾—åˆ°åŸé—®é¢˜çš„è§£ã€‚</p><p>åˆ†æ²»æ¨¡å¼åœ¨æ¯ä¸€å±‚é€’å½’ä¸Šéƒ½æœ‰ä¸‰ä¸ªæ­¥éª¤ï¼š</p><ul><li>åˆ†è§£(Divide)ï¼šå°†åŸé—®é¢˜åˆ†è§£æˆä¸€ç³»åˆ—å­é—®é¢˜ï¼›</li><li>è§£å†³(Conquer)ï¼šé€’å½’åœ°è§£å†³å„ä¸ªå­é—®é¢˜ã€‚è‹¥å­é—®é¢˜è¶³å¤Ÿå°ï¼Œåˆ™ç›´æ¥æ±‚è§£ã€‚</li><li>åˆå¹¶(Combine)ï¼šå°†å­é—®é¢˜çš„ç»“æœåˆå¹¶æˆåŸé—®é¢˜çš„è§£ã€‚</li></ul><p>åˆå¹¶æ’åº(MergeSort)æ˜¯ä¸€ä¸ªå…¸å‹åˆ†æ²»æ³•çš„ä¾‹å­ã€‚å…¶å¯¹åº”çš„ç›´è§‚çš„æ“ä½œå¦‚ä¸‹:</p><p>åˆ†è§£ï¼š å°†nä¸ªå…ƒç´ åˆ†æˆå„å«n/2ä¸ªå…ƒç´ çš„å­åºåˆ—ï¼›</p><p>è§£å†³ï¼šç”¨åˆå¹¶æ’åºæ³•å¯¹ä¸¤ä¸ªå­åºåˆ—é€’å½’åœ°æ’åºï¼›</p><p>åˆå¹¶ï¼šåˆå¹¶ä¸¤ä¸ªå·²æ’åºçš„å­åºåˆ—ä»¥å¾—åˆ°æ’åºç»“æœã€‚</p><h3 id="åŠ¨æ€è§„åˆ’æ³•">2. åŠ¨æ€è§„åˆ’æ³•</h3><p>åŠ¨æ€è§„åˆ’ç®—æ³•çš„è®¾è®¡å¯ä»¥åˆ†ä¸ºå¦‚ä¸‹4ä¸ªæ­¥éª¤ï¼š</p><ul><li>æè¿°æœ€ä¼˜è§£çš„ç»“æ„</li><li>é€’å½’å®šä¹‰æœ€ä¼˜è§£çš„å€¼</li><li>æŒ‰è‡ªåº•å‘ä¸Šçš„æ–¹å¼è®¡ç®—æœ€ä¼˜è§£çš„å€¼</li><li>ç”±è®¡ç®—å‡ºçš„ç»“æœæ„é€ ä¸€ä¸ªæœ€ä¼˜è§£</li></ul><p><strong>åˆ†æ²»æ³•æ˜¯æŒ‡å°†é—®é¢˜åˆ’åˆ†æˆä¸€äº›ç‹¬ç«‹çš„å­é—®é¢˜ï¼Œé€’å½’çš„æ±‚è§£å„å­é—®é¢˜ï¼Œç„¶ååˆå¹¶å­é—®é¢˜çš„è§£è€Œå¾—åˆ°åŸé—®é¢˜çš„è§£ã€‚ä¸æ­¤ä¸åŒï¼ŒåŠ¨æ€è§„åˆ’é€‚ç”¨äºå­é—®é¢˜ç‹¬ç«‹ä¸”é‡å çš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯å„å­é—®é¢˜åŒ…å«å…¬å…±çš„å­å­é—®é¢˜ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè‹¥ç”¨åˆ†æ²»æ³•åˆ™ä¼šåšè®¸å¤šä¸å¿…è¦çš„å·¥ä½œï¼Œå³é‡å¤åœ°æ±‚è§£å…¬å…±çš„å­é—®é¢˜ã€‚åŠ¨æ€è§„åˆ’ç®—æ³•å¯¹æ¯ä¸ªå­å­é—®é¢˜åªæ±‚è§£ä¸€æ¬¡ï¼Œå°†å…¶ç»“æœä¿å­˜åœ¨ä¸€å¼ è¡¨ä¸­ï¼Œä»è€Œé¿å…æ¯æ¬¡é‡åˆ°å„ä¸ªå­é—®é¢˜æ—¶é‡æ–°è®¡ç®—ç­”æ¡ˆã€‚</strong></p><p>é€‚åˆé‡‡ç”¨åŠ¨æ€è§„åˆ’æ–¹æ³•çš„æœ€ä¼˜åŒ–é—®é¢˜ä¸­çš„ä¸¤ä¸ªè¦ç´ ï¼š<strong>æœ€ä¼˜å­ç»“æ„</strong>å’Œ<strong>é‡å å­é—®é¢˜</strong>ã€‚</p><p>æœ€ä¼˜å­ç»“æ„ï¼šå¦‚æœé—®é¢˜çš„ä¸€ä¸ªæœ€ä¼˜è§£ä¸­åŒ…å«äº†å­é—®é¢˜çš„æœ€ä¼˜è§£ï¼Œåˆ™è¯¥é—®é¢˜å…·æœ‰æœ€ä¼˜å­ç»“æ„ã€‚</p><p>é‡å å­é—®é¢˜ï¼šé€‚ç”¨äºåŠ¨æ€è§„åˆ’æ±‚è§£çš„æœ€ä¼˜åŒ–é—®é¢˜å¿…é¡»å…·æœ‰çš„ç¬¬äºŒä¸ªè¦ç´ æ˜¯å­é—®é¢˜çš„ç©ºé—´è¦å¾ˆå°ï¼Œä¹Ÿå°±æ˜¯ç”¨æ¥æ±‚è§£åŸé—®é¢˜çš„é€’å½’ç®—æ³•åå¤åœ°è§£åŒæ ·çš„å­é—®é¢˜ï¼Œè€Œä¸æ˜¯æ€»æ˜¯åœ¨äº§ç”Ÿæ–°çš„å­é—®é¢˜ã€‚å¯¹ä¸¤ä¸ªå­é—®é¢˜æ¥è¯´ï¼Œå¦‚æœå®ƒä»¬ç¡®å®æ˜¯ç›¸åŒçš„å­é—®é¢˜ï¼Œåªæ˜¯ä½œä¸ºä¸åŒé—®é¢˜çš„å­é—®é¢˜å‡ºç°çš„è¯ï¼Œåˆ™å®ƒä»¬æ˜¯é‡å çš„ã€‚</p><p>In a word, <strong>åˆ†æ²»æ³• â€”â€” å„å­é—®é¢˜ç‹¬ç«‹ï¼›åŠ¨æ€è§„åˆ’ â€”â€”å„å­é—®é¢˜é‡å </strong>ã€‚</p><p>ç®—æ³•å¯¼è®ºï¼š<strong>åŠ¨æ€è§„åˆ’è¦æ±‚å…¶å­é—®é¢˜æ—¢è¦ç‹¬ç«‹åˆè¦é‡å ï¼Œè¿™çœ‹ä¸Šå»ä¼¼ä¹æœ‰äº›å¥‡æ€ªã€‚è™½ç„¶è¿™ä¸¤ç‚¹è¦æ±‚å¬èµ·æ¥å¯èƒ½çŸ›ç›¾çš„ï¼Œä½†å®ƒä»¬æè¿°äº†ä¸¤ç§ä¸åŒçš„æ¦‚å¿µï¼Œè€Œä¸æ˜¯åŒä¸€ä¸ªé—®é¢˜çš„ä¸¤ä¸ªæ–¹é¢ã€‚å¦‚æœåŒä¸€ä¸ªé—®é¢˜çš„ä¸¤ä¸ªå­é—®é¢˜ä¸å…±äº«èµ„æºï¼Œåˆ™å®ƒä»¬å°±æ˜¯ç‹¬ç«‹çš„ã€‚å¯¹ä¸¤ä¸ªå­é—®é¢˜ä¿©è¯´ï¼Œå¦‚æœå®ƒä»¬ç¡®å®æ˜¯ç›¸åŒçš„å­é—®é¢˜ï¼Œåªæ˜¯ä½œä¸ºä¸åŒé—®é¢˜çš„å­é—®é¢˜å‡ºç°çš„è¯ï¼Œæ˜¯é‡å çš„ï¼Œåˆ™å®ƒä»¬æ˜¯é‡å </strong>ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>é«˜çº§ç®—æ³•è®¾è®¡ä¸åˆ†æ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>çº¢é»‘æ ‘</title>
    <link href="/2022/12/01/%E7%BA%A2%E9%BB%91%E6%A0%91/"/>
    <url>/2022/12/01/%E7%BA%A2%E9%BB%91%E6%A0%91/</url>
    
    <content type="html"><![CDATA[<h1 id="çº¢é»‘æ ‘">çº¢é»‘æ ‘</h1><p>çº¢é»‘æ ‘æ˜¯ä¸€ç§ç‰¹åŒ–çš„AVLæ ‘ï¼ˆå¹³è¡¡äºŒå‰æ ‘ï¼‰ï¼Œéƒ½æ˜¯åœ¨è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œæ—¶é€šè¿‡ç‰¹å®šæ“ä½œä¿æŒäºŒå‰æŸ¥æ‰¾æ ‘çš„å¹³è¡¡ï¼Œä»è€Œè·å¾—è¾ƒé«˜çš„æŸ¥æ‰¾æ€§èƒ½ã€‚</p><p>å®ƒè™½ç„¶æ˜¯å¤æ‚çš„ï¼Œä½†å®ƒçš„æœ€åæƒ…å†µè¿è¡Œæ—¶é—´ä¹Ÿæ˜¯éå¸¸è‰¯å¥½çš„ï¼Œå¹¶ä¸”åœ¨å®è·µä¸­æ˜¯é«˜æ•ˆçš„ï¼šå®ƒå¯ä»¥åœ¨O(log n)æ—¶é—´å†…åšæŸ¥æ‰¾ï¼Œæ’å…¥å’Œåˆ é™¤ï¼Œè¿™é‡Œçš„n æ˜¯æ ‘ä¸­å…ƒç´ çš„æ•°ç›®ã€‚</p><h2 id="çº¢é»‘æ ‘çš„æ€§è´¨">çº¢é»‘æ ‘çš„æ€§è´¨</h2><ol type="1"><li>æ¯ä¸ªèŠ‚ç‚¹è¦ä¹ˆæ˜¯é»‘è‰²ï¼Œè¦ä¹ˆæ˜¯çº¢è‰²ã€‚</li><li>æ ¹èŠ‚ç‚¹æ˜¯é»‘è‰²ã€‚</li><li>æ¯ä¸ªå¶å­èŠ‚ç‚¹ï¼ˆNILï¼‰æ˜¯é»‘è‰²ã€‚</li><li>æ¯ä¸ªçº¢è‰²ç»“ç‚¹çš„ä¸¤ä¸ªå­ç»“ç‚¹ä¸€å®šéƒ½æ˜¯é»‘è‰²</li><li>ä»»æ„ä¸€ç»“ç‚¹åˆ°æ¯ä¸ªå¶å­ç»“ç‚¹çš„è·¯å¾„éƒ½åŒ…å«æ•°é‡ç›¸åŒçš„é»‘ç»“ç‚¹ã€‚ï¼ˆä¿è¯è¿™æ£µæ ‘å°½é‡æ˜¯å¹³è¡¡çš„ã€‚ï¼‰</li></ol><p>ç”±æ€§è´¨5æˆ‘ä»¬å¯ä»¥æ¨å‡ºï¼š<br />æ€§è´¨5.1ï¼šå¦‚æœä¸€ä¸ªç»“ç‚¹å­˜åœ¨é»‘å­ç»“ç‚¹ï¼Œé‚£ä¹ˆè¯¥ç»“ç‚¹è‚¯å®šæœ‰ä¸¤ä¸ªå­ç»“ç‚¹ã€‚</p><h2 id="çº¢é»‘æ ‘å’Œavlçš„åŒºåˆ«">çº¢é»‘æ ‘å’ŒAVLçš„åŒºåˆ«</h2><ol type="1"><li><p>å¦‚æœæ’å…¥ä¸€ä¸ªnodeå¼•èµ·äº†æ ‘çš„ä¸å¹³è¡¡ï¼ŒAVLå’ŒRB-Treeéƒ½æ˜¯æœ€å¤šåªéœ€è¦2æ¬¡æ—‹è½¬æ“ä½œï¼Œå³ä¸¤è€…éƒ½æ˜¯O(1)ï¼›ä½†æ˜¯åœ¨åˆ é™¤nodeå¼•èµ·æ ‘çš„ä¸å¹³è¡¡æ—¶ï¼Œæœ€åæƒ…å†µä¸‹ï¼ŒAVLéœ€è¦ç»´æŠ¤ä»è¢«åˆ nodeåˆ°rootè¿™æ¡è·¯å¾„ä¸Šæ‰€æœ‰nodeçš„å¹³è¡¡æ€§ï¼Œå› æ­¤éœ€è¦æ—‹è½¬çš„é‡çº§O(logN)ï¼Œè€ŒRB-Treeæœ€å¤šåªéœ€3æ¬¡æ—‹è½¬ï¼Œåªéœ€è¦O(1)çš„å¤æ‚åº¦ã€‚</p></li><li><p>å…¶æ¬¡ï¼ŒAVLçš„ç»“æ„ç›¸è¾ƒRB-Treeæ¥è¯´æ›´ä¸ºå¹³è¡¡ï¼Œåœ¨æ’å…¥å’Œåˆ é™¤nodeæ›´å®¹æ˜“å¼•èµ·Treeçš„unbalanceï¼Œå› æ­¤åœ¨å¤§é‡æ•°æ®éœ€è¦æ’å…¥æˆ–è€…åˆ é™¤æ—¶ï¼ŒAVLéœ€è¦rebalanceçš„é¢‘ç‡ä¼šæ›´é«˜ã€‚å› æ­¤ï¼ŒRB-Treeåœ¨éœ€è¦å¤§é‡æ’å…¥å’Œåˆ é™¤nodeçš„åœºæ™¯ä¸‹ï¼Œæ•ˆç‡æ›´é«˜ã€‚è‡ªç„¶ï¼Œç”±äºAVLé«˜åº¦å¹³è¡¡ï¼Œå› æ­¤AVLçš„searchæ•ˆç‡æ›´é«˜ã€‚</p></li><li><p>mapçš„å®ç°åªæ˜¯æŠ˜è¡·äº†ä¸¤è€…åœ¨searchã€insertä»¥åŠdeleteä¸‹çš„æ•ˆç‡ã€‚æ€»ä½“æ¥è¯´ï¼ŒRB-treeçš„ç»Ÿè®¡æ€§èƒ½æ˜¯é«˜äºAVLçš„ã€‚</p></li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>èƒœè€…æ ‘ä¸è´¥è€…æ ‘</title>
    <link href="/2022/12/01/%E8%83%9C%E8%80%85%E6%A0%91%E8%B4%A5%E8%80%85%E6%A0%91/"/>
    <url>/2022/12/01/%E8%83%9C%E8%80%85%E6%A0%91%E8%B4%A5%E8%80%85%E6%A0%91/</url>
    
    <content type="html"><![CDATA[<p>èƒœè€…æ ‘ä¸è´¥è€…æ ‘æ˜¯å®Œå…¨äºŒå‰æ ‘ã€‚å°±åƒæ˜¯å‚åŠ æ¯”èµ›ä¸€æ ·ï¼Œæ¯ä¸ªé€‰æ‰‹æœ‰ä¸åŒçš„å®åŠ›ï¼Œä¸¤ä¸ªé€‰æ‰‹PK,å®åŠ›å†³å®šèƒœè´Ÿï¼Œæ™‹çº§ä¸‹ä¸€è½®ï¼Œç»è¿‡å‡ è½®ä¹‹åï¼Œå°±èƒ½å¾—åˆ°å† å†›ã€‚ä¸åŒçš„æ˜¯ï¼Œèƒœè€…æ ‘çš„ä¸­é—´ç»“ç‚¹è®°å½•çš„æ˜¯èƒœè€…çš„æ ‡å·ï¼›è€Œè´¥è€…æ ‘çš„ä¸­é—´ç»“ç‚¹è®°å½•çš„è´¥è€…çš„æ ‡å·ã€‚èƒœè€…æ ‘ä¸è´¥è€…æ ‘å¯ä»¥åœ¨log(n)çš„æ—¶é—´å†…æ‰¾åˆ°æœ€å€¼ã€‚ä»»ä½•ä¸€ä¸ªå¶å­ç»“ç‚¹çš„å€¼æ”¹å˜åï¼Œåˆ©ç”¨ä¸­é—´ç»“ç‚¹çš„ä¿¡æ¯ï¼Œè¿˜æ˜¯èƒ½å¤Ÿå¿«é€Ÿåœ°æ‰¾åˆ°æœ€å€¼ã€‚åœ¨kè·¯å½’å¹¶æ’åºä¸­ç»å¸¸ç”¨åˆ°ã€‚</p><h2 id="èƒœè€…æ ‘">èƒœè€…æ ‘</h2><p>èƒœè€…æ ‘çš„ä¸€ä¸ªä¼˜ç‚¹æ˜¯ï¼Œå¦‚æœä¸€ä¸ªé€‰æ‰‹çš„å€¼æ”¹å˜äº†ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°ä¿®æ”¹è¿™æ£µèƒœè€…æ ‘ã€‚åªéœ€è¦æ²¿ç€ä»è¯¥ç»“ç‚¹åˆ°æ ¹ç»“ç‚¹çš„è·¯å¾„ä¿®æ”¹è¿™æ£µäºŒå‰æ ‘ï¼Œè€Œä¸å¿…æ”¹å˜å…¶ä»–æ¯”èµ›çš„ç»“æœã€‚</p><figure><img src="/img/èƒœè€…æ ‘è´¥è€…æ ‘/fig1.jpg" alt="fig1" /><figcaption aria-hidden="true">fig1</figcaption></figure><p>ä¸Šå›¾æ˜¯ä¸€ä¸ªèƒœè€…æ ‘çš„ç¤ºä¾‹ã€‚è§„å®šæ•°å€¼å°è€…èƒœã€‚ 1. b3 PKb4ï¼Œb3èƒœb4è´Ÿï¼Œå†…éƒ¨ç»“ç‚¹ls[4]çš„å€¼ä¸º3ï¼› 2. b3 PKb0ï¼Œb3èƒœb0è´Ÿï¼Œå†…éƒ¨ç»“ç‚¹ls[2]çš„å€¼ä¸º3ï¼› 3. b1 PKb2ï¼Œb1èƒœb2è´Ÿï¼Œå†…éƒ¨ç»“ç‚¹ls[3]çš„å€¼ä¸º1ï¼› 4. b3 PKb1ï¼Œb3èƒœb1è´Ÿï¼Œå†…éƒ¨ç»“ç‚¹ls[1]çš„å€¼ä¸º3ã€‚</p><p>å–å‡ºèƒœè€…b3ä¹‹åï¼Œå¶å­ç»“ç‚¹b3çš„å€¼å˜ä¸º11æ—¶ï¼Œé‡æ„çš„èƒœè€…æ ‘å¦‚ä¸‹:</p><figure><img src="/img/èƒœè€…æ ‘è´¥è€…æ ‘/fig2.jpg" alt="fig2" /><figcaption aria-hidden="true">fig2</figcaption></figure><ol type="1"><li>b3 PK b4ï¼Œb3èƒœb4è´Ÿï¼Œå†…éƒ¨ç»“ç‚¹ls[4]çš„å€¼ä¸º3ï¼›</li><li>b3 PK b0ï¼Œb0èƒœb3è´Ÿï¼Œå†…éƒ¨ç»“ç‚¹ls[2]çš„å€¼ä¸º0ï¼›</li><li>b1 PK b2ï¼Œb1èƒœb2è´Ÿï¼Œå†…éƒ¨ç»“ç‚¹ls[3]çš„å€¼ä¸º1ï¼›</li><li>b0 PK b1ï¼Œb1èƒœb0è´Ÿï¼Œå†…éƒ¨ç»“ç‚¹ls[1]çš„å€¼ä¸º1ã€‚</li></ol><p>ç”¨èƒœè€…æ ‘å¯¹nä¸ªèŠ‚ç‚¹å®ç°æ’åºæ“ä½œï¼Œæ„å»ºèƒœè€…æ ‘å’Œæ„å»ºå †æ¯”è¾ƒç›¸ä¼¼ï¼ŒåŒºåˆ«åœ¨äºèƒœè€…æ ‘åªæœ‰å¶å­èŠ‚ç‚¹å­˜æ”¾äº†æ•°æ®ï¼Œä¸­é—´èŠ‚ç‚¹è®°å½•çš„æ˜¯å¶å­èŠ‚ç‚¹é—´çš„å…³ç³»ã€‚</p><p>èƒœè€…æ ‘åœ¨æ¯æ¬¡é‡æ„æ—¶åªéœ€ä¸å…¶å…„å¼Ÿç»“ç‚¹æ¯”è¾ƒï¼Œä¸€ç›´åˆ°æ ¹èŠ‚ç‚¹é€‰å‡ºèƒœè€…ä¸ºæ­¢ã€‚</p><h2 id="è´¥è€…æ ‘">è´¥è€…æ ‘</h2><p>è´¥è€…æ ‘æ˜¯èƒœè€…æ ‘çš„ä¸€ç§å˜ä½“ã€‚åœ¨è´¥è€…æ ‘ä¸­ï¼Œç”¨çˆ¶ç»“ç‚¹è®°å½•å…¶å·¦å³å­ç»“ç‚¹è¿›è¡Œæ¯”èµ›çš„è´¥è€…ï¼Œè€Œè®©èƒœè€…å‚åŠ ä¸‹ä¸€è½®çš„æ¯”èµ›ã€‚è´¥è€…æ ‘çš„æ ¹ç»“ç‚¹è®°å½•çš„æ˜¯è´¥è€…ï¼Œéœ€è¦åŠ ä¸€ä¸ªç»“ç‚¹æ¥è®°å½•æ•´ä¸ªæ¯”èµ›çš„èƒœåˆ©è€…ã€‚é‡‡ç”¨è´¥è€…æ ‘å¯ä»¥ç®€åŒ–é‡æ„çš„è¿‡ç¨‹ã€‚</p><figure><img src="/img/èƒœè€…æ ‘è´¥è€…æ ‘/fig3.jpg" alt="fig3" /><figcaption aria-hidden="true">fig3</figcaption></figure><p>ä¸Šå›¾æ˜¯ä¸€æ£µè´¥è€…æ ‘ã€‚è§„å®šæ•°å¤§è€…è´¥ã€‚</p><ol type="1"><li>b3 PK b4ï¼Œb3èƒœb4è´Ÿï¼Œå†…éƒ¨ç»“ç‚¹ls[4]çš„å€¼ä¸º4ï¼›</li><li>b3 PK b0ï¼Œb3èƒœb0è´Ÿï¼Œå†…éƒ¨ç»“ç‚¹ls[2]çš„å€¼ä¸º0ï¼›</li><li>b1 PK b2ï¼Œb1èƒœb2è´Ÿï¼Œå†…éƒ¨ç»“ç‚¹ls[3]çš„å€¼ä¸º2ï¼›</li><li>b3 PK b1ï¼Œb3èƒœb1è´Ÿï¼Œå†…éƒ¨ç»“ç‚¹ls[1]çš„å€¼ä¸º1ï¼›</li></ol><p>è´¥è€…æ ‘é‡æ„è¿‡ç¨‹å¦‚ä¸‹ï¼š -å°†æ–°è¿›å…¥é€‰æ‹©æ ‘çš„ç»“ç‚¹ä¸å…¶çˆ¶ç»“ç‚¹è¿›è¡Œæ¯”èµ›ï¼šå°†è´¥è€…å­˜æ”¾åœ¨çˆ¶ç»“ç‚¹ä¸­ï¼›è€Œèƒœè€…å†ä¸ä¸Šä¸€çº§çš„çˆ¶ç»“ç‚¹æ¯”è¾ƒã€‚-æ¯”èµ›æ²¿ç€åˆ°æ ¹ç»“ç‚¹çš„è·¯å¾„ä¸æ–­è¿›è¡Œï¼Œç›´åˆ°ls[1]å¤„ã€‚æŠŠè´¥è€…å­˜æ”¾åœ¨ç»“ç‚¹ls[1]ä¸­ï¼Œèƒœè€…å­˜æ”¾åœ¨ls[0]ä¸­ã€‚</p><figure><img src="/img/èƒœè€…æ ‘è´¥è€…æ ‘/fig4.jpg" alt="fig4" /><figcaption aria-hidden="true">fig4</figcaption></figure><h2 id="èƒœè€…æ ‘è´¥è€…æ ‘å †æ¯”è¾ƒ">èƒœè€…æ ‘ã€è´¥è€…æ ‘ã€å †æ¯”è¾ƒ</h2><h3 id="ç›¸åŒç‚¹">ç›¸åŒç‚¹</h3><p>è¿™ä¸‰è€…ç©ºé—´å’Œæ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ä¸€æ ·çš„ã€‚è°ƒæ•´ä¸€æ¬¡çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(logN)çš„ã€‚</p><h3 id="ä¸åŒç‚¹">ä¸åŒç‚¹</h3><p>ä¸€å¼€å§‹å°±æ˜¯åªæœ‰å †æ¥å®Œæˆå¤šè·¯å½’å¹¶çš„ï¼Œä½†æ˜¯äººä»¬å‘ç°å †æ¯æ¬¡å–å‡ºæœ€å°å€¼ä¹‹åï¼ŒæŠŠæœ€åä¸€ä¸ªæ•°æ”¾åˆ°å †é¡¶ï¼Œ<strong>è°ƒæ•´å †çš„æ—¶å€™ï¼Œæ¯æ¬¡éƒ½è¦é€‰å‡ºçˆ¶ç»“ç‚¹çš„ä¸¤ä¸ªå­©å­èŠ‚ç‚¹çš„æœ€å°å€¼ï¼Œç„¶åå†ç”¨å­©å­ç»“ç‚¹çš„æœ€å°å€¼å’Œçˆ¶èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼Œæ‰€ä»¥æ¯è°ƒæ•´ä¸€å±‚éœ€è¦æ¯”è¾ƒä¸¤æ¬¡</strong>ã€‚</p><p>è¿™æ—¶äººä»¬æƒ³èƒ½å¦ç®€åŒ–æ¯”è¾ƒè¿‡ç¨‹ï¼Œè¿™æ—¶å°±æœ‰äº†èƒœè€…æ ‘ã€‚è¿™æ ·<strong>æ¯æ¬¡æ¯”è¾ƒåªç”¨è·Ÿè‡ªå·±çš„å…„å¼Ÿç»“ç‚¹è¿›è¡Œæ¯”è¾ƒå°±å¥½</strong>ï¼Œæ‰€ä»¥ç”¨èƒœè€…æ ‘å¯ä»¥æ¯”å †å°‘ä¸€åŠçš„æ¯”è¾ƒæ¬¡æ•°ã€‚</p><p>è€Œ<strong>èƒœè€…æ ‘æƒ³è¦æ¯”è¾ƒå…„å¼Ÿç»“ç‚¹é¦–å…ˆè¦è·å¾—å…¶çˆ¶ç»“ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¯´éœ€è¦è®¿å­˜ä¸¤æ¬¡</strong>ï¼Œè¿™æ—¶äººä»¬åˆæƒ³èƒ½å¦å†æ¬¡å‡å°‘æ¯”è¾ƒæ¬¡æ•°ï¼Œäºæ˜¯å°±æœ‰äº†è´¥è€…æ ‘ã€‚è´¥è€…æ ‘æ¯ä¸ªæ–°å…ƒç´ ä¸Šå‡æ—¶ï¼Œ<strong>åªéœ€è¦è·å¾—çˆ¶èŠ‚ç‚¹å¹¶æ¯”è¾ƒå³å¯</strong>ã€‚</p><p>æ€»çš„æ¥è¯´ï¼Œè´¥è€…æ ‘ä¸èƒœè€…æ ‘ç›¸æ¯”å‡å°‘äº†è®¿å­˜æ—¶é—´ã€‚<strong>ç°åœ¨ç¨‹åºçš„ä¸»è¦ç“¶é¢ˆåœ¨äºè®¿å­˜äº†ï¼Œè®¡ç®—å€’å‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡äº†</strong>ã€‚</p><h2 id="å‚è€ƒ">å‚è€ƒ</h2><ol type="1"><li><ahref="https://www.cnblogs.com/qianye/archive/2012/11/25/2787923.html#:~:text=%E8%83%9C%E8%80%85%E6%A0%91%E5%92%8C%E8%B4%A5%E8%80%85%E6%A0%91%E9%83%BD%E6%98%AF%E5%AE%8C%E5%85%A8,%E6%97%B6%E9%97%B4%E5%86%85%E6%89%BE%E5%88%B0%E6%9C%80%E5%80%BC%E3%80%82">èƒœè€…æ ‘å’Œè´¥è€…æ ‘</a></li><li><ahref="https://blog.csdn.net/haolexiao/article/details/53488314">å †ï¼Œèµ¢è€…æ ‘ï¼Œè´¥è€…æ ‘çš„åŒºåˆ«ä¸è”ç³»</a></li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
